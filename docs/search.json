[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Données des aires protégées à Madagascar",
    "section": "",
    "text": "1 Conserver l’histoire des aires protégées à Madagascar : un modèle de données dynamique (2000-2024)",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Conserver l'histoire des aires protégées à Madagascar : un modèle de données dynamique (2000-2024)</span>"
    ]
  },
  {
    "objectID": "index.html#résumé",
    "href": "index.html#résumé",
    "title": "Données des aires protégées à Madagascar",
    "section": "1.1 Résumé",
    "text": "1.1 Résumé\nLes données spatiales sur les aires protégées sont essentielles pour les études de conservation. Cependant, les bases existantes se limitent souvent aux frontières actuelles, ignorant les évolutions historiques. Cette lacune engendre des biais dans l’analyse de leur impact environnemental et social. Dans ce projet, nous proposons un modèle de données dynamique documentant l’évolution des aires protégées à Madagascar de 2000 à 2024. Ce modèle inclut chaque état successif avec ses périodes de validité, fournissant une base analytique plus robuste. Les données seront publiées en accès libre pour favoriser leur utilisation par la communauté scientifique et les praticiens.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Conserver l'histoire des aires protégées à Madagascar : un modèle de données dynamique (2000-2024)</span>"
    ]
  },
  {
    "objectID": "index.html#contexte-et-enjeux",
    "href": "index.html#contexte-et-enjeux",
    "title": "Données des aires protégées à Madagascar",
    "section": "1.2 Contexte et enjeux",
    "text": "1.2 Contexte et enjeux\n\n1.2.1 Importance des données ouvertes\nMadagascar, confronté à une extrême pauvreté, dispose de ressources limitées pour gérer ses données administratives, notamment dans le domaine de la conservation. Par exemple, les données relatives à la conservation à Madagascar ont longtemps été rendues accessibles sur le portail “Redbioma”, mais ce dernier aujourd’hui hors ligne et les jeux de données qu’il contenait sont introuvables. La mise à disposition de données sur un portail open data pérenne adossé à des procédures d’archivage renforce leur accessibilité, transparence, reproductibilité, et surtout leur persistance.\n\n\n1.2.2 Limites des approches actuelles\nLes bases de données nationales et internationales incluent généralement les caractéristiques actuelles des aires protégées sans tenir compte des modifications passées. Cette approche statique entraîne des pertes d’informations et des biais dans l’évaluation des impacts ou l’étude des dynamiques historiques, notamment dans le contexte des changements de limites (“degazetting”).",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Conserver l'histoire des aires protégées à Madagascar : un modèle de données dynamique (2000-2024)</span>"
    ]
  },
  {
    "objectID": "index.html#originalité-de-la-solution",
    "href": "index.html#originalité-de-la-solution",
    "title": "Données des aires protégées à Madagascar",
    "section": "1.3 Originalité de la solution",
    "text": "1.3 Originalité de la solution\nNotre méthodologie repose sur :\n\nUne documentation exhaustive : Compilation de données issues de cartographies historiques, décrets, gestionnaires d’aires protégées, et autres sources.\nTraçabilité et contrôle de version : Chaque modification est documentée dans un système de gestion de version pour garantir une transparence totale.\nFormats adaptés : Les données sont proposées au format GeoParquet pour les analyses standard et en GML ou OGC Moving Features pour des besoins avancés.\nConstruction rétrospective : La base est reconstruite à partir des états récents vers les états passés.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Conserver l'histoire des aires protégées à Madagascar : un modèle de données dynamique (2000-2024)</span>"
    ]
  },
  {
    "objectID": "index.html#méthodologie",
    "href": "index.html#méthodologie",
    "title": "Données des aires protégées à Madagascar",
    "section": "1.4 Méthodologie",
    "text": "1.4 Méthodologie\n\nHarmonisation des données SAPM : Consolidation des versions successives, notamment entre 2002 et 2011.\nHarmonisation des données WDPA : Intégration des données internationales selon la même approche.\nCréation d’une base réglementaire : Extraction et structuration des textes juridiques via la base CNLEGIS.\nAnalyse et consolidation : Croisement des sources pour produire un ensemble cohérent.\nOutil de vérification visuelle : Développement d’un outil interactif pour valider la qualité et la traçabilité des données consolidées.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Conserver l'histoire des aires protégées à Madagascar : un modèle de données dynamique (2000-2024)</span>"
    ]
  },
  {
    "objectID": "index.html#résultats-attendus",
    "href": "index.html#résultats-attendus",
    "title": "Données des aires protégées à Madagascar",
    "section": "1.5 Résultats attendus",
    "text": "1.5 Résultats attendus\nNous publions un jeu de données couvrant Madagascar entre 2000 et 2024, accessible via un portail pérenne. Ce modèle permettra de corriger des biais observés dans des études emblématiques, offrant des conclusions plus fiables sur l’impact de la conservation.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Conserver l'histoire des aires protégées à Madagascar : un modèle de données dynamique (2000-2024)</span>"
    ]
  },
  {
    "objectID": "index.html#perspectives",
    "href": "index.html#perspectives",
    "title": "Données des aires protégées à Madagascar",
    "section": "1.6 Perspectives",
    "text": "1.6 Perspectives\nCe projet contribue à une meilleure compréhension des dynamiques de conservation et propose un cadre méthodologique réplicable dans d’autres contextes. En intégrant des pratiques ouvertes et transparentes, il répond aux défis de la gestion des données dans les pays en développement tout en offrant des outils adaptés aux besoins des chercheurs et gestionnaires.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Conserver l'histoire des aires protégées à Madagascar : un modèle de données dynamique (2000-2024)</span>"
    ]
  },
  {
    "objectID": "01_sapm_data.html",
    "href": "01_sapm_data.html",
    "title": "2  Harmonisation des données SAPM",
    "section": "",
    "text": "2.1 ANGAP 2002\nDans cette section, nous passons en revue plusieurs jeux de données ayant documenté les aires protégées à Madagascar à différentes périodes. Ces données, issues de sources officielles, ont été produites et mises à jour par différentes institutions. Nous les harmonisons en appliquant un ensemble de traitements standardisés :\nCes opérations visent à rendre comparables des jeux de données produits à des moments différents et selon des logiques institutionnelles variées. Elles permettent la construction d’une série temporelle cohérente, indispensable à toute analyse historique ou comparative sur les dynamiques de conservation à Madagascar.\nCes opérations sont réalisées avec R, avec une série de package appropriés.\nAvant la création du SAPM, l’ANGAP était la seule entité chargée de gérer les aires protégées, et donc leurs données. L’ANGAP avait dans ce cadre transmis à l’institut national de géographie malgache (FTM) pour la mise à jour de la base de donnée topographique (BD 500).\nCode\n# Load and preprocess the shapefile\nangap_2002 &lt;- st_read(\n  paste0(data_dir, \"ap_angap BD 500/ap_angap.shp\"),\n  quiet = TRUE\n) %&gt;%\n  st_set_crs(my_crs) %&gt;% # Laborde Magasiaraka CRS\n  clean_pa_names_cols(name_cols = \"NOM\") %&gt;%\n  mutate(\n    has_info = ifelse(\n      is.na(CLASSEMENT),\n      \"Attributs absents\",\n      \"Attributs présents\"\n    ),\n    has_name = case_when(\n      is.na(NOM) ~ \"Pas de nom\",\n      NOM == \"Hors AP\" ~ \"Hors AP\",\n      .default = \"Nommé\"\n    )\n  )\n\n# Separate datasets: \"Pas de nom\", \"Hors AP\", and \"Nommé\"\nangap_pas_de_nom &lt;- angap_2002 %&gt;% filter(has_name == \"Pas de nom\")\nangap_hors_ap &lt;- angap_2002 %&gt;% filter(has_name == \"Hors AP\")\nangap_named &lt;- angap_2002 %&gt;% filter(has_name == \"Nommé\")\n\n# Set tmap to interactive mode\ntmap_mode(\"view\")\n\n# Create the map with three layers\ntm_shape(angap_named) +\n  tm_fill(\n    col = \"has_info\",\n    id = \"NOM\",\n    popup.vars = names(st_drop_geometry(angap_named))\n  ) +\n  tm_borders(col = \"black\", lwd = 0.5) + # Default borders for named features\n  tm_shape(angap_pas_de_nom) +\n  tm_fill(\n    col = \"has_info\",\n    id = \"NOM\",\n    popup.vars = names(st_drop_geometry(angap_pas_de_nom)),\n    legend.show = FALSE\n  ) +\n  tm_borders(col = \"red\", lwd = 3) + # Thick red borders for \"Pas de nom\"\n  tm_shape(angap_hors_ap) +\n  tm_fill(\n    col = \"has_info\",\n    id = \"NOM\",\n    popup.vars = names(st_drop_geometry(angap_hors_ap)),\n    legend.show = FALSE\n  ) +\n  tm_borders(col = \"blue\", lwd = 3) + # Thick blue borders for \"Hors AP\"\n  tm_add_legend(\n    type = \"fill\",\n    labels = c(\"Pas de nom\", \"Hors AP\"),\n    col = c(\"red\", \"blue\"),\n    lwd = c(3, 3, 0.5),\n    title = \"Contour\"\n  )\nLe champ “classement” de ce jeu de données fait référence à des décrets parus jusqu’en 1998, mais il fait aussi référence à 11 entités qui n’ont pas de métadonnées les caractérisant.\nParmi celles-ci, 6 n’ont pas de nom :\nLe jeu de données n’inclut pas de métadonnées explicitant sa date, mais il nous a été remis avec l’explication qu’il s’agissait d’un jeu datant de 2002. Cette assertion est cohérente avec le fait que le jeu de donnée inclut l’extension d’Ankarafantsika opérée en 2002, mais pas les création [Compléter].\nOn effectue donc les opération suivantes : identification des polygones sans nom qui font visiblement partie d’une AP, regroupement des polygones simples en multipolygones s’ils ont les mêmes attributs, et suppression des polygones explicitement référencés comme “Hors AP”.\nCode\nangap_2002 &lt;- angap_2002 %&gt;%\n  select(APBON = APBON_, APBON_ID, NOM, TYPE_AP, CLASSEMENT, IUCN) %&gt;%\n  mutate(\n    NOM = case_when(\n      # Rename the patches visibly included in PAs\n      APBON_ID %in% c(100006, 100005) ~ \"Ranomafana\",\n      APBON_ID %in% c(100002, 100003, 100004) ~ \"Masoala\",\n      APBON == 27 ~ \"Baie de Baly\",\n      .default = NOM\n    )\n  ) %&gt;%\n  group_by(across(NOM:IUCN)) %&gt;%\n  summarize(geometry = st_union(geometry)) %&gt;%\n  ungroup() %&gt;%\n  filter(NOM != \"Hors AP\") # Discard the explicitely labelled as not PA\n\nwrite_rds(angap_2002, \"data/no_id/angap_2002.rds\")\n\ntm_shape(angap_2002) +\n  tm_polygons()\nLe résultat est présenté dans la carte ci-dessus.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Harmonisation des données SAPM</span>"
    ]
  },
  {
    "objectID": "01_sapm_data.html#angap-2002",
    "href": "01_sapm_data.html#angap-2002",
    "title": "2  Harmonisation des données SAPM",
    "section": "",
    "text": "Le Parc National d’Ankarafantsika, né en 2002 de la fusion de la réserve naturelle intégrale n°15 d’Ankarafantsika et de la réserve - forestière d’Anktarafantsika.\nMantadia, dont les limites ont été étendues en 2002.\nTsingy de Namoroka, créé en 1927 et devenu parc national en 2002.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Harmonisation des données SAPM</span>"
    ]
  },
  {
    "objectID": "01_sapm_data.html#mnp-2010",
    "href": "01_sapm_data.html#mnp-2010",
    "title": "2  Harmonisation des données SAPM",
    "section": "2.2 MNP 2010",
    "text": "2.2 MNP 2010\nDonnées historiques MNP fournies par le responsable des données spatiales de l’institution (coauteur du présent travail). Elles représentent un état des périmètres d’aires protégées autour de 2010. Le seul attribut pertinent est le nom.\n\n\nCode\n# Chargement des données historiques MNP\nmnp_2010 &lt;- st_read(\n  \"data/no_id/allAP_ap2000_2010_Merge_Lab/allAP_ap2000_2010_Merge_Lab.shp\",\n  quiet = TRUE\n) %&gt;%\n  st_set_crs(29701) %&gt;% # CRS d’origine\n  st_transform(my_crs) # Harmonisation en Laborde\n\n# Nettoyage et standardisation des noms\nmnp_2010 &lt;- mnp_2010 %&gt;%\n  mutate(\n    NOM = NAME_BASE %&gt;%\n      str_remove(\"\\\\s*-\\\\s*2000\\\\s*2010$\") %&gt;%\n      str_remove(\"\\\\s+[0-9]+$\") %&gt;% # remove trailing numeric part\n      str_replace_all(\"[\\r\\n\\t]\", \" \") %&gt;%\n      str_squish() %&gt;%\n      str_trim()\n  )\n\n# Conservation des seuls attributs pertinents\nmnp_2010 &lt;- mnp_2010 %&gt;%\n  select(NOM)\n\n# Correction des géométries et consolidation par aire protégée\nmnp_2010 &lt;- mnp_2010 %&gt;%\n  st_make_valid() %&gt;%\n  group_by(NOM) %&gt;%\n  summarise(\n    geometry = st_union(geometry),\n    .groups = \"drop\"\n  ) %&gt;%\n  st_collection_extract(\"POLYGON\") %&gt;%\n  st_cast(\"MULTIPOLYGON\")\n\n# Sauvegarde du jeu de données harmonisé\nwrite_rds(mnp_2010, \"data/no_id/mnp_2010.rds\")\n\n# Visualisation rapide de contrôle\ntm_shape(mnp_2010) +\n  tm_borders(col = \"black\")",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Harmonisation des données SAPM</span>"
    ]
  },
  {
    "objectID": "01_sapm_data.html#sapm-2010",
    "href": "01_sapm_data.html#sapm-2010",
    "title": "2  Harmonisation des données SAPM",
    "section": "2.3 SAPM 2010",
    "text": "2.3 SAPM 2010\nLe site REBIOMA qui mettait en ligne les données du SAPM ne fonctionne plus depuis 2019 d’après les sauvegardes régulières effectuées par Internet Archive. Heureusement, une copie des données datées du 10/12/2010 a été sauvegardée par Ghislain Vieilledent et publié en accompagnement d’une publication (Vieilledent et al. 2020).\n\n\nCode\nsapm_2010 &lt;- st_read(\n  paste0(data_dir, \"Vieilledent_sapm_20101220/AP-NAP_38s.shp\"),\n  quiet = TRUE,\n  options = \"ENCODING=WINDOWS-1252\"\n) %&gt;%\n  st_transform(my_crs) %&gt;%\n  clean_pa_names_cols(name_cols = \"NOM\")\n\nwrite_rds(sapm_2010, \"data/no_id/sapm_2010.rds\")\n\ntm_shape(sapm_2010) +\n  tm_borders(col = \"purple\")",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Harmonisation des données SAPM</span>"
    ]
  },
  {
    "objectID": "01_sapm_data.html#evolution-du-sapm-2002-2011",
    "href": "01_sapm_data.html#evolution-du-sapm-2002-2011",
    "title": "2  Harmonisation des données SAPM",
    "section": "2.4 Evolution du SAPM 2002-2011",
    "text": "2.4 Evolution du SAPM 2002-2011\nCe jeu de données a été publié en ligne par un consultant du SAPM, avec la référence suivante : Evolution of the Madagascar Protected Area System (SAPM), Tom Allnut, https://hub.arcgis.com/content/4218737646234c7cab1c7a20e2c2489d/about\nIt is provided as a .mpk, which is in fact a zip including shapefiles. We convert to Zip and open the shapefiles.\n\n\nCode\n# Specify the directory path\ndir_path &lt;- paste0(data_dir, \"sapm_evolution_2012/commondata/data1\")\n\n# List all .shp files in the directory\nshapefile_paths &lt;- list.files(\n  path = dir_path,\n  pattern = \"\\\\.shp$\",\n  full.names = TRUE,\n  recursive = TRUE\n)\n\n# Extract the filenames without the full path\nshapefile_names &lt;- basename(shapefile_paths)\n\n# Filter shapefiles with a date in the filename (e.g., \"2008\", \"2009\", etc.)\ndate_shapefiles &lt;- shapefile_paths[str_detect(shapefile_names, \"20[0-9]{2}\")]\n\n# Load and bind the shapefiles\nsapm_evol_2001_2011 &lt;- date_shapefiles %&gt;%\n  map(\n    ~ st_read(.x, quiet = TRUE) %&gt;% # Read each shapefile\n      clean_pa_names_cols(name_cols = \"NOM\")\n  ) %&gt;% # and clean PA name\n  reduce(bind_rows) %&gt;%\n  mutate(YEAR = str_extract(YEAR, \"\\\\d{4}\")) %&gt;% # Extract the 4-digit year\n  st_transform(crs = my_crs) # On passe les données en laborde malgache\n\nsapm_evol_2001_2011 %&gt;%\n  filter(YEAR == 2002) %&gt;%\n  tm_shape() +\n  tm_borders(col = \"blue\") +\n  tm_shape(angap_2002) +\n  tm_fill(col = \"red\", alpha = 0.5)\n\n\n\n\n\n\nCode\n# Save the data to a specified path\nwrite_rds(sapm_evol_2001_2011, \"data/no_id/sapm_evol_2001_2011.rds\")\n\n\nLa superposition des limites extraites de cette série temporelle avec celles issues de la base ANGAP 2002 permet de visualiser les premiers recouvrements et écarts.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Harmonisation des données SAPM</span>"
    ]
  },
  {
    "objectID": "01_sapm_data.html#sapm-2017",
    "href": "01_sapm_data.html#sapm-2017",
    "title": "2  Harmonisation des données SAPM",
    "section": "2.5 SAPM 2017",
    "text": "2.5 SAPM 2017\nCe jeu de données nous a été remis par la FAPBM. Il s’agit visiblement des données SAPM mises à jour en mars 2017.\nL’un des points du périmètre de l’aire protégée Andrafiamena Andavakoera (index 32, sommet numéro 841) est localisé de manière aberrante, formant un papillon et entraînant des erreurs topologiques. La fonction st_make_valid retire ce point aberrant.\n\n\nCode\n# Load and transform data\nsapm_2017 &lt;- st_read(\n  paste0(data_dir, \"sapm_201703017_om_surface/sapm_201703017_om_surface.shp\"),\n  options = \"ENCODING=WINDOWS-1252\",\n  quiet = TRUE\n) %&gt;%\n  st_transform(my_crs) %&gt;%\n  st_make_valid() %&gt;%\n  clean_pa_names_cols(name_cols = c(\"SHORT_NAME\", \"FULL_NAME\"))\n\n# Save the data\nwrite_rds(sapm_2017, \"data/no_id/sapm_2017.rds\")\n\ntm_shape(sapm_2017) +\n  tm_polygons(col = \"CATEG_IUCN\")",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Harmonisation des données SAPM</span>"
    ]
  },
  {
    "objectID": "01_sapm_data.html#vahatra-2017",
    "href": "01_sapm_data.html#vahatra-2017",
    "title": "2  Harmonisation des données SAPM",
    "section": "2.6 Vahatra 2017",
    "text": "2.6 Vahatra 2017\n\n\nCode\nload(\"sources/AP_Vahatra.rds\")\nAP_Vahatra %&gt;%\n  st_transform(my_crs) %&gt;%\n  clean_pa_names_cols(name_cols = c(\"nom\", \"full_name\", \"nom_wdpa\")) %&gt;%\n  write_rds(\"data/no_id/vahatra.rds\")\n\n\ndans certaines entités.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Harmonisation des données SAPM</span>"
    ]
  },
  {
    "objectID": "01_sapm_data.html#sapm-2024",
    "href": "01_sapm_data.html#sapm-2024",
    "title": "2  Harmonisation des données SAPM",
    "section": "2.7 SAPM 2024",
    "text": "2.7 SAPM 2024\nCe jeu de données constitue l’état le plus récent de la base SAPM. Il inclut de nouvelles aires protégées récemment créées ainsi que des ajustements sur les périmètres existants.\n\n\nCode\n# Load shapefile\nsapm_2024 &lt;- st_read(\n  paste0(data_dir, \"Shape AP mai2023/dernier version shape_ap_28042023.shp\"),\n  quiet = TRUE\n)\n\n# Check for invalid geometries\ninvalid_geometries &lt;- sapm_2024 %&gt;%\n  st_zm(drop = TRUE, what = \"ZM\") %&gt;% # &lt;- remove Z and M before anything else\n  rownames_to_column(var = \"index\") %&gt;%\n  rowwise() %&gt;%\n  mutate(is_valid = st_is_valid(geometry)) %&gt;%\n  filter(!is_valid) %&gt;%\n  select(Index = index, Nom = SHORT_NAME, Source = path)\n\n# Create a folder to save the images\noutput_dir &lt;- \"invalid_geometry_plots\"\ndir.create(output_dir, showWarnings = FALSE)\n\n# Loop through invalid geometries and save the plots\nfor (i in seq_len(nrow(invalid_geometries))) {\n  geometry_index &lt;- invalid_geometries$Index[i]\n\n  # Generate a file name\n  plot_file &lt;- file.path(\n    output_dir,\n    paste0(\"geometry_\", geometry_index, \".png\")\n  )\n\n  # Save the plot\n  png(plot_file)\n  plot(st_geometry(sapm_2024[geometry_index, ]))\n  dev.off()\n}\n\n# Add image file paths to the invalid geometries table\ninvalid_geometries &lt;- invalid_geometries %&gt;%\n  mutate(\n    Geometrie = paste0(output_dir, \"/geometry_\", Index, \".png\")\n  )\n\n# Display the table with gt\nif (nrow(invalid_geometries) == 0) {\n  message(\"All geometries are valid.\")\n} else {\n  invalid_geometries %&gt;%\n    st_drop_geometry() %&gt;%\n    gt() %&gt;%\n    text_transform(\n      locations = cells_body(columns = Geometrie),\n      fn = function(x) {\n        local_image(filename = x, height = 100) # Embed local image with specified height\n      }\n    ) %&gt;%\n    tab_header(\n      title = \"Géométries invalides\",\n      subtitle = \"Liste des géométries invalides\"\n    )\n}\n\n\n\n\n\n\n\n\nGéométries invalides\n\n\nListe des géométries invalides\n\n\nIndex\nNom\nSource\nGeometrie\n\n\n\n\n3\nCM7B\nNA\n\n\n\n8\nMangiho\nNA\n\n\n\n12\nIVOHIBORO\nD:\\ASA AP\\FOREST SHAPE.shp\n\n\n\n22\nBehara Tranomaro\nD:\\SHAPE AP\\Shapfile vaovao\\sapm_201703017_dd\\sapm_201703017_dd.shp\n\n\n\n34\nTorotorofotsy\nD:\\SHAPE AP\\Shapfile vaovao\\sapm_201703017_dd\\sapm_201703017_dd.shp\n\n\n\n47\nAndrafiamena Andavakoera\nD:\\SHAPE AP\\Shapfile vaovao\\sapm_201703017_dd\\sapm_201703017_dd.shp\n\n\n\n50\nMenabe Antimena\nD:\\SHAPE AP\\Shapfile vaovao\\sapm_201703017_dd\\sapm_201703017_dd.shp\n\n\n\n61\nAnalalava\nD:\\SHAPE AP\\Shapfile vaovao\\sapm_201703017_dd\\sapm_201703017_dd.shp\n\n\n\n65\nMakirovana Tsihomanaomby\nD:\\SHAPE AP\\Shapfile vaovao\\sapm_201703017_dd\\sapm_201703017_dd.shp\n\n\n\n68\nPointe à Larrée\nD:\\SHAPE AP\\Shapfile vaovao\\sapm_201703017_dd\\sapm_201703017_dd.shp\n\n\n\n70\nAntrema\nD:\\SHAPE AP\\Shapfile vaovao\\sapm_201703017_dd\\sapm_201703017_dd.shp\n\n\n\n107\nPic d'Ivohibe\nD:\\SHAPE AP\\Shapfile vaovao\\sapm_201703017_dd\\sapm_201703017_dd.shp\n\n\n\n108\nRanomafana\nD:\\SHAPE AP\\Shapfile vaovao\\sapm_201703017_dd\\sapm_201703017_dd.shp\n\n\n\n112\nZahamena\nD:\\SHAPE AP\\Shapfile vaovao\\sapm_201703017_dd\\sapm_201703017_dd.shp\n\n\n\n121\nBemanevika\nD:\\SHAPE AP\\Shapfile vaovao\\sapm_201703017_dd\\sapm_201703017_dd.shp\n\n\n\n131\nCOMATSA Nord\nD:\\SHAPE AP\\Shapfile vaovao\\sapm_201703017_dd\\sapm_201703017_dd.shp\n\n\n\n133\nNord-Ifotaka\nD:\\SHAPE AP\\Shapfile vaovao\\sapm_201703017_dd\\sapm_201703017_dd.shp\n\n\n\n\n\n\n\n\nCode\n# Now try to make this valid\n\nsapm_2024_valid &lt;- sapm_2024 %&gt;%\n  st_make_valid()\n\n# Identify invalid geometries\ninvalid_geometries &lt;- sapm_2024_valid %&gt;%\n  filter(!st_is_valid(geometry))\n\n#  Print the names (or identifiers) of the invalid geometries\n# Replace 'NOM' with the actual column containing the name or identifier\nif (nrow(invalid_geometries) &gt; 0) {\n  cat(\"Invalid geometries found:\\n\")\n  print(invalid_geometries$SHORT_NAME) # Adjust this to match your column name\n} else {\n  cat(\"All geometries are valid.\\n\")\n}\n\n\nInvalid geometries found:\n[1] \"CM7B\"                     \"Mangiho\"                 \n[3] \"IVOHIBORO\"                \"Andrafiamena Andavakoera\"\n\n\nCode\n# Step 5: Filter out invalid geometries for now to plot the valid ones\nsapm_2024_valid_clean &lt;- sapm_2024_valid %&gt;%\n  filter(st_is_valid(geometry)) %&gt;%\n  clean_pa_names_cols(name_cols = c(\"Name\", \"SHORT_NAME\")) %&gt;%\n  st_transform(my_crs)\n\nwrite_rds(sapm_2024_valid_clean, \"data/no_id/sapm_2024.rds\")\n\n# Step 6: Plot the valid geometries using tmap\ntm_shape(sapm_2024_valid_clean) +\n  tm_fill(col = \"blue\", alpha = 0.5) +\n  tm_shape(sapm_2017) +\n  tm_fill(col = \"red\", alpha = 0.5)\n\n\n\n\n\n\n\n\n\n\nVieilledent, Ghislain, Marie Nourtier, Clovis Grinand, Miguel Pedrono, Alison Clausen, Tsiky Rabetrano, Jean-Roger Rakotoarijaona, et al. 2020. “It’s Not Just Poverty: Unregulated Global Market and Bad Governance Explain Unceasing Deforestation in Western Madagascar.” BioRxiv, 2020–07.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Harmonisation des données SAPM</span>"
    ]
  },
  {
    "objectID": "02_wdpa_data.html",
    "href": "02_wdpa_data.html",
    "title": "3  Exploration of WDPA historical data",
    "section": "",
    "text": "3.1 Creation WDPA global historical database 2010-2024\nNous avons développé un jeu de données spatio-temporel consolidant les données mondiales publiées par la World Database on Protected Areas (WDPA) depuis 2010. Nous avons compilé un jeu de données par an, en prenant pour référence le mois d’octobre ou, lorsque les données d’octobre n’étaient pas disponibles, le mois le plus proche.\nLes sources ont été obtenues grâce à une recherche approfondie dans les archives pour récupérer les enregistrements historiques publiés par la WDPA, puisque seules les données les plus récentes sont disponibles publiquement sur protectedplanet.net. Google Earth Engine archive les données depuis 2017, et nous avons trouvé les données pour les années 2010 à 2016 dans le dépôt public AWS de l’UNEP-WCMC.\nLes schémas des données ont évolué au fil du temps, et nous avons entrepris des efforts d’harmonisation pour aligner les attributs entre les différentes versions du jeu de données.\nLe résultat est un jeu de données comprenant 2 721 134 enregistrements annuels d’aires protégées pour le monde entier. Les géométries des aires protégées sont complexes et représentent plus de 95 % du volume des données. La déduplication de ce nombre d’observations est une opération computationnellement intensive. Nous utilisons l’algorithme Blake3, une fonction de hachage cryptographique déterministe qui produit systématiquement la même valeur de hachage pour des données identiques, ce qui le rend extrêmement efficace pour la déduplication des données. Cet algorithme, l’un des plus performants disponibles, est implémenté en C dans notre code. Les hachages produits par Blake3 servent de clés pour séparer les données attributaires des données spatiales.\nAinsi, nous avons obtenu deux fichiers parquet contenant toutes les données WDPA des 15 dernières années pour 365 592 aires protégées : un fichier contenant 2 721 134 enregistrements annuels d’attributs des aires protégées (190 Mo) et un autre contenant 1 425 023 géométries spatiales uniques (13,9 Go).",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Exploration of WDPA historical data</span>"
    ]
  },
  {
    "objectID": "02_wdpa_data.html#creation-dune-base-wdpa-pour-madagascar-pour-2010-2024",
    "href": "02_wdpa_data.html#creation-dune-base-wdpa-pour-madagascar-pour-2010-2024",
    "title": "3  Exploration of WDPA historical data",
    "section": "3.2 Creation d’une base WDPA pour Madagascar pour 2010-2024",
    "text": "3.2 Creation d’une base WDPA pour Madagascar pour 2010-2024\nÀ partir de la base globale, nous extrayons les observations correspondant à Madagascar pour produire une base allégée dédiée à l’analyse nationale. Ce sous-ensemble est ensuite reprojeté dans le système de coordonnées local utilisé à Madagascar (Laborde, EPSG:29702).\n\n\nCode\nlibrary(tidyverse)\nlibrary(arrow)\nlibrary(geoarrow)\nlibrary(sf)\n\nmy_crs &lt;- 29702\n\n\n# Load parquet\nwdpa_mdg &lt;- read_parquet(\"sources/MDG_WDPA_Consolidated.parquet\") %&gt;%\n  mutate(geometry = st_as_sfc(geometry)) %&gt;%\n  st_as_sf() %&gt;%\n  st_transform(st_crs(my_crs))\n\nwrite_parquet(wdpa_mdg, \"data/MDG_WDPA_Consolidated.parquet\")\n\n\nNous pouvons ensuite produire des premiers indicateurs simples permettant de visualiser l’évolution du nombre et de la surface cumulée des aires protégées à Madagascar entre 2010 et 2024\n\n\nCode\n# Calculer le nombre d'aires protégées par année\nap_per_year &lt;- wdpa_mdg %&gt;%\n  st_drop_geometry() %&gt;%\n  group_by(data_year) %&gt;%\n  summarise(Number_of_APs = n())\n\n# Calculer la surface totale par année\narea_per_year &lt;- wdpa_mdg %&gt;%\n  st_drop_geometry() %&gt;%\n  group_by(data_year) %&gt;%\n  summarise(Total_Area = sum(GIS_AREA, na.rm = TRUE))\n\n# Graphique : Nombre d'aires protégées par année\nggplot(ap_per_year, aes(x = data_year, y = Number_of_APs)) +\n  geom_bar(stat = \"identity\", fill = \"blue\") +\n  labs(\n    title = \"Nombre d'aires protégées par année\",\n    x = \"Année\",\n    y = \"Nombre d'AP\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nCode\n# Graphique : Surface totale des aires protégées par année\nggplot(area_per_year, aes(x = data_year, y = Total_Area)) +\n  geom_bar(stat = \"identity\", fill = \"green\") +\n  labs(\n    title = \"Surface totale des aires protégées par année\",\n    x = \"Année\",\n    y = \"Surface totale (ha)\"\n  ) +\n  theme_minimal()",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Exploration of WDPA historical data</span>"
    ]
  },
  {
    "objectID": "03_legal_docs.html",
    "href": "03_legal_docs.html",
    "title": "4  Création d’une base réglementaire à partir de CNLEGIS",
    "section": "",
    "text": "4.1 Objet\nLe processus de création, modification ou disparition des aires protégées passe par des lois, décrets et arrêtés officiels. Ces éléments réglementaires sont dispersés dans divers textes juridiques, que nous allons ici collecter et consolider à partir de la base du Centre National d’Information et de Documentation Legislative et Juridique (CNLEGIS). Cette instance centralise les textes réglementaires à Madagascar et propose un moteur de recherche permettant de trouver les documents pertinents en fonction de recherches full-text. Cette section détaille la méthodologie employée pour collecter, traiter et structurer ces informations.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Création d'une base réglementaire à partir de CNLEGIS</span>"
    ]
  },
  {
    "objectID": "03_legal_docs.html#extraction-des-textes-pertinents",
    "href": "03_legal_docs.html#extraction-des-textes-pertinents",
    "title": "4  Création d’une base réglementaire à partir de CNLEGIS",
    "section": "4.2 Extraction des textes pertinents",
    "text": "4.2 Extraction des textes pertinents\nLa base CNLEGIS ne propose pas d’API, donc l’extraction a dû être réalisée manuellement, à partir de requête contenant les expressions reconnues pour désigner les aires protégées. Loi N° 90-033 du 21 décembre 1990 portant Charte de l’Environnement Malgache n’établissait pas de typologies pour les aires protégées et se référait simplement aux “parcs et réserves”. Dans la Loi n° 2001-005 portant code de gestion des aires protégées établissait trois catégories : Réserve naturelle intégrale, Parc national, et Réserve spéciale. La Loi n°2008-025 portant refonte du Code de Gestion des Aires Protégées étend cette liste à 7 catégories : La Réserve Naturelle Intégrale (RNI), le Parc National (PN), la Réserve Spéciale (RS), le Parc Naturel (PNAT), le Monument Naturel (MONAT), le Paysage Harmonieux Protégé (PHP), et la Réserve de Ressources Naturelles (RRN). La Loi n°2015-005 portant refonte du Code de Gestion des Aires Protégées reprend cette même liste.\nSur cette base, on a entré les requêtes suivantes, qui ont donné le nombre de résultats indiqués ensuite :\n\naire protégée : 131\nmonument naturel : 0\nparc national : 29\nparc naturel : 1\npaysage harmonieux : 1\nréserve naturelle : 12\nréserves naturelles :\nréserve spéciale : 21\nréserve de ressource : 0\nprotection temporaire globale : 3\nréserves de faunes : 1\nréserve de faune : 3\n\nLes résultats de chaque requête sont regroupées par pages contenant entre 1 et 2 réponses. Nous avons extrait les 25 pages web contenant les résultats ont été enregistrées localement. Le code ci-dessous extrait les informations pertinentes qu’elles contiennent, les nettoient et les restitue sous forme tabulaire.\n\n\nCode\nlibrary(rvest)\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(wdpar)\n\n# Specify the source repository\ndata_dir &lt;- \"sources/\"\n# Directory containing the HTML files\ninput_dir &lt;- paste0(data_dir, \"Décrets/CNLEGIS_complet\")\n\n\n# Columns to select\nkeep_columns &lt;- c(\n  \"DATE(S)\",\n  \"DATE TEXTES\",\n  \"TEXTE(S)\",\n  \"TYPE\",\n  \"NUM TEXTE\",\n  \"NUM\",\n  \"OBJET\",\n  \"OBJET MG\",\n  \"NUM JO\",\n  \"DATE JO\",\n  \"DATE JO FR\",\n  \"PAGE JO\",\n  \"ETAT\",\n  \"NOTE(S)\",\n  \"NOTES MG\",\n  \"DOC PDF FR\",\n  \"DOC PDF MG\",\n  \"MINISTERE(S)\",\n  \"id\",\n  \"HTML FR\",\n  \"HTML MG\"\n)\nkeep_types &lt;- c(\n  \"Constitution\",\n  \"Loi constitutionnelle\",\n  \"Loi organique\",\n  \"Loi\",\n  \"Ordonnance\",\n  \"Décret\",\n  \"Arrêté\",\n  \"Circulaire\",\n  \"Décision\",\n  \"Instruction\",\n  \"Note\",\n  \"Délibération\",\n  \"Arrêt\",\n  \"Avis\",\n  \"Palmarès\",\n  \"Procès verbal\",\n  \"Exposé des motifs de la loi\",\n  \"Jugement\",\n  \"Déclaration\"\n)\n\n# Function to clean column names\nclean_column_names &lt;- function(names) {\n  names %&gt;%\n    str_replace_all(\"\\\\(|\\\\)\", \"\") %&gt;% # Remove parentheses\n    str_replace_all(\" \", \"_\") %&gt;% # Replace spaces with underscores\n    str_to_lower() # Convert to lowercase\n}\n\n\n# Function to extract the desired table from a single HTML file\nextract_table &lt;- function(file_path) {\n  # Read the HTML file\n  html &lt;- read_html(file_path)\n\n  # Extract the table\n  table &lt;- html %&gt;%\n    html_node(\"table#Lst_docs\") %&gt;%\n    html_table(fill = TRUE)\n\n  # Select the relevant columns\n  selected_columns &lt;- table %&gt;%\n    select(all_of(keep_columns)) %&gt;%\n    filter(TYPE %in% keep_types)\n\n  colnames(selected_columns) &lt;- clean_column_names(colnames(selected_columns))\n\n  # Ensure all columns are converted to text\n  selected_columns &lt;- selected_columns %&gt;%\n    mutate(across(everything(), as.character))\n\n  return(selected_columns)\n}\n\n# Get a list of all HTML files in the directory\n# Directory containing the HTML files\ninput_dir_complet &lt;- paste0(data_dir, \"Décrets/CNLEGIS_complet\")\ninput_dir_add &lt;- paste0(data_dir, \"Décrets/CNLEGIS_add\")\n\n# Get a list of all HTML files from both directories\nhtml_files &lt;- c(\n  list.files(input_dir_complet, pattern = \"\\\\.html?$\", full.names = TRUE),\n  list.files(input_dir_add, pattern = \"\\\\.htm$\", full.names = TRUE)\n)\n\n# Apply the extraction function to all files\nall_results &lt;- map_dfr(html_files, extract_table) |&gt;\n  mutate(\n    # Clean invalid date values before parsing\n    date_jo = if_else(str_detect(date_jo, \"undefined\"), NA_character_, date_jo),\n    # Parse dates\n    date_txt = dmy(date_textes),\n    date_jo = dmy(date_jo),\n    # Use date_txt as fallback if date_jo is missing\n    date_jo = coalesce(date_jo, date_txt)\n  ) |&gt;\n  relocate(date_txt, date_jo, .before = everything())\n\nall_results |&gt;\n  select(\n    -html_fr,\n    -html_mg,\n    -objet_mg,\n    -textes,\n    -num,\n    -doc_pdf_fr,\n    -doc_pdf_mg\n  ) |&gt;\n  DT::datatable(height = 10)",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Création d'une base réglementaire à partir de CNLEGIS</span>"
    ]
  },
  {
    "objectID": "03_legal_docs.html#classification-par-type-de-réglement",
    "href": "03_legal_docs.html#classification-par-type-de-réglement",
    "title": "4  Création d’une base réglementaire à partir de CNLEGIS",
    "section": "4.3 Classification par type de réglement",
    "text": "4.3 Classification par type de réglement\nLes décisions identifiées ont des effets variés : certaines créent de nouvelles aires protégées, d’autres modifient leurs limites, tandis que d’autres prorogent leur statut. Nous appliquons des règles de typologie permettant d’assigner une catégorie à chaque texte.\n\n\nCode\n# Add typology columns\nclass_results &lt;- all_results %&gt;%\n  mutate(\n    creation_definitive = str_detect(\n      textes,\n      regex(\n        \"(?&lt;!en )(création|crétion de l'aire protégée)|instituant|classant\",\n        ignore_case = TRUE\n      )\n    ),\n    modifiant = str_detect(\n      textes,\n      regex(\"(modifi)|(changem)|Précis\", ignore_case = TRUE)\n    ),\n    prorogation = str_detect(textes, regex(\"prorog\", ignore_case = TRUE)),\n    delegation_gestion = str_detect(\n      textes,\n      regex(\"délégation de gestion\", ignore_case = TRUE)\n    ),\n    mise_protection_temporaire = str_detect(\n      textes,\n      regex(\"protection temporaire\", ignore_case = TRUE)\n    ),\n    nomination = str_detect(textes, regex(\"nomination\", ignore_case = TRUE))\n  ) %&gt;%\n  mutate(\n    total_true = rowSums(\n      select(., creation_definitive:nomination),\n      na.rm = TRUE\n    ),\n    concatenated_true = pmap_chr(\n      select(., creation_definitive:nomination),\n      ~ paste(names(which(c(...))), collapse = \", \")\n    ),\n    .before = everything()\n  ) %&gt;%\n  filter(!(total_true == 0)) %&gt;%\n  filter(!(total_true == 1 & nomination)) %&gt;% # On enlève le copil Sydney\n  filter(!(str_detect(textes, \"fonctionnement du Comité de Pilotage\"))) %&gt;%\n  filter(!(str_detect(textes, \"fonctionnement de la Commission\"))) %&gt;%\n  filter(!(str_detect(textes, \"organisation du Comité\")))\n\n\nDeux exceptions méritent d’être relevées :\n\nUn cas important est l’Arrêté Interministériel n° 18633/2008/MEFT/MEM du 17 octobre 2008 portant mise en protection temporaire globale des sites visés par l’Arrêté interministériel n° 17914 du 18 octobre 2006 et levant la suspension de l’octroi des permis miniers et forestiers pour certains sites. Cette décision s’applique à 97 nouvelles aires protégées en cours de création et 29 sites prioritaires pour la biodiversité et la gestion forestière.\n\nCe dernier a été amendé par l’Arrêté interministériel n° 52005/2010 du 20 décembre 2010 modifiant l’arrêté interministériel Mine-Forêts n°18633 du 17 octobre 2008 portant mise en protection temporaire globale des sites visés par l’arrêté n°17914 du 18 octobre 2006 et levant la suspension de l’octroi des permis miniers et forestiers pour certains sites. Cette décision s’applique à 95 aires protégées (24 ayant déjà un statut de protection temporaire).\n\nCes deux textes concernent une liste très étendue de sites potentiels, qui ne sont pas nommément listés dans le texte. On a juste une carte (peu précise) et une somme de zones concernées (en nombre et en surface). Nous devons donc croiser ces informations avec la base SAPM pour retrouver les sites affectés.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Création d'une base réglementaire à partir de CNLEGIS</span>"
    ]
  },
  {
    "objectID": "03_legal_docs.html#appariement-des-noms-daires-protégées-entre-cnlegis-et-sapm",
    "href": "03_legal_docs.html#appariement-des-noms-daires-protégées-entre-cnlegis-et-sapm",
    "title": "4  Création d’une base réglementaire à partir de CNLEGIS",
    "section": "4.4 Appariement des noms d’aires protégées entre CNLEGIS et SAPM",
    "text": "4.4 Appariement des noms d’aires protégées entre CNLEGIS et SAPM\nLes noms extraits des textes officiels peuvent varier par rapport aux noms standardisés dans les bases spatiales (SAPM, WDPA), en raison de différences d’orthographe, de formulation, ou de précision géographique. Un nettoyage et une extraction robuste sont donc nécessaires avant tout appariement.\n\n\nCode\nclass_results &lt;- class_results %&gt;%\n  mutate(\n    pa = str_extract(\n      textes,\n      regex(\"[\\\"«](.*?)[\\\"»,]|nommée\\\\s*(.*?)[»,]\", ignore_case = TRUE)\n    ),\n    pa = ifelse(\n      is.na(pa),\n      str_extract(\n        textes,\n        regex(\"nommée\\\\s*(.*?)[\\\"]\", ignore_case = TRUE)\n      ),\n      pa\n    ),\n    pa = ifelse(\n      str_detect(textes, \"respectivement\"),\n      str_extract(\n        textes,\n        regex(\"respectivement\\\\s+(.*?)(?=\\\\.|N°|ETAT)\", ignore_case = TRUE)\n      ),\n      pa\n    ),\n    # Add pattern for \"station forestière d'\" or \"réserve de faune\"\n    pa = ifelse(\n      is.na(pa) & str_detect(textes, \"station forestière d'\"),\n      str_extract(\n        textes,\n        regex(\"(?&lt;=station forestière d')[^,]+\", ignore_case = TRUE)\n      ),\n      pa\n    ),\n    pa = str_replace(pa, \"\\\"Complexe des Aires\", \"Complexe des Aires\"),\n    pa = str_remove(pa, \"^nommée\\\\s*\"), # Supprime \"nommée\"\n    pa = str_remove(pa, \"^respectivement\\\\s*\"), # Supprime \"nommée\"\n    pa = str_remove(pa, \"(?&lt;=\\\")[^\\\"«]*$\"), # Supprime tout après le 2e guillemet\n    pa = str_remove_all(pa, \"[\\\"«»]\"), # Supprime les quotes\n    pa = str_trim(pa), # Supprime les espaces en trop\n    pa = str_remove(pa, \",$\"),\n    pa = str_remove(pa, \"^'\"),\n    .before = textes\n  )\n\n# Cleans PA name columns only (e.g. NOM, SHORT_NAME, etc.)\n# You must specify which columns to clean\nclean_pa_names_cols &lt;- function(df, name_cols) {\n  df %&gt;%\n    mutate(across(\n      all_of(name_cols),\n      ~ .x %&gt;%\n        str_replace_all(\"[\\r\\n\\t]\", \" \") %&gt;% # replace line breaks, carriage returns, tabs with space\n        str_squish() %&gt;% # collapse multiple spaces into one\n        str_trim() # remove leading/trailing whitespace\n    ))\n}\n# Clean extracted PA names (remove \\r, \\n, tabs, trim spaces)\nclass_results &lt;- clean_pa_names_cols(class_results, name_cols = \"pa\")\n\npn_rs &lt;- c(\n  \"Andohahela\",\n  \"Nosy Mangabe\",\n  \"Montagne d'Ambre\",\n  \"Ankarafantsika\",\n  \"Analamazaotra\",\n  \"Kirindy Mite\",\n  \"Tsimanampesotse\",\n  \"Mikea\",\n  \"Nosy Hara\",\n  \"Nosy Tanikely\",\n  \"Lokobe\",\n  \"Ankarafantsika\",\n  \"Tsimanampetsotsa\",\n  \"Namokora\",\n  \"Mantadia\",\n  \"Marojejy\",\n  \"Kirindy Mite\",\n  \"Befotaka Midongy\",\n  \"Zombitse-Vohibasia\",\n  \"Baie de Baly\",\n  \"Tsingy-de-Bemaraha\",\n  \"Masoala\",\n  \"Mantadia\",\n  \"Isalo\",\n  \"montagne d'Ambre\",\n  \"Lokobe\",\n  \"Ankarafantsika\",\n  \"Tsimanampetsotsa\",\n  \"Namokora\",\n  \"Marojejy\",\n  \"Tsingy-de-Bemaraha\",\n  \"Andringitra\",\n  \"Ankarafantsika\",\n  \"Ankarafantsika\",\n  \"Nosy Mangabe\",\n  \"Montagne d'Ambre\",\n  \"Manongarivo\",\n  \"Ambatovaky\",\n  \"Beza-Mahafaly\",\n  \"Cap Sainte Marie\",\n  \"Anjanaharibe-Sud\",\n  \"forêt d'Ambohitantely\",\n  \"Manombo\",\n  \"île de Mangabe\",\n  \"Ambatovavy\",\n  \"pic d'Ivohibe\",\n  \"Mangerivola\",\n  \"Manombo\",\n  \"cap Sainte-Marie\",\n  \"forêt d'Ambre\",\n  \"forêt Tampoketsa d'Analamaitso\",\n  \"Andranomena\",\n  \"Anjanaharibe-Sud\",\n  \"Ambohijanahary\",\n  \"Pointe à Larrée\"\n) |&gt;\n  unique() |&gt;\n  sort()\n\nclass_results &lt;- class_results %&gt;%\n  mutate(\n    textes = str_replace_all(textes, \"[\\r\\n]\", \" \"),\n    textes = str_replace_all(textes, \"/\", \" \"),\n    textes = str_squish(textes),\n    pa = ifelse(\n      is.na(pa),\n      map_chr(\n        textes,\n        ~ first(pn_rs[str_detect(.x, pn_rs)], default = NA_character_)\n      ),\n      pa\n    ), # for some unkown reason, \"Pointe à Larrée is not recognized\n    pa = ifelse(num_texte == \"2015-773\", \"Pointe à Larrée\", pa), # Explicit assignment\n    pa = ifelse(num_texte == \"98-376\", \"Andrigitra\", pa) # Explicit assignment\n  )\n\nclass_results &lt;- class_results %&gt;%\n  mutate(\n    # For 2008, we find the list of PA created then\n    pa = ifelse(\n      num_texte == \"18633/2008\" |\n        num_texte == \"52005/2010\" |\n        num_texte == \"9874/2013\",\n      read_rds(\"data/no_id/sapm_2010.rds\") |&gt;\n        filter(YEAR_IMPLE == \"X\") |&gt;\n        pluck(\"NOM\") |&gt;\n        paste(collapse = \", \"),\n      pa\n    )\n  )\n\n\nUne fois les noms des aires protégées concernées extraites de chaque texte, on les compare aux noms de la base SAPM. On le fait tout d’abord automatiquement avec un algorithme d’appariement approximatif (“fuzzy matching”), qui tient compte des variations d’orthographe ou des dénominations multiple, afin d’identifier les correspondances les plus probables. Nous utilisons la distance de Levenshtein proportionnelle à la longueur des chaînes afin de minimiser les erreurs d’appariement sur des noms courts.\n\n\nCode\nlibrary(stringdist)\nlibrary(fuzzyjoin)\n\n\nwdpa_mdg_2025 &lt;- wdpa_read(\"sources/WDPA_WDOECM_mar2025_Public_MDG.zip\")\n\n# Harmonization for comparison (without modifying original data)\nwdpa_clean &lt;- wdpa_mdg_2025 %&gt;%\n  mutate(cleaned_NAME = str_trim(str_to_lower(NAME)))\n\nclass_clean &lt;- class_results %&gt;%\n  mutate(cleaned_pa = str_trim(str_to_lower(pa)))\n\n# Split cells containing multiple names (both \", \" and \" et \" as separators)\nsplit_class_clean &lt;- class_clean %&gt;%\n  mutate(cleaned_pa_split = str_split(cleaned_pa, \",\\\\s*|\\\\s+et\\\\s+\")) %&gt;% # Split on commas or \" et \"\n  unnest(cleaned_pa_split) %&gt;%\n  rename(single_cleaned_pa = cleaned_pa_split) # Rename for clarity\n\n# Function to compute proportional string distance\nmatch_pa_to_wdpa &lt;- function(pa_name, wdpa_names) {\n  # Calculate proportional distances\n  distances &lt;- stringdist(\n    a = pa_name,\n    b = wdpa_names,\n    method = \"lv\" # Levenshtein distance\n  ) /\n    pmax(nchar(pa_name), nchar(wdpa_names))\n\n  # Find the best match\n  best_match_idx &lt;- which.min(distances)\n  list(\n    closest_match = wdpa_names[best_match_idx],\n    match_distance = distances[best_match_idx]\n  )\n}\n\n# Find closest matches for each split name\nconversion_table &lt;- split_class_clean %&gt;%\n  filter(!is.na(single_cleaned_pa), single_cleaned_pa != \"\") %&gt;% # Remove NA/empty values\n  rowwise() %&gt;%\n  mutate(\n    distances = list(\n      stringdist(single_cleaned_pa, wdpa_clean$cleaned_NAME, method = \"lv\") /\n        pmax(nchar(single_cleaned_pa), nchar(wdpa_clean$cleaned_NAME))\n    ),\n    best_idx = ifelse(length(distances) &gt; 0, which.min(distances), NA_integer_),\n    closest_match = ifelse(\n      !is.na(best_idx),\n      wdpa_clean$NAME[best_idx],\n      NA_character_\n    ),\n    match_distance = ifelse(!is.na(best_idx), min(distances), NA_real_)\n  ) %&gt;%\n  ungroup() %&gt;%\n  select(original_pa = single_cleaned_pa, closest_match, match_distance) %&gt;%\n  distinct(original_pa, .keep_all = TRUE)\n\nwritexl::write_xlsx(conversion_table, \"conversion_table.xlsx\")\n\n\nOn a à ce stade effectué une modification manuelle, correspondant à la réserve naturelle intégrale n°5 devenue parc national n°14 en 1998 est dénomée “Antsiranana” dans la base, mais il s’agit d’Andrigitra, cf. site 47 dans Goodman et al. (2018).\nCette base est envoyée vers excel et on effectue une vérification manuelle pour avoir une liste complète des rapprochements. A l’issue de ce travail, on dispose d’une liste des noms des AP tels qu’on les trouve dans les textes officiels, avec une table de correspondance indiquant le nom équivalent avec lequel elles sont enregistrées dans la base SAPM 2017.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Création d'une base réglementaire à partir de CNLEGIS</span>"
    ]
  },
  {
    "objectID": "03_legal_docs.html#intégration-des-correspondances-validées-et-finalisation-de-la-base",
    "href": "03_legal_docs.html#intégration-des-correspondances-validées-et-finalisation-de-la-base",
    "title": "4  Création d’une base réglementaire à partir de CNLEGIS",
    "section": "4.5 Intégration des correspondances validées et finalisation de la base",
    "text": "4.5 Intégration des correspondances validées et finalisation de la base\nAprès validation des correspondances, nous consolidons la base en associant chaque décision réglementaire à l’aire protégée correspondante. Cela nous permet d’établir une base réglementaire normalisée, directement exploitable pour des analyses historiques ou spatiales.\n\n\nCode\nlibrary(readxl)\n\n# Load the verified conversion table\nconversion_table_verif &lt;- read_xlsx(\"data/conversion_table_verif.xlsx\") %&gt;%\n  select(original_pa, WDPA_NAME, WDPAID) %&gt;%\n  unique() %&gt;%\n  clean_pa_names_cols(name_cols = c(\"original_pa\", \"WDPA_NAME\"))\n\n\n# Merge with split_class_clean to integrate the verified closest matches\ndecision_pa &lt;- split_class_clean %&gt;%\n  left_join(\n    conversion_table_verif,\n    by = c(\"single_cleaned_pa\" = \"original_pa\")\n  ) %&gt;%\n  distinct(pa, num_texte, .keep_all = TRUE) %&gt;%\n  select(\n    date_texte = date_txt,\n    ap_nom_texte = pa,\n    WDPA_NAME,\n    WDPAID,\n    texte = textes,\n    type_texte = type,\n    num_texte,\n    num_texte_variante = num,\n    id_texte = id,\n    objet_texte = objet,\n    type_decision = concatenated_true,\n    date_jo,\n    page_jo,\n    etat_texte = etat,\n    notes_texte = notes,\n    ministeres,\n    html_fr,\n    html_mg,\n    doc_pdf_fr,\n    doc_pdf_mg\n  )\n\nwrite_rds(decision_pa, \"data/id/legal_texts.rds\")\nzip::zip(\n  \"data/id/legal_texts.zip\",\n  files = \"data/id/legal_texts.rds\",\n  mode = \"cherry-pick\"\n)\n\n\nLa base ainsi consolidée peut servir de référence pour des travaux d’analyse juridique, historique ou spatiale sur la dynamique des aires protégées à Madagascar. Elle constitue aussi une base d’appui pour la production d’indicateurs ou la vérification des statuts réglementaires.\nNous disposons maintenant d’une base de données consolidée des décisions réglementaires, où chaque texte est relié aux aires protégées qu’il concerne. Cette base est prête à être croisée avec les données spatiales pour analyser l’évolution historique des aires protégées à Madagascar.\n\n\n\n\nGoodman, Steven M., Marie Jeanne Raherilalao, Sébastien Wohlhauser, Jean Clarck N. Rabenandrasana, Herivololona M. Rakotondratsimba, Fanja Andriamialisoa, and Malalarisoa Razafimpahanana. 2018. Les Aires Protégées Terrestres de Madagascar: Leur Histoire, Description Et Biote. Association Vahatra.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Création d'une base réglementaire à partir de CNLEGIS</span>"
    ]
  },
  {
    "objectID": "04_combination.html",
    "href": "04_combination.html",
    "title": "5  Harmonisation des données SAPM",
    "section": "",
    "text": "5.1 Traitement des métadonnées ANGAP (2002)\nDans cette section, nous passons en revue plusieurs jeux de données ayant documenté les aires protégées à Madagascar à différentes périodes. Ces données, issues de sources officielles, ont été produites et mises à jour par différentes institutions. Nous les harmonisons en appliquant un ensemble de traitements standardisés :\nCes opérations visent à rendre comparables des jeux de données produits à des moments différents et selon des logiques institutionnelles variées. Elles permettent la construction d’une série temporelle cohérente, indispensable à toute analyse historique ou comparative sur les dynamiques de conservation à Madagascar.\nCes opérations sont réalisées avec R, avec une série de package appropriés.\nLe champ CLASSEMENT contient des références légales souvent partielles ou hétérogènes. Une extraction manuelle a permis d’en dériver les champs date_texte, type_texte, num_texte (catégories existantes dans les données CNLEGIS), et une année de statut STATUS_YR. Ces champs sont intégrés au jeu de données harmonisé.\nCode\nangap_2002 &lt;- angap_2002 |&gt;\n  rename(NAME = NOM, DESIG = TYPE_AP, IUCN_CAT = IUCN, LEGAL_TXT = CLASSEMENT)\n\nlegal_txt_content &lt;- tribble(\n  ~num_ligne , ~date_texte  , ~type_texte , ~num_texte             ,\n           1 , \"1958-10-28\" , \"Décret\"    , \"58.10\"                ,\n           2 , \"1997-03-02\" , \"Décret\"    , \"97-141\"               ,\n           3 , \"1958-10-28\" , \"Décret\"    , \"58.08\"                ,\n           4 , \"1982-02-12\" , \"Décret\"    , \"82.078\"               ,\n           5 , \"1970-07-21\" , \"Décret\"    , \"2778-MAER/SEGREF/FOR\" ,\n           6 , \"1956-02-20\" , \"Décret\"    , \"56.208\"               ,\n           7 , \"1997-08-07\" , \"Décret\"    , \"97.1043\"              ,\n           8 , \"1958-10-28\" , \"Décret\"    , \"58.13\"                ,\n           9 , \"1998-10-19\" , \"Décret\"    , \"98.376\"               ,\n          10 , \"1958-10-28\" , \"Décret\"    , \"58.12\"                ,\n          11 , NA           , NA          , NA                     ,\n          12 , \"1956-02-20\" , \"Décret\"    , \"56.208\"               ,\n          13 , \"1997-12-18\" , \"Décret\"    , \"97-1452\"              ,\n          14 , NA           , NA          , NA                     ,\n          15 , \"1956-09-10\" , \"Décret\"    , NA                     ,\n          16 , \"1966-06-01\" , \"Décret\"    , \"66.242\"               ,\n          17 , \"1986-06-04\" , \"Décret\"    , \"86.168\"               ,\n          18 , \"1966-04-22\" , \"Décret\"    , \"64-159\"               ,\n          19 , \"1962-10-24\" , \"Décret\"    , \"62.527\"               ,\n          20 , \"1958-10-28\" , \"Décret\"    , \"58.15\"                ,\n          21 , \"1997-03-02\" , \"Décret\"    , \"97-141\"               ,\n          22 , \"1962-07-19\" , \"Décret\"    , \"62.371\"               ,\n          23 , \"1959-04-24\" , \"Décret\"    , \"58.59\"                ,\n          24 , \"1956-09-10\" , \"Décret\"    , NA                     ,\n          25 , \"1997-12-18\" , \"Décret\"    , \"97.1453\"              ,\n          26 , \"1966-06-01\" , \"Décret\"    , \"66.242\"               ,\n          27 , \"1989-07-25\" , \"Décret\"    , \"89-216\"               ,\n          28 , \"1989-07-25\" , \"Décret\"    , \"89-216\"               ,\n          29 , \"1958-10-28\" , \"Décret\"    , \"58.10\"                ,\n          30 , \"1956-02-20\" , \"Décret\"    , \"56.208\"               ,\n          31 , \"1962-12-05\" , \"Décret\"    , \"62.637\"               ,\n          32 , \"1956-02-20\" , \"Décret\"    , \"56.208\"               ,\n          33 , NA           , NA          , NA                     ,\n          34 , \"1998-05-19\" , \"Décret\"    , \"98.375\"               ,\n          35 , \"1956-02-20\" , \"Décret\"    , \"56.208\"               ,\n          36 , \"1997-03-02\" , \"Décret\"    , \"97-141\"               ,\n          37 , NA           , NA          , NA                     ,\n          38 , \"1997-12-18\" , \"Décret\"    , \"97.1451\"              ,\n          39 , \"1958-10-28\" , \"Décret\"    , \"58.07\"                ,\n          40 , \"1965-12-14\" , \"Décret\"    , \"95.795\"               ,\n          41 , \"1954-09-16\" , \"Décret\"    , \"64.380\"               ,\n          42 , \"1989-07-25\" , \"Décret\"    , \"89-216\"               ,\n          43 , NA           , NA          , NA                     ,\n          44 , \"1958-10-28\" , \"Décret\"    , \"58.14\"                ,\n          45 , \"1997-03-02\" , \"Décret\"    , \"97-141\"               ,\n          46 , \"1966-06-01\" , \"Décret\"    , \"66.242\"               ,\n          47 , \"1966-06-01\" , \"Décret\"    , \"66.242\"               ,\n          48 , \"1997-08-07\" , \"Décret\"    , \"97-1045\"              ,\n          49 , \"1966-06-01\" , \"Décret\"    , \"66.242\"               ,\n          50 , \"1966-06-01\" , \"Décret\"    , \"66.242\"               ,\n          51 , \"1997-08-07\" , \"Décret\"    , \"97-1045\"              ,\n          52 , NA           , NA          , NA                     ,\n          53 , \"1997-12-18\" , \"Décret\"    , \"97-1454\"              ,\n          54 , \"1997-08-07\" , \"Décret\"    , \"97.1044\"              ,\n          55 , \"1966-06-01\" , \"Décret\"    , \"66.242\"               ,\n          56 , \"1997-12-18\" , \"Décret\"    , \"97-1454\"\n) %&gt;%\n  mutate(\n    STATUS_YR = case_when(\n      num_ligne %in% c(16, 46, 47, 49, 50, 55) ~ 1927,\n      TRUE ~ lubridate::year(lubridate::ymd(date_texte))\n    )\n  )\nangap_2002 &lt;- angap_2002 %&gt;%\n  bind_cols(\n    legal_txt_content %&gt;%\n      select(-num_ligne)\n  ) |&gt;\n  select(-LEGAL_TXT) |&gt;\n  mutate(dataset_id = \"ANGAP_2002\")",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Harmonisation des données SAPM</span>"
    ]
  },
  {
    "objectID": "04_combination.html#harmonisation-des-autres-sources-sapm-vahatra",
    "href": "04_combination.html#harmonisation-des-autres-sources-sapm-vahatra",
    "title": "5  Harmonisation des données SAPM",
    "section": "5.2 Harmonisation des autres sources (SAPM, Vahatra)",
    "text": "5.2 Harmonisation des autres sources (SAPM, Vahatra)\nLes autres jeux de données sont également harmonisés avec un sous-ensemble de variables cibles. On applique des transformations simples et un renommage standardisé pour assurer l’interopérabilité.\n\n\nCode\nmnp_2010 &lt;- mnp_2010 |&gt;\n  rename(NAME = NOM) |&gt;\n  mutate(dataset_id = \"MNP_2010\") |&gt;\n  select(NAME, dataset_id, geometry)\n\n\nsapm_2010 &lt;- sapm_2010 |&gt;\n  select(NAME = NOM, DESIG = DESCRIPTIO, MANG_AUTH = DATAADMIN) |&gt;\n  mutate(\n    DESIG = str_replace(DESIG, \"Protge\", \"Protégée\"),\n    dataset_id = \"SAPM_2010\"\n  )\nsapm_evol_2001_2011 &lt;- sapm_evol_2001_2011 |&gt;\n  mutate(YEAR = as.numeric(YEAR)) |&gt;\n  select(\n    NAME = NOM,\n    DESIG = DESCRIPTIO,\n    MANG_AUTH = DATAADMIN,\n    STATUS_YR = YEAR\n  ) |&gt;\n  mutate(dataset_id = \"SAPM_evol_2001-2011\")\n\nsapm_2017 &lt;- sapm_2017 |&gt;\n  mutate(\n    DATE_CREAT = year(ymd(DATE_CREAT)),\n    MANG_AUTH = paste(GEST_1, GEST_2),\n    DAT_ST_DEF = as.character(DAT_ST_DEF)\n  ) |&gt;\n  select(\n    NAME = SHORT_NAME,\n    ORIG_NAME = FULL_NAME,\n    IUCN_CAT = CATEG_IUCN,\n    STATUS_YR = DATE_CREAT,\n    date_texte = DAT_ST_DEF,\n    MARINE = TYPE_AP,\n    GOV_TYPE = GOUVERNANC,\n    num_text = STAT_DEF,\n    MANG_AUTH\n  ) |&gt;\n  mutate(dataset_id = \"SAPM_2017\")\n\nsapm_2024 &lt;- sapm_2024 |&gt;\n  mutate(\n    DATE_CREAT = year(ymd(DATE_CREAT)),\n    MANG_AUTH = paste(GEST_1, GEST_2),\n    DAT_ST_DEF = as.character(DAT_ST_DEF)\n  ) |&gt;\n  select(\n    NAME = SHORT_NAME,\n    IUCN_CAT = CATEG_IUCN,\n    STATUS_YR = DATE_CREAT,\n    date_texte = DAT_ST_DEF,\n    MARINE = TYPE_AP,\n    GOV_TYPE = GOUVERNANC,\n    num_text = STAT_DEF,\n    MANG_AUTH\n  ) |&gt;\n  mutate(dataset_id = \"SAPM_2024\")\n\nvahatra &lt;- vahatra |&gt;\n  mutate(\n    STATUS_YR = year(ymd(date_creation)),\n    MANG_AUTH = paste(gest_1, gest_2),\n    date_texte = ifelse(\n      is.na(date_modification),\n      date_creation,\n      paste(date_creation, date_modification, sep = \";\")\n    )\n  ) |&gt;\n  select(\n    NAME = nom,\n    IUCN_CAT = cat_iucn,\n    ORIG_NAME = full_name,\n    num_texte = creation,\n    MANG_AUTH,\n    STATUS_YR,\n    date_texte\n  ) |&gt;\n  mutate(dataset_id = \"Vahatra\")",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Harmonisation des données SAPM</span>"
    ]
  },
  {
    "objectID": "04_combination.html#fusion-dans-un-jeu-consolidé",
    "href": "04_combination.html#fusion-dans-un-jeu-consolidé",
    "title": "5  Harmonisation des données SAPM",
    "section": "5.3 Fusion dans un jeu consolidé",
    "text": "5.3 Fusion dans un jeu consolidé\nTous les jeux de données sont fusionnés dans un unique tableau avec un schéma unifié.\n\n\nCode\nall_PAs &lt;- bind_rows(\n  angap_2002,\n  mnp_2010,\n  sapm_2010,\n  sapm_2017,\n  sapm_2024,\n  sapm_evol_2001_2011,\n  vahatra\n)\n\n\nAppariement spatial avec la WDPA\nOn utilise une fonction pa_match() pour identifier les aires protégées correspondantes dans la WDPA, sur la base de la proximité spatiale et du taux de recouvrement géométrique.\n\n\nCode\n# Match protected areas from x to y based on centroid distance and spatial overlap.\n# Returns the original x with best matches from y, using overlap thresholds and ranking.\n# Adds matched name, ID, and overlap percentage to x.\npa_match &lt;- function(\n  x,\n  y,\n  pa_name_x = \"NAME\",\n  pa_name_y = \"NAME\",\n  pa_id_y = \"WDPAID\",\n  threshold_strong_match = 0.35,\n  threshold_weak_match = 0.1\n) {\n  # Harmonize CRS and fix geometry\n  y &lt;- st_transform(y, st_crs(x)) %&gt;%\n    st_make_valid()\n\n  # Prepare x and y with centroids\n  x_aug &lt;- x %&gt;%\n    mutate(\n      index_x = row_number(),\n      name_x = .data[[pa_name_x]],\n      centroid_x = st_centroid(geometry)\n    )\n\n  y_aug &lt;- y %&gt;%\n    mutate(\n      index_y = row_number(),\n      name_y = .data[[pa_name_y]],\n      id_y = .data[[pa_id_y]],\n      centroid_y = st_centroid(geometry)\n    )\n\n  # Find 3 closest y for each x\n  x_matches &lt;- x_aug %&gt;%\n    rowwise() %&gt;%\n    mutate(\n      closest_y = list(\n        y_aug %&gt;%\n          st_drop_geometry() %&gt;%\n          mutate(dist = as.numeric(st_distance(centroid_x, centroid_y))) %&gt;%\n          arrange(dist) %&gt;%\n          slice_head(n = 2) %&gt;%\n          select(index_y, dist)\n      )\n    ) %&gt;%\n    unnest(closest_y)\n\n  # Compute spatial overlaps\n  matches_with_overlap &lt;- x_matches %&gt;%\n    rowwise() %&gt;%\n    mutate(\n      overlap = tryCatch(\n        {\n          inter &lt;- st_intersection(geometry, y_aug$geometry[index_y])\n          if (length(inter) &gt; 0) {\n            round(as.numeric(st_area(inter) / st_area(geometry)), 3)\n          } else {\n            0\n          }\n        },\n        error = function(e) 0\n      )\n    ) %&gt;%\n    ungroup() %&gt;%\n    mutate(\n      name_y = y_aug[[pa_name_y]][index_y],\n      id_y = y_aug[[pa_id_y]][index_y]\n    ) %&gt;%\n    st_drop_geometry()\n\n  # Rank and apply selection logic\n  best_matches &lt;- matches_with_overlap %&gt;%\n    group_by(index_x) %&gt;%\n    arrange(desc(overlap), dist) %&gt;%\n    mutate(rank = row_number()) %&gt;%\n    slice(1:2) %&gt;%\n    summarise(\n      index_x = first(index_x),\n      name_y = case_when(\n        n() &gt;= 2 &&\n          overlap[2] &gt; threshold_strong_match &&\n          overlap[2] &gt; overlap[1] ~ name_y[2],\n        overlap[1] &lt; threshold_weak_match ~ NA_character_,\n        TRUE ~ name_y[1]\n      ),\n      id_y = case_when(\n        n() &gt;= 2 &&\n          overlap[2] &gt; threshold_strong_match &&\n          overlap[2] &gt; overlap[1] ~ id_y[2],\n        overlap[1] &lt; threshold_weak_match ~ NA_integer_,\n        TRUE ~ id_y[1]\n      ),\n      overlap_y = case_when(\n        n() &gt;= 2 &&\n          overlap[2] &gt; threshold_strong_match &&\n          overlap[2] &gt; overlap[1] ~ overlap[2],\n        overlap[1] &lt; threshold_weak_match ~ NA_real_,\n        TRUE ~ overlap[1]\n      ),\n      .groups = \"drop\"\n    )\n\n  # Join results back to x\n  output &lt;- x_aug %&gt;%\n    left_join(best_matches, by = \"index_x\") %&gt;%\n    select(-index_x, -name_x, -centroid_x)\n\n  return(output)\n}\n\n\nall_PAs_matched &lt;- pa_match(all_PAs, wdpa_mdg_2025)\n\nall_PAs_unmatched &lt;- all_PAs_matched %&gt;%\n  filter(is.na(name_y))\n\nwords_to_exlcude &lt;- c(\n  \"tsingy de\",\n  \"corridor entre parcelles i et ii d'\",\n  \"corridor\",\n  \"extension\",\n  \"for[eê]t d['’]?\",\n  \"aire protégée( d['’]?)?\",\n  \"androka\",\n  \"Maromena\"\n)\n\n# Enhanced fallback matching function for protected areas\npa_match_fallback_name &lt;- function(\n  x,\n  y,\n  pa_name_x = \"NAME\",\n  pa_name_y = \"NAME\",\n  pa_id_y = \"WDPAID\",\n  remove_terms,\n  min_stringdist = 0.08\n) {\n  # Clean and normalize names\n  clean_name &lt;- function(s) {\n    pattern &lt;- str_c(remove_terms, collapse = \"|\")\n    s %&gt;%\n      str_to_lower() %&gt;%\n      str_replace_all(pattern, \"\") %&gt;%\n      str_squish()\n  }\n\n  # Create index for reinsertion\n  x &lt;- x %&gt;% mutate(row_index = row_number())\n\n  # Extract unmatched rows\n  x_unmatched &lt;- x %&gt;%\n    filter(is.na(name_y)) %&gt;%\n    mutate(\n      name_x_raw = .data[[pa_name_x]],\n      name_x_clean = clean_name(name_x_raw)\n    ) %&gt;%\n    distinct(name_x_clean, .keep_all = TRUE) %&gt;%\n    mutate(index_x = row_number())\n\n  # Prepare y\n  y_tbl &lt;- y %&gt;%\n    st_drop_geometry() %&gt;%\n    mutate(\n      name_y_raw = .data[[pa_name_y]],\n      name_y_clean = clean_name(name_y_raw),\n      id_y = .data[[pa_id_y]],\n      index_y = row_number()\n    )\n\n  # String distance matrix\n  distance_matrix &lt;- stringdistmatrix(\n    x_unmatched$name_x_clean,\n    y_tbl$name_y_clean,\n    method = \"jw\",\n    p = 0.1\n  )\n\n  # Get best match per unmatched row\n  closest_matches &lt;- tibble(\n    index_x = rep(x_unmatched$index_x, times = nrow(y_tbl)),\n    index_y = rep(y_tbl$index_y, each = nrow(x_unmatched)),\n    dist = as.vector(distance_matrix)\n  ) %&gt;%\n    group_by(index_x) %&gt;%\n    slice_min(dist, n = 1, with_ties = FALSE) %&gt;%\n    ungroup()\n\n  # Join metadata\n  matched &lt;- closest_matches %&gt;%\n    left_join(x_unmatched, by = \"index_x\") %&gt;%\n    left_join(y_tbl, by = \"index_y\") %&gt;%\n    filter(dist &lt; min_stringdist)\n\n  # Compute overlap with matched geometry\n  matched &lt;- matched %&gt;%\n    rowwise() %&gt;%\n    mutate(\n      overlap_y = tryCatch(\n        {\n          inter &lt;- st_intersection(geometry, y$geometry[index_y])\n          if (length(inter) &gt; 0) {\n            round(as.numeric(st_area(inter) / st_area(geometry)), 3)\n          } else {\n            0\n          }\n        },\n        error = function(e) NA_real_\n      )\n    ) %&gt;%\n    ungroup()\n\n  # Replace original rows\n  x_updated &lt;- x %&gt;%\n    left_join(\n      matched %&gt;%\n        select(\n          row_index,\n          name_y = name_y_raw,\n          id_y = id_y.y,\n          overlap_y,\n          stringdist = dist\n        ),\n      by = \"row_index\"\n    ) %&gt;%\n    mutate(\n      name_y = coalesce(name_y.y, name_y.x),\n      id_y = coalesce(id_y.y, id_y.x),\n      overlap_y = coalesce(overlap_y.y, overlap_y.x),\n      stringdist = if (\"stringdist.x\" %in% names(.)) {\n        coalesce(stringdist, stringdist.x)\n      } else {\n        stringdist\n      }\n    ) %&gt;%\n    select(-row_index, -ends_with(\".x\"), -ends_with(\".y\"), -stringdist)\n\n  return(x_updated)\n}\n\n# Perform spatial matching\nall_PAs_matched &lt;- pa_match_fallback_name(\n  x = all_PAs_matched,\n  y = wdpa_mdg_2025,\n  remove_terms = words_to_exlcude\n) %&gt;%\n  rename(WDPA_NAME = name_y, WDPAID = id_y, overlap_WDPA = overlap_y)",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Harmonisation des données SAPM</span>"
    ]
  },
  {
    "objectID": "04_combination.html#ajout-des-données-légales-issues-des-textes-officiels",
    "href": "04_combination.html#ajout-des-données-légales-issues-des-textes-officiels",
    "title": "5  Harmonisation des données SAPM",
    "section": "5.4 Ajout des données légales issues des textes officiels",
    "text": "5.4 Ajout des données légales issues des textes officiels\nOn ajoute les aires protégées mentionnées dans les décrets à travers le jeu legal contenant les données CNLEGIS. Ces données ne comportent pas de géométrie, aussi on en ajoute une vide afin de pouvoir les consolider dans la même table.\n\n\nCode\n# Format to be compatible with the spatial data\nlegal_conso &lt;- legal %&gt;%\n  mutate(\n    NAME = ap_nom_texte,\n    dataset_id = \"CNLEGIS_2024\",\n    date_texte = as.character(date_texte),\n    geometry = st_sfc(rep(st_geometrycollection(), n()), crs = 4326)\n  ) |&gt;\n  select(\n    NAME,\n    dataset_id,\n    date_texte,\n    type_texte,\n    num_texte,\n    type_decision,\n    WDPA_NAME,\n    WDPAID,\n    geometry\n  ) %&gt;%\n  st_as_sf()\n\nall_PAs_matched &lt;- all_PAs_matched %&gt;%\n  st_transform(st_crs(legal_conso)) %&gt;%\n  bind_rows(legal_conso)",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Harmonisation des données SAPM</span>"
    ]
  },
  {
    "objectID": "04_combination.html#export-final",
    "href": "04_combination.html#export-final",
    "title": "5  Harmonisation des données SAPM",
    "section": "5.5 Export final",
    "text": "5.5 Export final\nOn ajoute enfin les données WDPA de mars 2025. Le jeu consolidé est exporté dans des formats interopérables (.parquet et .rds).\n\n\nCode\nall_PAs_conso &lt;- wdpa_mdg_2025 |&gt;\n  mutate(dataset_id = \"WDPA_2025\") |&gt;\n  st_transform(st_crs(all_PAs_matched)) |&gt;\n  bind_rows(all_PAs_matched)\nall_PAs_conso |&gt;\n  write_parquet(\"data/id/all_PAs_conso.parquet\")\nall_PAs_conso |&gt;\n  write_rds(\"data/id/all_PAs_conso.rds\")",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Harmonisation des données SAPM</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html",
    "href": "06_subdivisions.html",
    "title": "7  Validation des données de subdivision",
    "section": "",
    "text": "7.1 Alaotra\nOn charge d’abord la base de données WDPA, avec laquelle on viendra comparer les résultats.\nOn a 167 AP terrestres et marines dans la base WDPA, version de novembre 2025.\nPour cette AP comme pour les précédente, on va comparer les données WDPA avec celles transmises au MEDD.\nCode\nwdpa_alaotra &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, \"Alaotra\")) |&gt; # détecte l'AP et le site RAMSAR\n  filter(str_detect(DESIG, \"Ramsar\", negate = TRUE)) # on enlève le site Ramsar\n\nsub_alaotra &lt;- st_read(\n  \"data/subdivisions/Alaotra/shapefile/Limite_AP_Alaotra.shp\",\n  quiet = TRUE\n)\n\ntm_shape(wdpa_alaotra) +\n  tm_borders(col = \"red\") +\n  tm_shape(sub_alaotra) +\n  tm_borders(col = \"blue\")\nLes deux données semblent très proches l’une de l’autre, il est peu vraisemblable que les données fournies correspondent à une subdivision interne. A moins que l’AP soit considérée comme une subdivision interne du site Ramsar?",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#allée-des-baobabs",
    "href": "06_subdivisions.html#allée-des-baobabs",
    "title": "7  Validation des données de subdivision",
    "section": "7.2 Allée des Baobabs",
    "text": "7.2 Allée des Baobabs\nLe jeu de données Allée des Baobabs contient de nombeux shapefiles.\n\n\nCode\nlist.files(\n  \"data/subdivisions/Allée de Baobabs/Zonage ADB\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nLimite AP ADB.shp\nMares temporaire.shp\nNoyau dur.shp\nZone Agroforesterie.shp\nZone d'habitation.shp\nZone d'occupation contrôler.shp\nZone de paturage.shp\nZone de reboisement.shp\nZone de service touristique.shp\n\n\nOn les charge et on les superpose aux données WPDA.\n\n\nCode\nwdpa_baobabs &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, \"Baobabs\"))\n\nsub_baobabs_limites &lt;- st_read(\n  \"data/subdivisions/Allée de Baobabs/Zonage ADB/Limite AP ADB.shp\",\n  quiet = TRUE\n) |&gt;\n  st_transform(st_crs(wdpa_baobabs))\nsub_baobabs_noyau_dur &lt;- st_read(\n  \"data/subdivisions/Allée de Baobabs/Zonage ADB/Noyau dur.shp\",\n  quiet = TRUE\n) |&gt;\n  st_transform(st_crs(wdpa_baobabs))\nsub_baobabs_agroforesterie &lt;- st_read(\n  \"data/subdivisions/Allée de Baobabs/Zonage ADB/Zone Agroforesterie.shp\",\n  quiet = TRUE\n) |&gt;\n  st_transform(st_crs(wdpa_baobabs))\nsub_baobabs_habitation &lt;- st_read(\n  \"data/subdivisions/Allée de Baobabs/Zonage ADB/Zone d'habitation.shp\",\n  quiet = TRUE\n) |&gt;\n  st_transform(st_crs(wdpa_baobabs))\nsub_baobabs_occupation_controlee &lt;- st_read(\n  \"data/subdivisions/Allée de Baobabs/Zonage ADB/Zone d'occupation contrôler.shp\",\n  quiet = TRUE\n) |&gt;\n  st_transform(st_crs(wdpa_baobabs))\nsub_baobabs_paturages &lt;- st_read(\n  \"data/subdivisions/Allée de Baobabs/Zonage ADB/Zone de paturage.shp\",\n  quiet = TRUE\n) |&gt;\n  st_transform(st_crs(wdpa_baobabs))\nsub_baobabs_reboisement &lt;- st_read(\n  \"data/subdivisions/Allée de Baobabs/Zonage ADB/Zone de reboisement.shp\",\n  quiet = TRUE\n) |&gt;\n  st_transform(st_crs(wdpa_baobabs))\nsub_baobabs_tourisme &lt;- st_read(\n  \"data/subdivisions/Allée de Baobabs/Zonage ADB/Zone de service touristique.shp\",\n  quiet = TRUE\n) |&gt;\n  st_transform(st_crs(wdpa_baobabs))\n\ntm_shape(wdpa_baobabs) +\n  tm_borders(col = \"red\") +\n  tm_shape(sub_baobabs_limites) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_baobabs_noyau_dur) +\n  tm_polygons(col = \"green\", fill = \"green\") +\n  tm_shape(sub_baobabs_agroforesterie) +\n  tm_borders(col = \"brown\") +\n  tm_shape(sub_baobabs_habitation) +\n  tm_borders(col = \"orange\") +\n  tm_shape(sub_baobabs_occupation_controlee) +\n  tm_borders(col = \"purple\") +\n  tm_shape(sub_baobabs_paturages) +\n  tm_borders(col = \"grey\") +\n  tm_shape(sub_baobabs_reboisement) +\n  tm_borders(col = \"lightgreen\") +\n  tm_shape(sub_baobabs_tourisme) +\n  tm_borders(col = \"pink\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\n      \"WDPA\",\n      \"Limite\",\n      \"Noyau dur\",\n      \"Agroforesterie\",\n      \"Habitation\",\n      \"Occupation controlée\",\n      \"Paturages\",\n      \"reboisement\",\n      \"Tourisme\"\n    ),\n    col = c(\n      \"red\",\n      \"blue\",\n      \"green\",\n      \"brown\",\n      \"orange\",\n      \"purple\",\n      \"grey\",\n      \"lightgreen\",\n      \"pink\"\n    )\n  ) +\n  tm_add_legend(\n    type = \"fill\",\n    labels = c(\n      \"Noyau dur\"\n    ),\n    col = c(\n      \"lightgreen\"\n    )\n  )\n\n\n\n\n\n\n\n\nComme les périmètres se recoupent, on ajoute un remplissage pour le noyau dur. On voit que le noyau dur occupe une portion plus restreinte de l’AP comparé à d’autres. On observe un décallage de la limite extérieure de l’AP entre les données transmises au MEDD et les données WDPA. Cela ne semble pas être un problème de projection.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#ambatofostsy",
    "href": "06_subdivisions.html#ambatofostsy",
    "title": "7  Validation des données de subdivision",
    "section": "7.3 Ambatofostsy",
    "text": "7.3 Ambatofostsy\nIl y a cinq shapefiles différents pour Ambatofotsy:\n\n\nCode\nlist.files(\n  \"data/subdivisions/Ambatofotsy\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\ndélim_afotsy_wgs84.shp\ndina30m_afotsy_wgs84.shp\ndu_afotsy_wgs84.shp\nnd_afotsy_wgs84.shp\nzuc_afotsy_wgs84.shp\n\n\n\n\nCode\nwdpa_ambatofotsy &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Ambatofotsy\", ignore_case = TRUE)))\n\nsub_ambatofotsy_limite &lt;- st_read(\n  \"data/subdivisions/Ambatofotsy/délim_afotsy_wgs84.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_ambatofotsy))\n\nsub_ambatofotsy_dina30m &lt;- st_read(\n  \"data/subdivisions/Ambatofotsy/dina30m_afotsy_wgs84.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_ambatofotsy))\n\nsub_ambatofotsy_du &lt;- st_read(\n  \"data/subdivisions/Ambatofotsy/du_afotsy_wgs84.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_ambatofotsy))\n\nsub_ambatofotsy_nd &lt;- st_read(\n  \"data/subdivisions/Ambatofotsy/nd_afotsy_wgs84.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_ambatofotsy))\n\nsub_ambatofotsy_zuc &lt;- st_read(\n  \"data/subdivisions/Ambatofotsy/zuc_afotsy_wgs84.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_ambatofotsy))\n\ntm_shape(wdpa_ambatofotsy) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_ambatofotsy_limite) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_ambatofotsy_nd) +\n  tm_polygons(col = \"green\", fill = \"green\") +\n  tm_shape(sub_ambatofotsy_du) +\n  tm_borders(col = \"brown\") +\n  tm_shape(sub_ambatofotsy_nd) +\n  tm_borders(col = \"purple\") +\n  tm_shape(sub_ambatofotsy_zuc) +\n  tm_borders(col = \"orange\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\"WDPA\", \"Limite\", \"ND\", \"DU\", \"Dina 30m\", \"ZUC\"),\n    col = c(\"red\", \"blue\", \"green\", \"brown\", \"purple\", \"orange\")\n  ) +\n  tm_add_legend(\n    type = \"fill\",\n    labels = c(\"ND\"),\n    col = c(\"lightgreen\")\n  )\n\n\n\n\n\n\n\n\nTout semble cohérent, hormis un léger décallage des périmètres entre les données transmises au MEDD et les données WDPA.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#ambohidray",
    "href": "06_subdivisions.html#ambohidray",
    "title": "7  Validation des données de subdivision",
    "section": "7.4 Ambohidray",
    "text": "7.4 Ambohidray\n\n\nCode\nwdpa_ambohidray &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, \"Ambohidray\"))\n\nsub_ambohidray_limite &lt;- st_read(\n  \"data/subdivisions/Ambohidray/shapefiles/Veritable_Limite_Amb.shp\",\n  quiet = TRUE\n)\n\nsub_ambohidray_tampon &lt;- st_read(\n  \"data/subdivisions/Ambohidray/shapefiles/Zone tampon.shp\",\n  quiet = TRUE\n)\n\nsub_ambohidray_recherche &lt;- st_read(\n  \"data/subdivisions/Ambohidray/shapefiles/Zone de recherche.shp\",\n  quiet = TRUE\n)\n\nsub_ambohidray_tourisme &lt;- st_read(\n  \"data/subdivisions/Ambohidray/shapefiles/Zone écoutouristique.shp\",\n  quiet = TRUE\n)\n\ntm_shape(wdpa_baobabs) +\n  tm_borders(col = \"red\") +\n  tm_shape(sub_baobabs_limites) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_baobabs_noyau_dur) +\n  tm_borders(col = \"green\") +\n  tm_shape(sub_baobabs_agroforesterie) +\n  tm_borders(col = \"brown\") +\n  tm_shape(sub_baobabs_habitation) +\n  tm_borders(col = \"orange\") +\n  tm_shape(sub_baobabs_occupation_controlee) +\n  tm_borders(col = \"purple\") +\n  tm_shape(sub_baobabs_paturages) +\n  tm_borders(col = \"grey\") +\n  tm_shape(sub_baobabs_reboisement) +\n  tm_borders(col = \"lightgreen\") +\n  tm_shape(sub_baobabs_tourisme) +\n  tm_borders(col = \"pink\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\n      \"WDPA\",\n      \"Limite\",\n      \"Noyau dur\",\n      \"Agroforesterie\",\n      \"Habitation\",\n      \"Occupation controlée\",\n      \"Paturages\",\n      \"Reboisement\",\n      \"Tourisme\"\n    ),\n    col = c(\n      \"red\",\n      \"blue\",\n      \"green\",\n      \"brown\",\n      \"orange\",\n      \"purple\",\n      \"grey\",\n      \"lightgreen\",\n      \"pink\"\n    )\n  )\n\n\n\n\n\n\n\nLes données semblent cohérentes. On observe un décalage par rapport aux limites contenues dans WDPA.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#ambondrobe",
    "href": "06_subdivisions.html#ambondrobe",
    "title": "7  Validation des données de subdivision",
    "section": "7.5 Ambondrobe",
    "text": "7.5 Ambondrobe\n\n\nCode\nwdpa_ambondrobe &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, \"Ambondrobe\")) |&gt; # détecte l'AP et le site RAMSAR\n  filter(str_detect(DESIG, \"Ramsar\", negate = TRUE)) # on enlève le site Ramsar\n\nsub_ambondrobe &lt;- st_read(\n  \"data/subdivisions/Ambondrobe/shapefile/Lim_AP_Ambondrobe.shp\",\n  quiet = TRUE\n)\n\ntm_shape(wdpa_ambondrobe) +\n  tm_borders(col = \"red\") +\n  tm_shape(sub_ambondrobe) +\n  tm_borders(col = \"blue\")\n\n\n\n\n\n\nLes deux données semblent très proches l’une de l’autre, il est peu vraisemblable que les données fournies correspondent à une subdivision interne. A moins que l’AP soit considérée comme une subdivision interne du site Ramsar?\n## Ampotaka Ankorabe\n\n\nCode\nlist.files(\n  \"data/subdivisions/Ampotaka Ankorabe\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\ndel_zonage_ampotakankorabe.shp\ndel_zonage_ampotakankorabe.shp.ASUS-X541UV.4484.13100.sr.lock\nDina30m_AmpotakaAnkorabe.shp\nDU_AmpotakaAnkorabe.shp\nND_AmpotakaAnkorabe.shp\nZUC_AmpotakaAnkorabe.shp\n\n\n\n\nCode\nwdpa_ampotaka &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Ampotaka\", ignore_case = TRUE))) |&gt;\n  filter(str_detect(NAME, regex(\"Ankorabe\", ignore_case = TRUE)))\n\nsub_ampotaka_limite &lt;- st_read(\n  \"data/subdivisions/Ampotaka Ankorabe/del_zonage_ampotakankorabe.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_ampotaka))\n\nsub_ampotaka_dina30m &lt;- st_read(\n  \"data/subdivisions/Ampotaka Ankorabe/Dina30m_AmpotakaAnkorabe.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_ampotaka))\n\nsub_ampotaka_du &lt;- st_read(\n  \"data/subdivisions/Ampotaka Ankorabe/DU_AmpotakaAnkorabe.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_ampotaka))\n\n\nRe-reading with feature count reset from 3 to 1\n\n\nCode\nsub_ampotaka_nd &lt;- st_read(\n  \"data/subdivisions/Ampotaka Ankorabe/ND_AmpotakaAnkorabe.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_ampotaka))\n\nsub_ampotaka_zuc &lt;- st_read(\n  \"data/subdivisions/Ampotaka Ankorabe/ZUC_AmpotakaAnkorabe.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_ampotaka))\n\n\nRe-reading with feature count reset from 3 to 2\n\n\nCode\ntm_shape(wdpa_ampotaka) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_ampotaka_limite) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_ampotaka_nd) +\n  tm_polygons(col = \"green\", fill = \"green\") +\n  tm_shape(sub_ampotaka_du) +\n  tm_borders(col = \"brown\") +\n  tm_shape(sub_ampotaka_dina30m) +\n  tm_borders(col = \"purple\") +\n  tm_shape(sub_ampotaka_zuc) +\n  tm_borders(col = \"orange\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\"WDPA\", \"Limite\", \"ND\", \"DU\", \"Dina 30m\", \"ZUC\"),\n    col = c(\"red\", \"blue\", \"green\", \"brown\", \"purple\", \"orange\")\n  ) +\n  tm_add_legend(\n    type = \"fill\",\n    labels = c(\"ND\"),\n    col = c(\"lightgreen\")\n  )\n\n\n\n\n\n\n\n\nOn observe un décallage entre les frontières externes de l’AP selon les sources (WDPA vs. envoi MEDD). On a bien un noyau dur, mais il dépasse du périmètre extérieur WDPA.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#analabe-betanantanana",
    "href": "06_subdivisions.html#analabe-betanantanana",
    "title": "7  Validation des données de subdivision",
    "section": "7.6 Analabe Betanantanana",
    "text": "7.6 Analabe Betanantanana\n\n\nCode\nlist.files(\n  \"data/subdivisions/Analabe Betanantanana\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nanalabe lim project.shp\nNoyau dur Analabe.shp\n\n\n\n\nCode\nwdpa_analabe &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Analabe\", ignore_case = TRUE)))\n\nsub_analabe_limite &lt;- st_read(\n  \"data/subdivisions/Analabe Betanantanana/analabe lim project.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_analabe))\n\nsub_analabe_nd &lt;- st_read(\n  \"data/subdivisions/Analabe Betanantanana/Noyau dur Analabe.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_analabe))\n\ntm_shape(wdpa_analabe) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_analabe_limite) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_analabe_nd) +\n  tm_polygons(col = \"green\", fill = \"green\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\"WDPA\", \"Limite\", \"ND\"),\n    col = c(\"red\", \"blue\", \"green\")\n  ) +\n  tm_add_legend(\n    type = \"fill\",\n    labels = c(\"ND\"),\n    col = c(\"lightgreen\")\n  )\n\n\n\n\n\n\n\n\nOn observe un décalage important entre la limite de l’AP transmise par le gestionnaire et celle disponible dans WDPA (plus petite) : elles ne se recouvent que partiellement. Le noyau dur fourni ne recoupe que partiellement la limite WDPA.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#analalava",
    "href": "06_subdivisions.html#analalava",
    "title": "7  Validation des données de subdivision",
    "section": "7.7 Analalava",
    "text": "7.7 Analalava\n\n\nCode\nlist.files(\n  \"data/subdivisions/Analalava\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nanalalava limite project.shp\nND analalava.shp\n\n\n\n\nCode\nwdpa_analalava &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Analalava\", ignore_case = TRUE))) |&gt;\n  filter(IUCN_CAT == \"VI\")\n\nsub_analalava_limite &lt;- st_read(\n  \"data/subdivisions/Analalava/analalava limite project.shp\",\n  quiet = TRUE\n) |&gt;\n  st_transform(st_crs(wdpa_analalava))\n\nsub_analalava_nd &lt;- st_read(\n  \"data/subdivisions/Analalava/ND analalava.shp\",\n  quiet = TRUE\n) |&gt;\n  st_transform(st_crs(wdpa_analalava))\n\n\ntm_shape(wdpa_analalava) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_analalava_limite) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_analalava_nd) +\n  tm_polygons(col = \"green\", fill = \"green\") +\n  tm_shape(sub_analalava_nd) +\n  tm_borders(col = \"purple\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\"WDPA\", \"Limite\", \"ND\"),\n    col = c(\"red\", \"blue\", \"green\")\n  ) +\n  tm_add_legend(\n    type = \"fill\",\n    labels = c(\"ND\"),\n    col = c(\"lightgreen\")\n  )\n\n\n\n\n\n\n\n\nLes périmètres correspondent et les données semblent cohérentes.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#andrafiamena-andavakoera",
    "href": "06_subdivisions.html#andrafiamena-andavakoera",
    "title": "7  Validation des données de subdivision",
    "section": "7.8 Andrafiamena Andavakoera",
    "text": "7.8 Andrafiamena Andavakoera\nPlusieurs fichiers pour les données d’Andrafiamena\n\n\nCode\nlist.files(\n  \"data/subdivisions/Andrafiamena Andavakoera\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nLimite AP Andrafiamena Andavakoera.shp\nNoyau dur AP Andrafiamena Andavakoera.shp\nZone de developpement agricole_ADF.shp\nZone de developpement du tourisme.shp\nZone de paturage_ADF.shp\nZone de reboisement_ADF.shp\n\n\n\n\nCode\nwdpa_andraf &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Andrafiamena\", ignore_case = TRUE)))\n\nsub_andraf_limite &lt;- st_read(\n  \"data/subdivisions/Andrafiamena Andavakoera/Limite AP Andrafiamena Andavakoera.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_andraf))\n\nsub_andraf_nd &lt;- st_read(\n  \"data/subdivisions/Andrafiamena Andavakoera/Noyau dur AP Andrafiamena Andavakoera.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_andraf))\n\nsub_andraf_dev_agri &lt;- st_read(\n  \"data/subdivisions/Andrafiamena Andavakoera/Zone de developpement agricole_ADF.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_andraf))\n\nsub_andraf_dev_tour &lt;- st_read(\n  \"data/subdivisions/Andrafiamena Andavakoera/Zone de developpement du tourisme.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_andraf))\n\nsub_andraf_paturage &lt;- st_read(\n  \"data/subdivisions/Andrafiamena Andavakoera/Zone de paturage_ADF.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_andraf))\n\nsub_andraf_rebois &lt;- st_read(\n  \"data/subdivisions/Andrafiamena Andavakoera/Zone de reboisement_ADF.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_andraf))\n\ntm_shape(wdpa_andraf) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_andraf_limite) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_andraf_nd) +\n  tm_polygons(col = \"green\", fill = \"green\") +\n  tm_shape(sub_andraf_dev_agri) +\n  tm_borders(col = \"brown\") +\n  tm_shape(sub_andraf_dev_tour) +\n  tm_borders(col = \"orange\") +\n  tm_shape(sub_andraf_paturage) +\n  tm_borders(col = \"purple\") +\n  tm_shape(sub_andraf_rebois) +\n  tm_borders(col = \"grey\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\n      \"WDPA\",\n      \"Limite\",\n      \"ND\",\n      \"Dev agricole\",\n      \"Dev tourisme\",\n      \"Paturage\",\n      \"Reboisement\"\n    ),\n    col = c(\"red\", \"blue\", \"green\", \"brown\", \"orange\", \"purple\", \"grey\")\n  ) +\n  tm_add_legend(\n    type = \"fill\",\n    labels = c(\"ND\"),\n    col = c(\"lightgreen\")\n  )\n\n\n\n\n\n\n\n\nIl y a de très légères différences entre les périmètres externes WDPA et transmis MEDD. Les données de périmètres internes semblent riches et relativement cohérentes entre elles.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#anjozorobe-angavo",
    "href": "06_subdivisions.html#anjozorobe-angavo",
    "title": "7  Validation des données de subdivision",
    "section": "7.9 Anjozorobe Angavo",
    "text": "7.9 Anjozorobe Angavo\n\n\nCode\nlist.files(\n  \"data/subdivisions/Anjozorobe Angavo\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nLimite AP Anjozorobe Angavo.shp\nNoyau dur AP Anjozorobe Angavo.shp\nZone Agroforesterie.shp\nZone de reboisement.shp\nZone de restauration.shp\nZone de suici ecologique.shp\nZone developpement agricole.shp\n\n\n\n\nCode\nwdpa_anjozorobe &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Anjozorobe\", ignore_case = TRUE))) |&gt;\n  filter(str_detect(NAME, regex(\"Angavo\", ignore_case = TRUE)))\n\nsub_anjo_limite &lt;- st_read(\n  \"data/subdivisions/Anjozorobe Angavo/Limite AP Anjozorobe Angavo.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_anjozorobe))\n\nsub_anjo_nd &lt;- st_read(\n  \"data/subdivisions/Anjozorobe Angavo/Noyau dur AP Anjozorobe Angavo.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_anjozorobe))\n\nsub_anjo_agro &lt;- st_read(\n  \"data/subdivisions/Anjozorobe Angavo/Zone Agroforesterie.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_anjozorobe))\n\nsub_anjo_rebois &lt;- st_read(\n  \"data/subdivisions/Anjozorobe Angavo/Zone de reboisement.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_anjozorobe))\n\nsub_anjo_restaur &lt;- st_read(\n  \"data/subdivisions/Anjozorobe Angavo/Zone de restauration.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_anjozorobe))\n\nsub_anjo_suivi &lt;- st_read(\n  \"data/subdivisions/Anjozorobe Angavo/Zone de suici ecologique.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_anjozorobe))\n\nsub_anjo_dev_agri &lt;- st_read(\n  \"data/subdivisions/Anjozorobe Angavo/Zone developpement agricole.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_anjozorobe))\n\ntm_shape(wdpa_anjozorobe) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_anjo_limite) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_anjo_nd) +\n  tm_polygons(col = \"green\", fill = \"green\") +\n  tm_shape(sub_anjo_agro) +\n  tm_borders(col = \"brown\") +\n  tm_shape(sub_anjo_rebois) +\n  tm_borders(col = \"orange\") +\n  tm_shape(sub_anjo_restaur) +\n  tm_borders(col = \"purple\") +\n  tm_shape(sub_anjo_suivi) +\n  tm_borders(col = \"grey\") +\n  tm_shape(sub_anjo_dev_agri) +\n  tm_borders(col = \"pink\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\n      \"WDPA\",\n      \"Limite\",\n      \"ND\",\n      \"Agroforesterie\",\n      \"Reboisement\",\n      \"Restauration\",\n      \"Suivi ecologique\",\n      \"Dev agricole\"\n    ),\n    col = c(\"red\", \"blue\", \"green\", \"brown\", \"orange\", \"purple\", \"grey\", \"pink\")\n  ) +\n  tm_add_legend(\n    type = \"fill\",\n    labels = c(\"ND\"),\n    col = c(\"lightgreen\")\n  )\n\n\n\n\n\n\n\n\nLes périmètres externes fournis sont très proches de ceux de WDPA et les périmètres internes semblent cohérents.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#antrema",
    "href": "06_subdivisions.html#antrema",
    "title": "7  Validation des données de subdivision",
    "section": "7.10 Antrema",
    "text": "7.10 Antrema\n\n\nCode\nwdpa_antrema &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, \"Antrema\")) |&gt; # détecte l'AP et le site RAMSAR\n  filter(str_detect(DESIG, \"Ramsar\", negate = TRUE)) # on enlève le site Ramsar\n\nsub_antrema_limite &lt;- st_read(\n  \"data/subdivisions/Antrema/shapefiles/Zonage/Limite Antrema.shp\",\n  quiet = TRUE\n)\nsub_antrema_agropastorale &lt;- st_read(\n  \"data/subdivisions/Antrema/shapefiles/Zonage/Agropastorale.shp\",\n  quiet = TRUE\n)\nsub_antrema_recherche &lt;- st_read(\n  \"data/subdivisions/Antrema/shapefiles/Zonage/Recherche.shp\",\n  quiet = TRUE\n)\nsub_antrema_tourisme &lt;- st_read(\n  \"data/subdivisions/Antrema/shapefiles/Zonage/Ecotourisme.shp\",\n  quiet = TRUE\n)\nsub_antrema_noyau &lt;- st_read(\n  \"data/subdivisions/Antrema/shapefiles/Zonage/Noyau dur.shp\",\n  quiet = TRUE\n)\nsub_antrema_conservation &lt;- st_read(\n  \"data/subdivisions/Antrema/shapefiles/Zonage/Conservation.shp\",\n  quiet = TRUE\n)\nsub_antrema_reboisement &lt;- st_read(\n  \"data/subdivisions/Antrema/shapefiles/Zonage/Périmètre de reboisement.shp\",\n  quiet = TRUE\n)\nsub_antrema_marine &lt;- st_read(\n  \"data/subdivisions/Antrema/shapefiles/Zonage/Reserve marine.shp\",\n  quiet = TRUE\n)\nsub_antrema_utilisation_locale &lt;- st_read(\n  \"data/subdivisions/Antrema/shapefiles/Zonage/Utilisation locale.shp\",\n  quiet = TRUE\n)\n\ntm_shape(wdpa_antrema) +\n  tm_borders(col = \"red\") +\n  tm_shape(sub_antrema_limite) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_antrema_agropastorale) +\n  tm_borders(col = \"purple\") +\n  tm_shape(sub_antrema_recherche) +\n  tm_borders(col = \"brown\") +\n  tm_shape(sub_antrema_tourisme) +\n  tm_borders(col = \"orange\") +\n  tm_shape(sub_antrema_noyau) +\n  tm_polygons(col = \"green\", fill = \"green\") +\n  tm_shape(sub_antrema_conservation) +\n  tm_borders(col = \"grey\") +\n  tm_shape(sub_antrema_reboisement) +\n  tm_borders(col = \"lightgreen\") +\n  tm_shape(sub_antrema_marine) +\n  tm_borders(col = \"darkblue\") +\n  tm_shape(sub_antrema_utilisation_locale) +\n  tm_borders(col = \"pink\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\n      \"WDPA\",\n      \"Limite\",\n      \"Agropastorale\",\n      \"Recherche\",\n      \"Tourisme\",\n      \"Noyau dur\",\n      \"Conservation\",\n      \"Reboisement\",\n      \"Marine\",\n      \"Utilisation locale\"\n    ),\n    col = c(\n      \"red\",\n      \"blue\",\n      \"purple\",\n      \"brown\",\n      \"orange\",\n      \"green\",\n      \"grey\",\n      \"lightgreen\",\n      \"darkblue\",\n      \"pink\"\n    )\n  ) +\n  tm_add_legend(\n    type = \"fill\",\n    labels = c(\"ND\"),\n    col = c(\"lightgreen\")\n  )\n\n\n\n\n\n\n\n\nLe zonage pour Antrema semble particulièrement riche/complexe. On observe des décallages limités.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#beanka",
    "href": "06_subdivisions.html#beanka",
    "title": "7  Validation des données de subdivision",
    "section": "7.11 Beanka",
    "text": "7.11 Beanka\nLes fichiers pour Beanka n’ont pas été remis sous forme de shapefiles, mais sous forme de fichiers textes, avec des points codés en DMS.\n\n\nCode\nlist.files(\n  \"data/subdivisions/Beanka\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nLimiteNAP_Beanka.txt\nLimiteNapBeanka.jpg\nnap_beankashp.apr\nNDurBeanka.txt\nNDureBeanka.jpg\n\n\nOn crée une procedure pour les géoréférencer proprement, on les convertis et on les visualise.\n\n\nCode\nparse_signed_dec &lt;- function(x) {\n  x &lt;- as.character(x)\n  x &lt;- str_replace_all(x, \"\\\\s+\", \"\")\n  sign &lt;- ifelse(str_detect(x, \"^[WwSs]\"), -1, 1)\n  val &lt;- readr::parse_number(x)\n  sign * val\n}\n\nmake_poly &lt;- function(df, lon, lat) {\n  xy &lt;- as.matrix(df[, c(lon, lat)])\n  xy &lt;- xy[stats::complete.cases(xy), , drop = FALSE]\n  if (nrow(xy) &lt; 3) {\n    return(NULL)\n  }\n  if (!all(xy[1, ] == xy[nrow(xy), ])) {\n    xy &lt;- rbind(xy, xy[1, ])\n  }\n  st_polygon(list(xy))\n}\n\nread_txt_polys_grouped &lt;- function(\n  file,\n  name_prefix,\n  lon_col,\n  lat_col,\n  group_col,\n  delim = \"\\t\",\n  encoding = \"Windows-1252\",\n  decimal_mark = \",\",\n  crs_out = 4326\n) {\n  dat &lt;- read_delim(\n    file,\n    delim = delim,\n    trim_ws = TRUE,\n    show_col_types = FALSE,\n    locale = locale(encoding = encoding, decimal_mark = decimal_mark)\n  )\n\n  dat2 &lt;- dat |&gt;\n    mutate(\n      lon = parse_signed_dec(.data[[lon_col]]),\n      lat = parse_signed_dec(.data[[lat_col]])\n    )\n\n  dat2 |&gt;\n    group_by(.data[[group_col]]) |&gt;\n    group_split() |&gt;\n    map(\\(df) {\n      p &lt;- make_poly(df, \"lon\", \"lat\")\n      if (is.null(p)) {\n        return(NULL)\n      }\n      st_sf(\n        NAME = paste0(name_prefix, \" \", as.character(df[[group_col]][1])),\n        Bloc = as.character(df[[group_col]][1]),\n        geometry = st_sfc(p, crs = crs_out)\n      )\n    }) |&gt;\n    compact() |&gt;\n    bind_rows() |&gt;\n    st_make_valid()\n}\n\nparse_dms_simple &lt;- function(x) {\n  hemi &lt;- str_sub(x, 1, 1)\n  body &lt;- str_trim(str_sub(x, 2))\n  parts &lt;- str_split_fixed(body, \" \", 2)\n  dm &lt;- parts[, 1]\n  sec &lt;- suppressWarnings(as.numeric(parts[, 2]))\n  dm_split &lt;- str_split_fixed(dm, \"[^0-9]+\", 2)\n  deg &lt;- suppressWarnings(as.numeric(dm_split[, 1]))\n  min &lt;- suppressWarnings(as.numeric(dm_split[, 2]))\n  dec &lt;- deg + min / 60 + sec / 3600\n  ifelse(hemi %in% c(\"W\", \"S\"), -dec, dec)\n}\n\nread_txt_poly_dms_cols &lt;- function(\n  file,\n  name,\n  lon_col,\n  lat_col,\n  delim = \"\\t\",\n  encoding = \"Windows-1252\",\n  decimal_mark = \",\"\n) {\n  dat &lt;- read_delim(\n    file,\n    delim = delim,\n    trim_ws = TRUE,\n    show_col_types = FALSE,\n    locale = locale(encoding = encoding, decimal_mark = decimal_mark)\n  )\n\n  pts &lt;- dat |&gt;\n    mutate(\n      lon = parse_dms_simple(.data[[lon_col]]),\n      lat = parse_dms_simple(.data[[lat_col]])\n    )\n\n  xy &lt;- as.matrix(pts[, c(\"lon\", \"lat\")])\n  xy &lt;- xy[stats::complete.cases(xy), , drop = FALSE]\n  if (!all(xy[1, ] == xy[nrow(xy), ])) {\n    xy &lt;- rbind(xy, xy[1, ])\n  }\n  st_sf(NAME = name, geometry = st_sfc(st_polygon(list(xy)), crs = 4326)) |&gt;\n    st_make_valid()\n}\n\nwdpa_beanka &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Beanka\", ignore_case = TRUE))) |&gt;\n  filter(!str_detect(DESIG, \"Ramsar\"))\n\nsub_beanka_nap &lt;- read_txt_poly_dms_cols(\n  file = \"data/subdivisions/Beanka/LimiteNAP_Beanka.txt\",\n  name = \"Limite NAP\",\n  lon_col = \"Longitude DMS\",\n  lat_col = \"Latitude DMS\"\n)\n\nsub_beanka_nd &lt;- read_txt_polys_grouped(\n  file = \"data/subdivisions/Beanka/NDurBeanka.txt\",\n  name_prefix = \"Noyau dur\",\n  lon_col = \"Long Dec\",\n  lat_col = \"Lat Dec\",\n  group_col = \"Bloc forestier\"\n)\n\ntm_shape(wdpa_beanka) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_beanka_nap) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_beanka_nd) +\n  tm_polygons(col = \"green\", fill = \"green\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\"WDPA\", \"Limite (NAP)\"),\n    col = c(\"red\", \"blue\")\n  ) +\n  tm_add_legend(\n    type = \"fill\",\n    labels = c(\"ND\"),\n    col = c(\"lightgreen\")\n  )\n\n\n\n\n\n\n\n\nEn ce qui concerne les frontières de la NAP, les données fournies en .txt semblent concordantes avec celles de WDPA, hormis 2 points manquants et deux points comportant visiblement une erreur de saisie. Les données du noyau dur sont disponibles et sans anomalie apparente.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#behasina",
    "href": "06_subdivisions.html#behasina",
    "title": "7  Validation des données de subdivision",
    "section": "7.12 Behasina",
    "text": "7.12 Behasina\n\n\nCode\nlist.files(\n  \"data/subdivisions/Behasina\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nbehasina 100.shp\nBehasina.shp\nNoyau dur Behasina.shp\nzuc behasina.shp\n\n\n\n\nCode\nwdpa_behasina &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Behasina\", ignore_case = TRUE)))\n\nsub_behasina_nd &lt;- st_read(\n  \"data/subdivisions/Behasina/Noyau dur Behasina.shp\",\n  quiet = TRUE\n) |&gt;\n  st_set_crs(29702) |&gt;\n  st_transform(st_crs(wdpa_behasina))\n\nsub_behasina_zuc &lt;- st_read(\n  \"data/subdivisions/Behasina/zuc behasina.shp\",\n  quiet = TRUE\n) |&gt;\n  st_transform(st_crs(wdpa_behasina))\n\nsub_behasina_limite &lt;- st_read(\n  \"data/subdivisions/Behasina/Behasina.shp\",\n  quiet = TRUE\n) |&gt; # Le SCR est manquant, on suppose que c'est le même que pour le ND\n  st_set_crs(29702) |&gt;\n  st_transform(st_crs(wdpa_behasina))\n\nsub_behasina_100 &lt;- st_read(\n  \"data/subdivisions/Behasina/behasina 100.shp\",\n  quiet = TRUE\n) |&gt; # Le SCR est manquant, on suppose que c'est le même que pour le ND\n  st_set_crs(st_crs(sub_behasina_nd)) |&gt;\n  st_transform(st_crs(wdpa_behasina))\n\ntm_shape(wdpa_behasina) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_behasina_limite) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_behasina_nd) +\n  tm_polygons(col = \"green\", fill = \"green\") +\n  tm_shape(sub_behasina_100) +\n  tm_borders(col = \"brown\") +\n  tm_shape(sub_behasina_zuc) +\n  tm_borders(col = \"orange\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\"WDPA\", \"Limite\", \"ND\", \"Behasina 100\", \"ZUC\"),\n    col = c(\"red\", \"blue\", \"green\", \"brown\", \"orange\")\n  ) +\n  tm_add_legend(\n    type = \"fill\",\n    labels = c(\"ND\"),\n    col = c(\"lightgreen\")\n  )\n\n\n\n\n\n\n\n\nLes donnnées sont aberrante. Seule la ZUP semble avoir des données. Les autres sont vides ou aberrants.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#bemanevika",
    "href": "06_subdivisions.html#bemanevika",
    "title": "7  Validation des données de subdivision",
    "section": "7.13 Bemanevika",
    "text": "7.13 Bemanevika\n\n\nCode\nlist.files(\n  \"data/subdivisions/Bemanevika\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nBemanevika_ProtectedArea.shp\n\n\nUn seul fichier ici.\n\n\nCode\nwdpa_bemanevika &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Bemanevika\", ignore_case = TRUE)))\n\nsub_bemanevika &lt;- st_read(\n  \"data/subdivisions/Bemanevika/Bemanevika_ProtectedArea.shp\",\n  quiet = TRUE,\n  options = \"ENCODING=Windows-1252\"\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_bemanevika))\n\n\ntm_shape(wdpa_bemanevika) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_bemanevika) +\n  tm_polygons(\n    fill = \"SubZone\"\n  ) +\n  tm_borders(col = \"black\", lwd = 1)\n\n\n\n\n\n\n\nLe périmètre externe est proche de celui de WDPA et les périmètres internes semblent cohérents (SubZone == “Noyau Dur”).",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#ivohiboro",
    "href": "06_subdivisions.html#ivohiboro",
    "title": "7  Validation des données de subdivision",
    "section": "7.14 Ivohiboro",
    "text": "7.14 Ivohiboro\n\n\nCode\nlist.files(\"data/subdivisions/Ivohiboro\") |&gt;\n  cat(sep = \"\\n\")\n\n\n95805\n\n\nLe document fourni n’a pas d’extension et ne contient pas de données lisibles.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#mahialambo",
    "href": "06_subdivisions.html#mahialambo",
    "title": "7  Validation des données de subdivision",
    "section": "7.15 Mahialambo",
    "text": "7.15 Mahialambo\n\n\nCode\nlist.files(\n  \"data/subdivisions/Mahialambo\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nmahialambo 100.shp\nMahialambo.shp\nNoyau dur Mahialambo.shp\n\n\n\n\nCode\nwdpa_mahialambo &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Mahialambo\", ignore_case = TRUE)))\n\n\n# Assigner le CRS Laborde\nsub_mahialambo_limite &lt;- st_read(\n  \"data/subdivisions/Mahialambo/Mahialambo.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_set_crs(29702) |&gt; # LAborde\n  st_transform(st_crs(wdpa_mahialambo)) # Convertir en WGS84 pour affichage\n\nsub_mahialambo_100 &lt;- st_read(\n  \"data/subdivisions/Mahialambo/mahialambo 100.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_set_crs(29702) |&gt;\n  st_transform(st_crs(wdpa_mahialambo))\n\nsub_mahialambo_nd &lt;- st_read(\n  \"data/subdivisions/Mahialambo/Noyau dur Mahialambo.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_set_crs(29702) |&gt;\n  st_transform(st_crs(wdpa_mahialambo))\n\n\nRe-reading with feature count reset from 3 to 2\n\n\nCode\ntm_shape(wdpa_mahialambo) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_mahialambo_limite) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_mahialambo_nd) +\n  tm_polygons(fill = \"green\", fill_alpha = 0.6, col = \"darkgreen\") +\n  tm_shape(sub_mahialambo_100) +\n  tm_borders(col = \"purple\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\"Limite\", \"ND\", \"Mahialambo 100\"),\n    col = c(\"blue\", \"green\", \"purple\")\n  ) +\n  tm_add_legend(\n    type = \"polygons\",\n    labels = c(\"ND\"),\n    fill = c(\"green\")\n  )\n\n\n\n\n\n\n\n\nLe SCR était manquant. On a pu deviner qu’il s’agissait de la projection laborde (EPSG: 29702). Une fois la bonne projection assignée, les frontières externes sont cohérentes avec celles de l’AP homonyme dans WDPA. Il doit toutefois manquer un point au tracé du Noyau Dur dans la partie Nord, car le ND dépasse de la limite externe du parc.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#mahimborondro",
    "href": "06_subdivisions.html#mahimborondro",
    "title": "7  Validation des données de subdivision",
    "section": "7.16 Mahimborondro",
    "text": "7.16 Mahimborondro\n\n\nCode\nlist.files(\n  \"data/subdivisions/Mahimborondro\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nMahimborondro_ProtectedArea.shp\n\n\n\n\nCode\nwdpa_mahialambo &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Mahimborondro\", ignore_case = TRUE)))\n\nsub_mahimborondro &lt;- st_read(\n  \"data/subdivisions/Mahimborondro/Mahimborondro_ProtectedArea.shp\",\n  quiet = TRUE\n)\n\n\ntm_shape(wdpa_mahialambo) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_mahimborondro) +\n  tm_borders(col = \"blue\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\"WDPA\", \"Subdivisions\"),\n    col = c(\"red\", \"blue\")\n  )\n\n\n\n\n\n\n\nLes frontières externes correspondent à WDPA. Le fichier semble en effet contenir des subdivisions, mais on ne dispose que des géométries, sans attributs. Impossible de savoir par exemple laquelle (ou lesquelles) de ces subdivisions correspond au noyau dur.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#manambato",
    "href": "06_subdivisions.html#manambato",
    "title": "7  Validation des données de subdivision",
    "section": "7.17 Manambato",
    "text": "7.17 Manambato\n\n\nCode\nlist.files(\n  \"data/subdivisions/Manambato\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nBloc Forestier Loky Manambato.shp\nLimite NAP Loky Manambato.shp\nLimite partie marine.shp\nNoyau dur Loky Manambato.shp\nNoyau dur partie marine.shp\nZone agropastorale.shp\nZone de restauration.shp\n\n\n\n\nCode\nwdpa_manambato &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Manambato|Loky\", ignore_case = TRUE)))\n\nsub_manambato_limite &lt;- st_read(\n  \"data/subdivisions/Manambato/Limite NAP Loky Manambato.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_manambato))\n\nsub_manambato_limite_marine &lt;- st_read(\n  \"data/subdivisions/Manambato/Limite partie marine.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_manambato))\n\nsub_manambato_nd &lt;- st_read(\n  \"data/subdivisions/Manambato/Noyau dur Loky Manambato.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_manambato))\n\nsub_manambato_nd_marine &lt;- st_read(\n  \"data/subdivisions/Manambato/Noyau dur partie marine.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_manambato))\n\nsub_manambato_bloc &lt;- st_read(\n  \"data/subdivisions/Manambato/Bloc Forestier Loky Manambato.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_manambato))\n\nsub_manambato_agro &lt;- st_read(\n  \"data/subdivisions/Manambato/Zone agropastorale.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_manambato))\n\nsub_manambato_restaur &lt;- st_read(\n  \"data/subdivisions/Manambato/Zone de restauration.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_manambato))\n\ntm_shape(wdpa_manambato) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_manambato_limite) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_manambato_limite_marine) +\n  tm_borders(col = \"blue\", lty = \"dashed\") +\n  tm_shape(sub_manambato_nd) +\n  tm_polygons(fill = \"green\", fill_alpha = 0.6, col = \"darkgreen\") +\n  tm_shape(sub_manambato_nd_marine) +\n  tm_polygons(fill = \"green\", fill_alpha = 0.6, col = \"darkgreen\") +\n  tm_shape(sub_manambato_bloc) +\n  tm_borders(col = \"brown\") +\n  tm_shape(sub_manambato_agro) +\n  tm_borders(col = \"orange\") +\n  tm_shape(sub_manambato_restaur) +\n  tm_borders(col = \"purple\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\n      \"WDPA\",\n      \"Limite NAP (terrestre)\",\n      \"Limite NAP (marine)\",\n      \"Bloc forestier\",\n      \"Agropastorale\",\n      \"Restauration\"\n    ),\n    col = c(\"red\", \"blue\", \"blue\", \"brown\", \"orange\", \"purple\")\n  ) +\n  tm_add_legend(\n    type = \"polygons\",\n    labels = c(\"Noyau dur\"),\n    fill = c(\"green\")\n  )\n\n\n\n\n\n\n\n\nLes données semblent très cohérentes et alignées avec WDPA.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#mangoky-ihotry",
    "href": "06_subdivisions.html#mangoky-ihotry",
    "title": "7  Validation des données de subdivision",
    "section": "7.18 Mangoky Ihotry",
    "text": "7.18 Mangoky Ihotry\n\n\nCode\nlist.files(\n  \"data/subdivisions/Mangoky Ihotry\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nLIMITE_CMI_FINAL.shp\nLIMITE_CMI_FINAL.shp.xml\nZONAGE_CMI_FINAL.shp\nZONAGE_CMI_FINAL.shp.xml\n\n\n\n\nCode\nwdpa_mangoky &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Mangoky|Ihotry|CMI\", ignore_case = TRUE)))\n\nsub_mangoky_limite &lt;- st_read(\n  \"data/subdivisions/Mangoky Ihotry/LIMITE_CMI_FINAL.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_mangoky))\n\nsub_mangoky_zonage &lt;- st_read(\n  \"data/subdivisions/Mangoky Ihotry/ZONAGE_CMI_FINAL.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_mangoky))\n\n\ntm_shape(sub_mangoky_limite) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_mangoky_zonage) +\n  tm_polygons(fill = \"TYPE\") +\n  tm_shape(wdpa_mangoky) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\n      \"WDPA\"\n    ),\n    col = c(\"red\")\n  )\n\n\n\n\n\n\n\n\nOn observe un décalage à plusieurs endroits entre le périmètre de l’AP transmis et les limites WDPA.Le reste des données semble cohérent (les données de noyau dur son codées TYPE == “nd”).",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#mandrozo",
    "href": "06_subdivisions.html#mandrozo",
    "title": "7  Validation des données de subdivision",
    "section": "7.19 Mandrozo",
    "text": "7.19 Mandrozo\n\n\nCode\nlist.files(\n  \"data/subdivisions/Mandrozo\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nMandrozo_ProtectedArea.shp\n\n\n\n\nCode\nwdpa_mandrozo &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Mandrozo\", ignore_case = TRUE)))\n\nsub_mandrozo &lt;- st_read(\n  \"data/subdivisions/Mandrozo/Mandrozo_ProtectedArea.shp\",\n  quiet = TRUE,\n  options = \"ENCODING=Windows-1252\"\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_mandrozo))\n\ntm_shape(sub_mandrozo) +\n  tm_polygons(fill = \"ZONAGE\") +\n  tm_shape(wdpa_mandrozo) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\"WDPA\"),\n    col = c(\"red\")\n  )\n\n\n\n\n\n\n\n\nOn observe un léger décallage systématique dans le périmètre externe transmis et la donnée WDPA (problème de projection ?). Les données de noyau dur semblent convenir (codées ZONAGE == “Noyau Dur”)",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#mangabe",
    "href": "06_subdivisions.html#mangabe",
    "title": "7  Validation des données de subdivision",
    "section": "7.20 Mangabe",
    "text": "7.20 Mangabe\n\n\nCode\nlist.files(\n  \"data/subdivisions/Mangabe\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nLimite NAP Mangabe.shp\nLimite NAP Mangabe.shp.xml\n\n\n\n\nCode\nwdpa_mangabe &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Mangabe\", ignore_case = TRUE)))\n\nsub_mangabe_limite &lt;- st_read(\n  \"data/subdivisions/Mangabe/Limite NAP Mangabe.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_mangabe))\n\ntm_shape(wdpa_mangabe) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_mangabe_limite) +\n  tm_borders(col = \"blue\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\"WDPA\", \"Limite NAP\"),\n    col = c(\"red\", \"blue\")\n  )\n\n\n\n\n\n\n\nLa donnée transmise est cohérente avec WDPA, mais elle ne contient que le périmètre extérieur : pas de subdivisions.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#menabe-antimena",
    "href": "06_subdivisions.html#menabe-antimena",
    "title": "7  Validation des données de subdivision",
    "section": "7.21 Menabe Antimena",
    "text": "7.21 Menabe Antimena\n\n\nCode\nlist.files(\n  \"data/subdivisions/Menabe Antimena\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nceinture_verte_kimanomby.shp\nceinture_verte_noyau_dur.shp\nnd_apma.shp\nzone_d_occupation_controllee.shp\nzone_d_utilisation_durable.shp\nzone_de_culture.shp\nzone_de_paturage.shp\nzone_de_prelevement_durable.shp\nzone_de_reboisement.shp\nzone_de_restauration_dans_noyau_dur.shp\nzone_de_restauration_des_sols.shp\nzone_de_restauration_hors_noyau_dur.shp\nzone_de_service.shp\nzone_forestiere_dans_noyau_dur.shp\nzone_littorale.shp\nzone_tampon.shp\n\n\n\n\nCode\nwdpa_menabe &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Menabe|Antimena\", ignore_case = TRUE)))\n\nsub_menabe_nd &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/nd_apma.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_zoc &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/zone_d_occupation_controllee.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_zud &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/zone_d_utilisation_durable.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_culture &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/zone_de_culture.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_paturage &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/zone_de_paturage.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_prelev &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/zone_de_prelevement_durable.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_rebois &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/zone_de_reboisement.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_service &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/zone_de_service.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_littorale &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/zone_littorale.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_tampon &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/zone_tampon.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_rest_in_nd &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/zone_de_restauration_dans_noyau_dur.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_rest_hors_nd &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/zone_de_restauration_hors_noyau_dur.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_rest_sols &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/zone_de_restauration_des_sols.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_forest_in_nd &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/zone_forestiere_dans_noyau_dur.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_cv_kimanomby &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/ceinture_verte_kimanomby.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\nsub_menabe_cv_nd &lt;- st_read(\n  \"data/subdivisions/Menabe Antimena/ceinture_verte_noyau_dur.shp\",\n  quiet = TRUE\n) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_menabe))\n\ntm_shape(wdpa_menabe) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_menabe_nd) +\n  tm_polygons(fill = \"green\", fill_alpha = 0.6, col = \"darkgreen\") +\n  tm_shape(sub_menabe_zoc) +\n  tm_borders(col = \"purple\") +\n  tm_shape(sub_menabe_zud) +\n  tm_borders(col = \"orange\") +\n  tm_shape(sub_menabe_tampon) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_menabe_littorale) +\n  tm_borders(col = \"brown\") +\n  tm_shape(sub_menabe_culture) +\n  tm_borders(col = \"grey\") +\n  tm_shape(sub_menabe_paturage) +\n  tm_borders(col = \"black\") +\n  tm_shape(sub_menabe_prelev) +\n  tm_borders(col = \"pink\") +\n  tm_shape(sub_menabe_rebois) +\n  tm_borders(col = \"lightgreen\") +\n  tm_shape(sub_menabe_service) +\n  tm_borders(col = \"yellow\") +\n  tm_shape(sub_menabe_rest_in_nd) +\n  tm_borders(col = \"darkblue\") +\n  tm_shape(sub_menabe_rest_hors_nd) +\n  tm_borders(col = \"darkred\") +\n  tm_shape(sub_menabe_rest_sols) +\n  tm_borders(col = \"cyan\") +\n  tm_shape(sub_menabe_forest_in_nd) +\n  tm_borders(col = \"darkgrey\") +\n  tm_shape(sub_menabe_cv_kimanomby) +\n  tm_borders(col = \"gold\") +\n  tm_shape(sub_menabe_cv_nd) +\n  tm_borders(col = \"goldenrod\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\n      \"WDPA\",\n      \"ZOC\",\n      \"ZUD\",\n      \"Zone tampon\",\n      \"Zone littorale\",\n      \"Zone de culture\",\n      \"Zone de pâturage\",\n      \"Prélèvement durable\",\n      \"Reboisement\",\n      \"Zone de service\",\n      \"Restauration dans ND\",\n      \"Restauration hors ND\",\n      \"Restauration des sols\",\n      \"Zone forestière dans ND\",\n      \"Ceinture verte Kimanomby\",\n      \"Ceinture verte ND\"\n    ),\n    col = c(\n      \"red\",\n      \"purple\",\n      \"orange\",\n      \"blue\",\n      \"brown\",\n      \"grey\",\n      \"black\",\n      \"pink\",\n      \"lightgreen\",\n      \"yellow\",\n      \"darkblue\",\n      \"darkred\",\n      \"cyan\",\n      \"darkgrey\",\n      \"gold\",\n      \"goldenrod\"\n    )\n  ) +\n  tm_add_legend(\n    type = \"polygons\",\n    labels = c(\"Noyau dur\"),\n    fill = c(\"green\")\n  )\n\n\n\n\n\n\n\n\nLe périmètre externe est parfaitement cohérent avec WDPA. La donné est particulièrement détaillée.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#sahafina",
    "href": "06_subdivisions.html#sahafina",
    "title": "7  Validation des données de subdivision",
    "section": "7.22 Sahafina",
    "text": "7.22 Sahafina\n\n\nCode\nlist.files(\n  \"data/subdivisions/Sahafina\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nDelimNapSahafina.jpg\nLimiteSahafina.txt\nnoyaudurpolygoneBeanka.shp\nnoyaudurpolygoneSahafina.shp\nnoyaudurpolygoneSahafina.shx\nsahafinashp.dbf\nsahafinashp.shp\nsahafinashp.shx\nSchemaNDurSahafina.jpg\n\n\n\n\nCode\nwdpa_sahafina &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Sahafina\", ignore_case = TRUE)))\n\nsub_sahafina_limite_shp &lt;- st_read(\n  \"data/subdivisions/Sahafina/sahafinashp.shp\",\n  quiet = TRUE\n) |&gt;\n  st_set_crs(29702) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_sahafina))\n\n# On essaye de reconstruire le fichier shx manquant \"en vol\"\nSys.setenv(SHAPE_RESTORE_SHX = \"YES\")\nnd_path &lt;- \"data/subdivisions/Sahafina/noyaudurpolygoneSahafina.shp\"\n\nsub_sahafina_nd &lt;- st_read(nd_path, quiet = TRUE) |&gt;\n  st_set_crs(29702) |&gt;\n  st_make_valid()\n\ntm_shape(wdpa_sahafina) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_shape(sub_sahafina_limite_shp) +\n  tm_borders(col = \"blue\") +\n  tm_shape(sub_sahafina_nd) +\n  tm_polygons(fill = \"green\", fill_alpha = 0.6, col = \"darkgreen\") +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\"WDPA\", \"Limite (shp)\"),\n    col = c(\"red\", \"blue\")\n  ) +\n  tm_add_legend(\n    type = \"polygons\",\n    labels = c(\"Noyau dur\"),\n    fill = c(\"green\")\n  )\n\n\n\n\n\n\n\n\nLes données semblent correct: le périmètre externe est bien aligné avec celui de WDPA et le périmètre interne est cohérent.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#tsimembo",
    "href": "06_subdivisions.html#tsimembo",
    "title": "7  Validation des données de subdivision",
    "section": "7.23 Tsimembo",
    "text": "7.23 Tsimembo\n\n\nCode\nlist.files(\n  \"data/subdivisions/Tsimembo\",\n  pattern = \"\\\\.shp\"\n) |&gt;\n  cat(sep = \"\\n\")\n\n\nTsimemboManambolomaty_ProtectedArea.shp\n\n\n\n\nCode\nwdpa_tsimembo &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, regex(\"Tsimembo|Manambolomaty\", ignore_case = TRUE)))\n\nsub_tsimembo &lt;- st_read(\n  \"data/subdivisions/Tsimembo/TsimemboManambolomaty_ProtectedArea.shp\",\n  quiet = TRUE\n) |&gt;\n  st_set_crs(29702) |&gt;\n  st_make_valid() |&gt;\n  st_transform(st_crs(wdpa_tsimembo))\n\ntm_shape(sub_tsimembo) +\n  tm_polygons(fill = \"SubZone\") +\n  tm_shape(wdpa_tsimembo) +\n  tm_borders(col = \"red\", lwd = 2) +\n  tm_add_legend(\n    type = \"lines\",\n    labels = c(\"WDPA\", \"Subdivision\"),\n    col = c(\"red\", \"blue\")\n  )\n\n\n\n\n\n\n\n\nOn observe un léger décallage systématique des données (problème de projection)\nLes données semblent cohérentes. Le Noyau dur est codé : SubZone == “Noyau Dur”.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "06_subdivisions.html#on-exporte-finalement-les-noyaux-durs-exploitables-pour-utilisation-ultérieure",
    "href": "06_subdivisions.html#on-exporte-finalement-les-noyaux-durs-exploitables-pour-utilisation-ultérieure",
    "title": "7  Validation des données de subdivision",
    "section": "8.1 On exporte finalement les noyaux durs exploitables pour utilisation ultérieure",
    "text": "8.1 On exporte finalement les noyaux durs exploitables pour utilisation ultérieure\n\n\nCode\nlibrary(lwgeom)\n\nextract_wdpa_id_name &lt;- function(wdpa_sf) {\n  x &lt;- wdpa_sf |&gt;\n    st_drop_geometry() |&gt;\n    select(WDPAID, NAME)\n\n  tibble(\n    WDPAID = suppressWarnings(as.numeric(x$WDPAID[1])),\n    NAME = as.character(x$NAME[1])\n  )\n}\n\nnd_to_multipolygon &lt;- function(\n  nd_sf,\n  crs_target,\n  crs_work = 29702, # Laborde Madagascar, adapté pour l'union\n  snap = 1e-3 # en mètres dans crs_work, ajuste si besoin\n) {\n  x &lt;- nd_sf |&gt;\n    st_transform(crs_target) |&gt;\n    sf::st_make_valid()\n\n  # Union en CRS projeté, plus robuste\n  x &lt;- x |&gt;\n    st_transform(crs_work) |&gt;\n    sf::st_make_valid()\n\n  # Option \"snap to grid\" pour casser certaines auto-intersections numériques\n  # (snap en mètres, ici 1 mm)\n  x &lt;- st_set_precision(x, 1 / snap) |&gt;\n    st_snap_to_grid(snap)\n\n  u &lt;- tryCatch(\n    st_union(x),\n    error = function(e) NULL\n  )\n\n  # Secours: buffer 0 (en CRS projeté) puis union\n  if (is.null(u)) {\n    x2 &lt;- tryCatch(st_buffer(x, 0), error = function(e) x)\n    u &lt;- st_union(x2)\n  }\n\n  u &lt;- u |&gt;\n    sf::st_make_valid() |&gt;\n    st_collection_extract(\"POLYGON\", warn = FALSE) |&gt;\n    st_cast(\"MULTIPOLYGON\", warn = FALSE) |&gt;\n    st_transform(crs_target) |&gt;\n    sf::st_make_valid()\n\n  u\n}\n\n\nmake_nd_row &lt;- function(pa_label, wdpa_sf, nd_sf) {\n  idn &lt;- extract_wdpa_id_name(wdpa_sf)\n  geom &lt;- nd_to_multipolygon(nd_sf, crs_target = st_crs(wdpa_sf))\n\n  st_sf(\n    pa_label = pa_label,\n    WDPAID = idn$WDPAID,\n    NAME = idn$NAME,\n    geometry = geom,\n    crs = st_crs(wdpa_sf)\n  )\n}\n\nnd_rows &lt;- list(\n  make_nd_row(\"Allée des Baobabs\", wdpa_baobabs, sub_baobabs_noyau_dur),\n  make_nd_row(\"Ambatofotsy\", wdpa_ambatofotsy, sub_ambatofotsy_nd),\n  make_nd_row(\"Ampotaka Ankorabe\", wdpa_ampotaka, sub_ampotaka_nd),\n  make_nd_row(\"Analabe Betanantanana\", wdpa_analabe, sub_analabe_nd),\n  make_nd_row(\"Analalava\", wdpa_analalava, sub_analalava_nd),\n  make_nd_row(\"Andrafiamena Andavakoera\", wdpa_andraf, sub_andraf_nd),\n  make_nd_row(\"Anjozorobe Angavo\", wdpa_anjozorobe, sub_anjo_nd),\n  make_nd_row(\"Antrema\", wdpa_antrema, sub_antrema_noyau),\n\n  make_nd_row(\"Beanka\", wdpa_beanka, sub_beanka_nd),\n\n  make_nd_row(\n    \"Bemanevika\",\n    wdpa_bemanevika,\n    sub_bemanevika |&gt;\n      filter(str_detect(\n        SubZone,\n        regex(\"^\\\\s*Noyau\\\\s*Dur\\\\s*$\", ignore_case = TRUE)\n      ))\n  ),\n\n  make_nd_row(\"Mahialambo\", wdpa_mahialambo, sub_mahialambo_nd),\n\n  make_nd_row(\n    \"Mangoky Ihotry\",\n    wdpa_mangoky,\n    sub_mangoky_zonage |&gt;\n      filter(str_detect(TYPE, regex(\"^\\\\s*nd\\\\s*$\", ignore_case = TRUE)))\n  ),\n\n  make_nd_row(\n    \"Mandrozo\",\n    wdpa_mandrozo,\n    sub_mandrozo |&gt;\n      filter(str_detect(ZONAGE, regex(\"Noyau\\\\s*Dur\", ignore_case = TRUE)))\n  ),\n\n  make_nd_row(\n    \"Manambato\",\n    wdpa_manambato,\n    bind_rows(sub_manambato_nd, sub_manambato_nd_marine)\n  ),\n\n  make_nd_row(\"Menabe Antimena\", wdpa_menabe, sub_menabe_nd),\n\n  make_nd_row(\"Sahafina\", wdpa_sahafina, sub_sahafina_nd),\n\n  make_nd_row(\n    \"Tsimembo\",\n    wdpa_tsimembo,\n    sub_tsimembo |&gt;\n      filter(str_detect(SubZone, regex(\"Noyau\\\\s*Dur\", ignore_case = TRUE)))\n  )\n)\n\nnd_sf &lt;- nd_rows |&gt;\n  bind_rows() |&gt;\n  st_make_valid() |&gt;\n  mutate(\n    WDPAID = as.numeric(WDPAID),\n    NAME = as.character(NAME)\n  )\n\nst_write(\n  nd_sf,\n  \"data/noyaux_durs_exploitables.geojson\",\n  driver = \"GeoJSON\",\n  delete_dsn = TRUE,\n  quiet = TRUE\n)\n\n\nLes données contenant les périmètres internes des 17 AP exploitables sont maintenant enregistrées.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Validation des données de subdivision</span>"
    ]
  },
  {
    "objectID": "07_curation.html",
    "href": "07_curation.html",
    "title": "8  Curation",
    "section": "",
    "text": "8.1 Amendment Schema\nLa première porte d’entrée pour identifier des amendements spatiaux est constituée par les textes légaux recensés dans CNLEGIS. Certains types de décisions, en particulier celles mentionnant le mot “modifiant” dans leur titre, signalent une modification des limites ou du statut spatial d’une aire protégée.\nDans cette section, nous identifions les décisions légales qui mentionnent explicitement une modification, et les aires protégées concernées.\nNous identifions ainsi 25 aires protégées pour lesquelles au moins une décision légale mentionne explicitement une modification.\nPour chaque décision légale identifiée comme potentiellement modificative, nous adoptons la logique suivante. Nous utilisons l’application interactive (Shiny) disponible dans Chapter 6. Nous observons la date et le contenu des décisions qui la concernent. Si les textes légaux indiquent bien une modification de périmètre, on passe en revue les données disponibles, afin d’identifier la source la plus crédible qui représente le périmètre précédent.\nThis chapter documents amendments to WDPA data for Madagascar’s protected areas. Amendments are identified through systematic review of legal texts (CNLEGIS), historical spatial data sources, and expert literature (primarily Goodman et al. 2018).",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Load WDPA for reference</span>"
    ]
  },
  {
    "objectID": "07_curation.html#sec-amendment-schema",
    "href": "07_curation.html#sec-amendment-schema",
    "title": "8  Curation",
    "section": "",
    "text": "8.1.1 Output Format\nAll amendments will be exported to a standardized YAML schema designed for the dynamic_wdpa registry. This format enables:\n\nVersion control: Each amendment is a standalone file tracked by git\nTool-agnostic editing: YAML and GeoJSON can be edited with any text editor\nInteroperability: Standard formats facilitate data exchange and validation\nTransparency: Clear documentation of corrections with legal references\n\n\n\n8.1.2 Amendment Schema Structure\nEach amendment is stored as a YAML file with the following structure:\n\n\n8.1.3 Spatial Amendment Example\namendment_id: \"MDG-2314-2015-boundary_modification-001\"\niso3: \"MDG\"\nwdpaid: 2314\nwdpa_name: \"Montagne d'Ambre\"\namendment_kind: \"spatial\"\namendment_type: \"boundary_modification\"\nvalid_from: \"1958-06-08\"\nvalid_to: \"2015-05-06\"\n\nlegal_instrument:\n  source: \"CNLEGIS\"\n  type: \"décret\"\n  number: \"2015-776\"\n  date: \"2015-05-06\"\n  id: \"00123456\"\n  url: \"https://cnlegis.gov.mg/...\"\n\nnotes: \"Historical boundary 1958-2015 before extension via Décret 2015-776.\"\n\ngeometry_ref: \"geoms/MDG-2314-2015-boundary_modification-001.geojson\"\ngeometry_crs_epsg: 4326\ngeometry_source_dataset_id: \"SAPM_2010\"\n\n\n8.1.4 Attribute Amendment Example\namendment_id: \"MDG-5022-2015-correction-001\"\niso3: \"MDG\"\nwdpaid: 5022\nwdpa_name: \"Analamerana\"\namendment_kind: \"attribute\"\namendment_type: \"correction\"\nvalid_from: \"1956-02-20\"\nvalid_to: \"2015-08-10\"\n\nlegal_instrument:\n  source: \"CNLEGIS\"\n  type: \"décret\"\n  number: \"56-208\"\n  date: \"1956-02-20\"\n\nnotes: \"WDPA incorrectly shows PN/II. Correct designation is RS/IV per Décret 56-208.\"\n\nattributes:\n  DESIG: \"Réserve Spéciale\"\n  DESIG_ENG: \"Special Reserve\"\n  IUCN_CAT: \"IV\"\n  STATUS_YR: \"1956\"\n\n\n8.1.5 Working Tables\nFor efficient curation within R, this document builds two working tables:\n\nsat (Spatial Amendment Table): sf object with geometries for spatial amendments\nfat (Feature Attribute Table): tibble with wide format for attribute amendments\n\nThese tables are optimized for R operations (geometry manipulation, filtering, validation) and are exported to the YAML schema at the end of the document using export_amendments_to_yaml().\n\n\n8.1.6 Amendment Types\n\nboundary_modification: Legal change to PA external boundaries\ninternal_zoning: Core zones or other internal subdivisions\ncorrection: Data error in WDPA (wrong geometry, wrong attribute value)\nstatus_change: Change in designation type (RNI→PN, RS→PN, etc.)\ngovernance_change: Change in management authority",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Load WDPA for reference</span>"
    ]
  },
  {
    "objectID": "07_curation.html#décisions-modifiant-les-aires-protégées",
    "href": "07_curation.html#décisions-modifiant-les-aires-protégées",
    "title": "8  Curation",
    "section": "8.2 Décisions modifiant les aires protégées",
    "text": "8.2 Décisions modifiant les aires protégées\nFor each PA, we:\n\nReview legal history via CNLEGIS and Goodman et al. (2018)\nCompare WDPA attributes with legal documentation\nVerify boundaries using visual verification tool (Chapter 6)\nDocument amendments when discrepancies are found\n\n\n8.2.1 Ambatovaky\nGoodman et al. (2018) indique pour cette AP:\n\nAspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : aucune ; Création : selon le Décret n° 58-10 du 28 octobre 1958 (Création de la Réserve Spéciale) ; Modification de statut : Ambatovaky fut institué en réserve spéciale en 1958 selon le Décret n° 58-10 du 28 octobre 1958. Les limites de l’aire protégée ne furent précisées qu’en 1965 avec l’Arrêté n° 1036/MFR/FOR du 1 avril 1965 (60 050 ha) puis modifiées en 2015 suivant le Décret n° 2015-731 du 21 avril 2015 ; Dernière modification de statut : suivant le Décret n° 2015-731 du 21 avril 2015 ; Surface actuelle : 78 139 ha (selon le décret en vigueur).\n\nL’attibut STATUS_YR d’Ambatovaky indiquent qu’elle a été créée en 1958, mais au moins une décision a modifié son statut depuis :\n\n\nCode\nshow_cnlegis_for_pa(\"Ambatovaky\", pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Ambatovaky dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1965-04-01\nArrêté\n1036/65\nmodifiant\n25437\nPrécisant les limites de la réserve spéciale d'Ambatovavy, située dans la sous-préfecture de Soanierana-Ivongo, province de Tamatave\n\n\n2015-04-21\nDécret\n2015-731\nmodifiant\n44676\nPortant modification des limites de la Réserve Spéciale d'Ambatovaky et délimitation de sa Zone de Protection sise dans le District de Soanierana Ivongo, Région Analanjirofo.\n\n\n\n\n\n\n\nLe périmètre correspondant à l’étendue de l’AP avant 2015 est celui fourni par de MNP.\n\n\nCode\nplot_pa_sources(\n  \"Ambatovaky\",\n  sources = c(\"WDPA_2025\", \"MNP_2010\")\n)\n\n\n\n\n\n\n\n\n\nOn retient comme géométrie avant 2015 la meilleure source spatiale identifiée dans all_PAs_conso (ici MNP_2010), en attendant la vérification du périmètre alternatif (ANGAP 2002 / WDPA archives).\n\n\nCode\nsat &lt;- NULL |&gt;\n  add_modif_sat(\n    data = all_PAs_conso,\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Ambatovaky\",\n    decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n    source_dataset_id = \"MNP_2010\",\n    notes = \"Périmètre antérieur au décret modifiant (géométrie MNP_2010 retenue après vérification visuelle).\"\n  )\n\n\n\n\n8.2.2 Analamazaotra\nGoodman et al. (2018) indique pour cette AP:\n\nAspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et le Cantonnement Forestier de Moramanga) ; Création : selon le Arrêté n° 2778/MAER/SEGREF/FOR du 21 juillet 1970 ; Modification de statut : l’ancienne Station Forestière d’Analamazaotra, composée de deux parcelles, ainsi que la Réserve de faune pour Indris existant depuis 1970 (Arrêté n° 2778/MAER/SEGREF/FOR) constituent le parc national créé en 2015, selon le Décret n° 2015-732 du 21 avril 2015 ; Dernière modification de statut : suivant le Décret n° 2015-732 du 21 avril 2015 ; Surface actuelle : 874 ha (selon le décret en vigueur).\n\nLes métadonnées indiquent que cette aire protégée a été créée en 1970 (Arrêté 2778/70), puis modifiée en 2015 :\n\n\nCode\nshow_cnlegis_for_pa(5021, pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Analamazaotra dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1970-07-21\nArrêté\n2778/70\ncreation_definitive\n27854\nClassant en réserves de faunes pour indris la station forestière d'Analamozaotra, Périnet, sous-préfecture de Moramanga\n\n\n2015-04-21\nDécret\n2015-732\nmodifiant\n45695\nPortant changement de statut et modification des limites de la réserve de faune pour Indris de la station forestière d'Analamazaotra, en Parc National d'Analamazaotra et délmimitation de sa zone de protection, sis dans le District de Moramanga, Région Alaotra Namgoro.\n\n\n\n\n\n\n\nAprès inspection visuelle des différentes sources disponibles, on retient SAPM 2010 comme source des limites avant la modification de 2015.\n\n\nCode\nplot_pa_sources(\n  \"Analamazaotra\",\n  sources = c(\"WDPA_2025\", \"SAPM_2010\")\n)\n\n\n\n\n\n\n\n\n\nConformément aux règles de construction de la SAT, seule la géométrie immédiatement antérieure à la modification de 2015 est ajoutée comme amendement spatial.\n\n\nCode\nsat &lt;- sat |&gt;\n  add_modif_sat(\n    data = all_PAs_conso,\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Analamazaotra\",\n    decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n    source_dataset_id = \"SAPM_2010\",\n    valid_from = \"1970-07-21\",\n    notes = \"Périmètre antérieur au décret modifiant (géométrie SAPM_2010 retenue après vérification visuelle).\"\n  )\n\n\nL’année de création de cette AP est 1970 (pas 2015 comme indiqué dans la WDPA 2025). On corrige STATUS_YR dans FAT.\n\n\nCode\nfat &lt;- NULL |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Analamazaotra\",\n    decision_filter = list(year = 1970, num_texte = \"2778/70\"),\n    attributes = list(\n      STATUS_YR = \"1970\"\n    ),\n    amendment_type = \"correction\",\n    valid_from = \"1970-07-21\",\n    notes = \"WDPA incorrectly shows STATUS_YR=2015 (date of upgrade to PN). Actual creation was 1970 as wildlife reserve for Indris.\"\n  )\n\n\n\n\n8.2.3 Analamerana\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et le Cantonnement Forestier d’Anivorano- Avaratra) ; Création : selon le Décret n° 56-208 du 20 février 1956 (Création de la Réserve Spéciale) ; Modification de statut : aucune ; Dernière modification de statut : aucune ; Surface actuelle : 34 700 ha (selon le décret en vigueur).\n\n\nCode\nshow_cnlegis_for_pa(5022, pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP NA dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n\n\n\n\n\nLe Décret 56-208 du 20 février 1956 créant la Réserve Spéciale d’Analamerana n’apparaît pas dans CNLEGIS (pré-2000). WDPA 2025 montre des erreurs majeures : DESIG=“Parc National” au lieu de “Reserve Speciale”, IUCN_CAT=II au lieu de IV, et STATUS_YR=2015 au lieu de 1956. Goodman confirme qu’aucune modification de statut n’a eu lieu.\n\n\nCode\n# FAT: Correction du DESIG, IUCN_CAT et STATUS_YR\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = 5022,\n  manual_decision = list(\n    date_texte = as.Date(\"1956-02-20\"),\n    type_texte = \"Décret\",\n    num_texte = \"56-208\",\n    objet_texte = \"Création de la Réserve Spéciale d'Analamerana\"\n  ),\n  attributes = list(\n    DESIG = \"Reserve Speciale\",\n    DESIG_ENG = \"Special Reserve\",\n    DESIG_TYPE = \"National\",\n    IUCN_CAT = \"IV\",\n    STATUS_YR = 1956\n  ),\n  amendment_type = \"correction\",\n  valid_from = \"1956-02-20\",\n  notes = \"WDPA incorrectly shows DESIG='Parc National', IUCN_CAT=II, and STATUS_YR=2015. Analamerana is a Special Reserve (RS) created in 1956 (Décret 56-208), IUCN category IV. No status change has occurred according to Goodman et al. 2018.\"\n)\n\n\n\n\n8.2.4 Andohahela\nGoodman et al. (2018) indique pour cette AP:\n\nAspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et le Cantonnement Forestier de Tolagnaro) ; Création : selon le Décret du 11 juin 1939 (Création de la Réserve Naturelle Intégrale n° 11) ; Modification de statut : la Réserve Naturelle Intégrale d’Andohahela fut créée en 1939 suivant le Décret du 11 juin 1939 et ses limites ont été définies en 1966 avec Décret n° 66-242 du 1 juin 1966. Cette aire protégée a la particularité d’être constituée de trois parcelles adjacentes. En 2002, elle subit un déclassement en parc national selon le Décret n° 97-1043 du 7 août 2002. Le Décret n° 2015-785 du 28 avril 2015 apporte un léger changement de limites aux trois parcelles qui composaient déjà l’aire protégée (Parcelle I : 62 124 ha ; Parcelle II : 13 759 ha ; Parcelle III : 437 ha) ; Dernière modification de statut : suivant le Décret n° 2015- 785 du 28 avril 2015 ; Surface actuelle : 76 140 ha (selon le décret en vigueur).\n\nNB : Il y a visiblement une erreur dans le texte, le décret 97-1043 date de 1997, pas 2002. Ce décret n’était pas disponible dans CNLEGIS, mais a été retrouvé et archivé à l’adresse : https://archive.org/details/decret-n-97-1043-du-07-aout-1997-pn-andoahahela\nLes sources secondaires indiquent qu’Andohahela a connu plusieurs évolutions juridiques et spatiales depuis sa création initiale. Créée en 1939 comme Réserve Naturelle Intégrale, l’aire protégée a vu ses limites précisées en 1966, puis son statut modifié en 1997 (Décret n° 97-1043) lors de son déclassement en Parc National. Ces événements sont antérieurs à la disponibilité de données spatiales numériques homogènes et ne peuvent donc pas être documentés directement dans la Spatial Amendment Table.\nLes textes réglementaires récents identifiés dans CNLEGIS confirment en revanche une modification explicite des limites en 2015, par l’Arrêté n°2015-785 du 28 avril 2015, portant modification des limites du Parc National d’Andohahela. On la retrouve bien dans nos données CNLEGIS :\n\n\nCode\nshow_cnlegis_for_pa(\"Andohahela\", pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Andohahela dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n2015-04-28\nArrêté\n2015-785\nmodifiant\n44640\nPortant modification des limites du Parc National n°06 d'Andohahela et délimitation de sa zone de protection sises dans les Districts de Tolagnaro et d'Amboasary Sud, Région Anosy.\n\n\n\n\n\n\n\nCette décision juridique constitue un déclencheur clair pour l’introduction d’un amendement spatial dans la SAT. On trouve plusieurs périmètres distincts dans les données. D’après les cartes disponible dans le plan d’aménagement et de gestion d’Andohahela datant de 2012, les polygones inclus dans SAPM 2010 sont ceux qui correspondent aux délimitations utilisées avant 2015.\n\n\nCode\nplot_pa_sources(\n  \"Andohahela\",\n  sources = c(\"WDPA_2025\", \"SAPM_evol_2001-2011\")\n)\n\n\n\n\n\n\n\n\n\nConformément aux règles de construction de la SAT, seule la géométrie immédiatement antérieure à la modification de 2015 est retenue comme amendement spatial documenté.\n\n\nCode\nsat &lt;- sat |&gt;\n  add_modif_sat(\n    data = all_PAs_conso,\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Andohahela\",\n    decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n    source_dataset_id = \"SAPM_evol_2001-2011\",\n    notes = \"Périmètre antérieur au décret modifiant (géométrie SAPM_2010 retenue après vérification visuelle).\"\n  )\n\n\nLe changement de statut de 1997 (RNI → PN) constitue un changement d’attributs à documenter dans FAT. Bien que ce décret ne soit pas référencé dans CNLEGIS, il a été retrouvé et archivé.\n\n\nCode\nfat &lt;- fat |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Andohahela\",\n    manual_decision = list(\n      date_texte = \"1997-08-07\",\n      type_texte = \"Décret\",\n      num_texte = \"97-1043\",\n      objet_texte = \"Portant déclassement   en  parc    national\"\n    ),\n    attributes = list(\n      DESIG = \"Réserve Naturelle Intégrale\",\n      DESIG_ENG = \"Strict Nature Reserve\",\n      DESIG_TYPE = \"National\",\n      IUCN_CAT = \"Ia\"\n    ),\n    amendment_type = \"status_change\",\n    valid_from = \"1966-06-01\",\n    notes = \"RNI #11 transformed to PN in 1997 (Décret 97-1043 du 7 août 1997). Three-parcel structure maintained. Decree not in CNLEGIS but archived independently. Reference: https://archive.org/details/decret-n-97-1043-du-07-aout-1997-pn-andoahahela\"\n  ) |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Andohahela\",\n    decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n    attributes = list(\n      STATUS_YR = \"1939\"\n    ),\n    amendment_type = \"correction\",\n    valid_from = \"1939-06-11\",\n    notes = \"WDPA incorrectly shows STATUS_YR=2015 (date of PN creation). Actual creation was 1939 as RNI #11 (Décret du 11 juin 1939).\"\n  )\n\n\n\n\n8.2.5 Andranomena\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et la Circonscription Forestière de Morondava) ; Création : selon le Décret n° 58-13 du 28 octobre 1958 (Création de la Réserve Spéciale) ; Modification de statut : la Réserve Spéciale d’Andranomena fut mise en place depuis 1955 selon l’Arrêté n° 152-SE/EF/CG du 16 avril 1955 et est définitivement créée en 1958 suivant le Décret n° 58-13 du 28 octobre 1958. Elle fait actuellement partie du Paysage Harmonieux Protégé de Menabe Antimena créé en 2015. Toutefois, elle conserve ses propres statuts juridique et foncier ainsi que toutes les règlementations y afférant ; Dernière modification de statut : aucune ; Surface actuelle : 6420 ha (selon le décret en vigueur).\n\n\nCode\nshow_cnlegis_for_pa(5040, pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Andranomena dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1958-10-28\nDécret\n58-13\ncreation_definitive\n21574\nInstituant la réserve spéciale d'Andranomena (district de Morondava, province de Tuléar)\n\n\n\n\n\n\n\nWDPA 2025 montre STATUS_YR=2015, qui correspond à la création du Paysage Harmonieux Protégé de Menabe Antimena. Cependant, Goodman précise qu’Andranomena conserve ses propres statuts juridique et foncier. La Réserve Spéciale d’Andranomena a été créée en 1958 par le Décret 58-13, qui apparaît dans CNLEGIS.\n\n\nCode\n# FAT: Correction du STATUS_YR\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = 5040,\n  decision_filter = list(num_texte = \"58-13\"),\n  attributes = list(\n    STATUS_YR = 1958\n  ),\n  amendment_type = \"correction\",\n  valid_from = \"1958-10-28\",\n  notes = \"WDPA incorrectly shows STATUS_YR=2015 (date of creation of PHP Menabe Antimena which encompasses Andranomena). RS Andranomena was created in 1958 (Décret 58-13) and retains its own legal and land status according to Goodman et al. 2018.\"\n)\n\n\n\n\n8.2.6 Andringitra\nGoodman et al. (2018) indique pour cette AP:\n\nAspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et le Cantonnement Forestier d’Ambalavao) ; Création : selon le Décret du 31 décembre 1927 (Création de la Réserve Naturelle Intégrale n° 5) ; Modification de statut : la Réserve Naturelle Intégrale d’Andringitra fut mise en place en 1927 suivant le Décret du 31 décembre 1927 et ses limites ont été fixées en 1966 avec le Décret n° 66-242 du 1 juin 1966. L’aire protégée subit un changement de statut en 1998 avec le Décret n° 98-376 du 19 août 1998 et devient un parc national ; Dernière modification de statut : suivant le Décret n° 98-376 du 19 août 1998 ; Surface actuelle : 31 160 ha (selon le décret en vigueur).\n\nLes métadonnées indiquent que cette aire protégée a été créée en 1927 comme RNI #5, puis ses limites ont été fixées en 1966, avant un changement de statut en 1998:\n\n\nCode\nshow_cnlegis_for_pa(2308, pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Andringitra dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1963-03-06\nDécret\n63-161\nmodifiant\n24157\nPrécisant les limites de la réserve naturelle intégrale n°5 dite de l'Andringitra, sous-préfecture d'Ambalavao, province de Fianarantsoa.\n\n\n1998-05-19\nDécret\n98-376\nmodifiant\n34798\nPortant changement de statut de la Réserve naturelle intégrale n°5 d'Antsiranana en Parc national n°14.\n\n\n\n\n\n\n\nLa modification survenue en 1998 ne porte pas sur un changement de frontière mais sur un changement de statut juridique (de RNI à PN). Aucun amendement spatial n’est donc nécessaire. On documente le changement de statut dans FAT.\n\n\nCode\nfat &lt;- fat |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Andringitra\",\n    decision_filter = list(year = 1998, type_decision_pattern = \"modifiant\"),\n    attributes = list(\n      DESIG = \"Réserve Naturelle Intégrale\",\n      DESIG_ENG = \"Strict Nature Reserve\",\n      DESIG_TYPE = \"National\",\n      IUCN_CAT = \"Ia\"\n    ),\n    amendment_type = \"status_change\",\n    valid_from = \"1966-06-01\",\n    notes = \"RNI #5 transformed to PN in 1998 (Décret 98-376 du 19 août 1998). Boundaries remained unchanged from 1966 delimitation.\"\n  ) |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Andringitra\",\n    decision_filter = list(year = 1998, type_decision_pattern = \"modifiant\"),\n    attributes = list(\n      STATUS_YR = \"1927\"\n    ),\n    amendment_type = \"correction\",\n    valid_from = \"1927-12-31\",\n    notes = \"WDPA incorrectly shows STATUS_YR=1998 (date of PN upgrade). Actual creation was 1927 as RNI #5 (Décret du 31 décembre 1927).\"\n  )\n\n\n\n\n8.2.7 Anjanaharibe_sud\nGoodman et al. (2018) indique pour cette AP: &gt; Aspect légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et le Cantonnement Forestier d’Andapa). Le PCDI Marojejy / Anjanaharibe-Sud était installé en 1993 et la gestion de ces deux sites a connu des phases successives : au cours de la première, elle a été gérée conjointement par la Direction des Eaux et Forêts et le WWF et durant la deuxième, l’opérateur principal pour sa gestion était le WWF, sous la coordination de l’Association Nationale pour la Gestion des Aires Protégées. ; Création : selon le Décret n° 58-12 du 28 octobre 1958 (Création de la Réserve Spéciale) ; Modification de statut : créée en 1958 suivant le Décret n° 58-12 du 28 octobre 1958, la Réserve Spéciale d’Anjanaharibe- Sud subit un changement de limites sous le Décret n° 2015-729 du 21 avril 2015 ; Dernière modification de statut : suivant le Décret n° 2015-729 du 21 avril 2015 ; Surface actuelle : 26 903 ha (selon le décret en vigueur).\nLes métadonnées indiquent que cette aire protégée a été créée en 1958 comme Réserve Spéciale, puis ses limites ont été modifiées en 2015:\n\n\nCode\nshow_cnlegis_for_pa(5023, pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Anjanaharibe_sud dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1958-10-28\nDécret\n58-12\ncreation_definitive\n21575\nInstituant la réserve spéciale d'Anjanaharibe-Sud (district d'Andapa, province de Diégo-Suarez)\n\n\n2015-04-21\nDécret\n2015-729\nmodifiant\n45694\nPortant modification des limites de la réserve spéciale d'Anjanaharibe-Sud et délimitation de sa zone de protection sise dans le District d'Andapa, Région Sava, District de Bealanana et de Befandriana-Nord, Région Sofia.\n\n\n\n\n\n\n\nAprès inspection visuelle des différentes sources disponibles, on retient MNP_2010 comme source des limites avant la modification de 2015. Cette géométrie représente le périmètre tel que géré par Madagascar National Parks avant l’entrée en vigueur du décret modificatif.\n\n\nCode\nplot_pa_sources(\n  \"Anjanaharibe_sud\",\n  sources = c(\"MNP_2010\", \"WDPA_2025\")\n)\n\n\n\n\n\n\n\n\n\nConformément aux règles de construction de la SAT, seule la géométrie immédiatement antérieure à la modification de 2015 est ajoutée comme amendement spatial.\n\n\nCode\nsat &lt;- sat |&gt;\n  add_modif_sat(\n    data = all_PAs_conso,\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Anjanaharibe_sud\",\n    decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n    source_dataset_id = \"MNP_2010\",\n    valid_from = \"1958-10-28\",\n    notes = \"Périmètre antérieur au décret modifiant (géométrie MNP_2010 retenue après vérification visuelle).\"\n  )\n\n\nL’année de création de cette AP est 1958 (pas 2015 comme indiqué dans la WDPA 2025). On corrige STATUS_YR dans FAT.\n\n\nCode\nfat &lt;- fat |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Anjanaharibe_sud\",\n    decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n    attributes = list(\n      STATUS_YR = \"1958\"\n    ),\n    amendment_type = \"correction\",\n    valid_from = \"1958-10-28\",\n    notes = \"WDPA incorrectly shows STATUS_YR=2015 (date of boundary modification). Actual creation was 1958 as Réserve Spéciale (Décret 58-12 du 28 octobre 1958).\"\n  )\n\n\n\n\n8.2.8 Ankarafantsika\nGoodman et al. (2018) indique pour cette AP: Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et le Service Provincial des Eaux et Forêts de Mahajanga) ; Création : selon le Décret du 31 décembre 1927 (Création de la Réserve Naturelle Intégrale n° 7) ; Modification de statut : la Réserve Naturelle Intégrale d’Ankarafantsika fut créée en 1927 et ses limites ont été précisées en 1966 avec le Décret n° 66-242 du 1 juin 1966 (60 520 ha). Parallèlement, des territoires de la Forêt d’Ankarafantsika sur les districts de Marovoay et Ambato Boeny ont été classés réserves forestières avec l’Arrêté du 24 décembre 1929 (75 000 ha). De plus, le Jardin botanique d’Ampijoroa (district d’Ambato Boeny, 91 ha), recensé en 1969 par le Domaine Forestier National est devenu la Station Forestière d’Ampijoroa (4974 ha) en 1999 par l’Arrêté interministériel n° 13-056/99 du 7 décembre 1999. En 2002, la réserve naturelle intégrale créée en 1927 et reclassée en 1966, les réserves forestières instituées en 1929 ainsi que la Station Forestière d’Ampijoroa sont toutes instituées en un seul parc national (Décret n° 2002-798 du 7 août 2002, 130 000 ha). Ce dernier subit un changement de limites en 2015 sous le Décret n° 2015-730 du 21 avril 2015 ; Dernière modification de statut : suivant le Décret n° 2015-730 du 21 avril 2015 ; Surface actuelle : 136 513 ha (selon le décret en vigueur).\nLes sources secondaires indiquent qu’Ankarafantsika a connu une évolution complexe, avec la création de la RNI #7 en 1927, l’établissement de réserves forestières adjacentes en 1929, et la consolidation de l’ensemble en parc national en 2002, puis modification de statut et de frontières en 2015.\n\n\nCode\nshow_cnlegis_for_pa(\"Ankarafantsika\", pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Ankarafantsika dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1958-10-28\nDécret\n58-11\ncreation_definitive\n21576\nInstituant une zone de protection autour de la réserve naturelle intégrale de l'Ankarafantsika (districts d'Ambato-Boéni et de Marovoay, province de Majunga)\n\n\n1958-10-28\nDécret\n58-09\nmodifiant\n21578\nPrécisant les limites de la réserve naturelle intégrale n°VII, dite de l'Ankarafantsika (districts d'Ambato-Boéni et de Marovoay, province de Majunga)\n\n\n2002-08-07\nDécret\n2002-798\nmodifiant\n36562\nPortant changement de statut de la réserve naturelle intégrale n°15 d'Ankarafantsika et de la réserve forestière en parc national\n\n\n2015-04-21\nDécret\n2015-730\nmodifiant\n44695\nPortant modification des limites du Parc National n°15 d'Ankarafantsika et délimitation de sa zone de protection sise dans les Districts d'Ambatoboeny et de Marovoay, Région Boeny.\n\n\n\n\n\n\n\nAprès inspection visuelle des différentes sources disponibles, on retient ANGAP_2002 comme source des limites avant la modification de 2015.\n\n\nCode\nplot_pa_sources(\n  \"Ankarafantsika\",\n  sources = c(\"WDPA_2025\", \"ANGAP_2002\")\n)\n\n\n\n\n\n\n\n\n\nL’extension de 2002 a fait l’objet d’une cartographie détaillée par Conservation International (Alonso and Schulenberg 2002), mais les périmètres antérieurs à 2002 sont en cours de re-vectorisation et ne sont pas encore disponibles pour documentation dans la SAT.\n\n\n\nAnkarafantsika 2002 expansion\n\n\nLes textes légaux identifient plusieurs décisions modificatives, notamment en 2002 (création du PN par consolidation) et 2015 (modification des limites). Après inspection visuelle, on retient ANGAP_2002 comme source du périmètre avant la modification de 2015.\n\n\nCode\nsat &lt;- sat |&gt;\n  add_modif_sat(\n    data = all_PAs_conso,\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Ankarafantsika\",\n    decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n    source_dataset_id = \"ANGAP_2002\",\n    valid_from = \"2002-08-07\",\n    notes = \"Périmètre 2002-2015 avant modification des limites (géométrie ANGAP_2002 retenue après vérification visuelle). Périmètres pré-2002 en cours de re-vectorisation.\"\n  )\n\n\nL’année de création de cette AP est 1927 (pas 2015 comme pourrait l’indiquer WDPA). La transformation en PN date de 2002. On documente le changement de statut dans FAT.\n\n\nCode\nfat &lt;- fat |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Ankarafantsika\",\n    decision_filter = list(year = 2002, type_decision_pattern = \"modifiant\"),\n    attributes = list(\n      DESIG = \"Réserve Naturelle Intégrale\",\n      DESIG_ENG = \"Strict Nature Reserve\",\n      DESIG_TYPE = \"National\",\n      IUCN_CAT = \"Ia\"\n    ),\n    amendment_type = \"status_change\",\n    valid_from = \"1927-12-31\",\n    notes = \"RNI #7 created 1927, boundaries clarified 1966. RNI (+ forest reserves + Station Forestière Ampijoroa) consolidated into PN in 2002 (Décret 2002-798 du 7 août 2002). Major boundary expansion. Reference: Alonso & Shuldenberg 2002\"\n  ) |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Ankarafantsika\",\n    decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n    attributes = list(\n      STATUS_YR = \"1927\"\n    ),\n    amendment_type = \"correction\",\n    valid_from = \"1927-12-31\",\n    notes = \"WDPA may show STATUS_YR=2002 or 2015. Actual creation was 1927 as RNI #7 (Décret du 31 décembre 1927).\"\n  )\n\n\n\n\n8.2.9 Ankarana\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et Triage Forestier d’Anivorano) ; Création : selon le Décret n° 56-208 du 20 février 1956 (Création de la Réserve Spéciale) ; Modification de statut : aucune ; Dernière modification de statut : aucune ; Surface actuelle : 18 225 ha (selon le décret en vigueur).\nCréation en 1956 ou 2015 (dans WDPA 2025 c’est 2015) ?\n\n\nCode\nshow_cnlegis_for_pa(5024, pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP NA dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n\n\n\n\n\nLe Décret 56-208 du 20 février 1956 créant la Réserve Spéciale d’Ankarana n’apparaît pas dans CNLEGIS (pré-2000). WDPA 2025 montre STATUS_YR=2015 au lieu de 1956. DESIG et IUCN_CAT sont corrects (Reserve Speciale, IV). Goodman confirme qu’aucune modification de statut n’a eu lieu.\n\n\nCode\n# FAT: Correction du STATUS_YR\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = 5024,\n  manual_decision = list(\n    date_texte = as.Date(\"1956-02-20\"),\n    type_texte = \"Décret\",\n    num_texte = \"56-208\",\n    objet_texte = \"Création de la Réserve Spéciale d'Ankarana\"\n  ),\n  attributes = list(\n    STATUS_YR = 1956\n  ),\n  amendment_type = \"correction\",\n  valid_from = \"1956-02-20\",\n  notes = \"WDPA incorrectly shows STATUS_YR=2015. RS Ankarana was created in 1956 (Décret 56-208). No status change has occurred according to Goodman et al. 2018.\"\n)\n\n\n\n\n8.2.10 Befotaka-Midongy du Sud\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo ; le Cantonnement Forestier de Midongy du Sud et la Circonscription Forestière de Manakara) ; Création : selon le Décret n° 97-1451 du 18 décembre 1997 ; Modification de statut : les Forêts Classées de Soarano (Arrêté n° 150-DOM/PF du 22 janvier 1953) et de Befotaka (Arrêté n° 08-DOM/PF du 15 avril 1953) localisées à 100 km à l’ouest de Vangaindrano, existent déjà depuis 1953 et font actuellement partie intégrante du Parc National de Befotaka-Midongy du Sud créé en 1997 selon le Décret n° 97-1451 du 18 décembre 1997 ; Dernière modification de statut : aucune ; Surface actuelle : 192 198 ha (selon le décret en vigueur).\n\n\nCode\nshow_cnlegis_for_pa(20272, pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Befotaka Midongy dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1997-12-18\nDécret\n97-1451\ncreation_definitive\n34596\nPortant création du parc national n°9 de Befotaka/Midongy à cheval dans les Fivondronampokontany de Midongy-du-Sud, Befotaka et d'Iakora, Faritany de Fianarantsoa.\n\n\n\n\n\n\n\nLe Décret 97-1451 du 18 décembre 1997 portant création du Parc National de Befotaka-Midongy du Sud apparaît bien dans la base CNLEGIS. Ce parc intègre des parties des forêts classées de Soarano et Befotaka créées en 1953.\nWDPA 2025 montre STATUS_YR=1953, ce qui est incorrect. Cette date correspond aux forêts classées qui ne sont pas des aires protégées au sens du Code de la Conservation. Le Parc National a été créé en 1997.\n\n\nCode\n# FAT: Correction du STATUS_YR\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = 20272,\n  decision_filter = list(num_texte = \"97-1451\"),\n  attributes = list(\n    STATUS_YR = 1997\n  ),\n  amendment_type = \"correction\",\n  valid_from = \"1997-12-18\",\n  notes = \"WDPA incorrectly shows STATUS_YR=1953 (date of classified forests that were not protected areas). PN Befotaka-Midongy du Sud was created in 1997 (Décret 97-1451), incorporating parts of the Soarano and Befotaka classified forests from 1953.\"\n)\n\n\n\n\n8.2.11 Bemaraha\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo) ; Création : selon le Décret du 31 décembre 1927 (Création de la Réserve Naturelle Intégrale n° 9) ; Modification de statut : la création de la réserve naturelle intégrale fut réalisée en 1927 suivant le Décret du 31 décembre 1927 complétée par le Décret n° 66-242 du 1 juin 1966 (152 000 ha). En 2011, l’aire protégée subit une modification de limites (157 710 ha) et de statut en parc national suivant le Décret n° 2011- 498 du 6 septembre 2011 ; Dernière modification de statut : suivant le Décret n° 2011-498 du 6 septembre 2011 ; Surface actuelle : 157 710 ha (selon le décret en vigueur).\nLe texte de Goodman et al. omet la modification introduite par le décret 97-1045.\n\n\nCode\nshow_cnlegis_for_pa(\"Bemaraha\", pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Bemaraha dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1997-08-07\nDécret\n97-1045\nmodifiant\n34445\nPortant modification des limites de la Réserve naturelle intégrale n°IX dite : Tsingy-de-Bemaraha, et déclassement partiel de ladite Réserve naturelle intégrale en Parc national n°7 dit : Tsingy-de-Bemaraha\n\n\n2011-09-06\nDécret\n2011-498\ncreation_definitive, modifiant\n41311\nPortant changement de statut de la Réserve Naturelle Intégrale n°IX, dite : \"Tsingy de Bemaraha\" en Parc National, et création de la zone de protection du Parc National n°7 dit : \"Tsingy de Bemaraha\", sis dans les Districts d'Antsalova et de Morafenobe, Région Melaky\n\n\n\n\n\n\n\nLes textes légaux identifient deux décisions modificatives : 1997 (modification des limites) et 2011 (modification des limites + changement de statut RNI → PN). Nous documentons la modification de 2011, pour laquelle nous disposons d’une géométrie pré-modification. Les périmètres antérieurs à 1997 ne sont pas disponibles.\n\n\nCode\nplot_pa_sources(\n  \"Bemaraha\",\n  sources = c(\"WDPA_2025\", \"SAPM_2010\")\n)\n\n\n\n\n\n\n\n\n\nAprès inspection visuelle, on retient SAPM_2010 comme source du périmètre avant la modification de 2011.\n\n\nCode\nsat &lt;- sat |&gt;\n  add_modif_sat(\n    data = all_PAs_conso,\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Bemaraha\",\n    decision_filter = list(year = 2011, type_decision_pattern = \"modifiant\"),\n    source_dataset_id = \"SAPM_2010\",\n    valid_from = \"1997-08-07\",\n    notes = \"Périmètre 1997-2011 avant modification des limites (géométrie SAPM_2010 retenue après vérification visuelle). Périmètres pré-1997 non disponibles.\"\n  )\n\n\nL’année de création de cette AP est 1927 (pas 2011). La transformation en PN date de 2011. On documente le changement de statut dans FAT.\n\n\nCode\nfat &lt;- fat |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Bemaraha\",\n    decision_filter = list(year = 2011, type_decision_pattern = \"modifiant\"),\n    attributes = list(\n      DESIG = \"Réserve Naturelle Intégrale\",\n      DESIG_ENG = \"Strict Nature Reserve\",\n      DESIG_TYPE = \"National\",\n      IUCN_CAT = \"Ia\"\n    ),\n    amendment_type = \"status_change\",\n    valid_from = \"1997-08-07\",\n    notes = \"RNI #9 created 1927, boundaries modified 1997 (Décret 97-1045). Transformed to PN in 2011 (Décret 2011-498 du 6 septembre 2011) with boundary modification.\"\n  ) |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Bemaraha\",\n    decision_filter = list(year = 2011, type_decision_pattern = \"modifiant\"),\n    attributes = list(\n      STATUS_YR = \"1927\"\n    ),\n    amendment_type = \"correction\",\n    valid_from = \"1927-12-31\",\n    notes = \"WDPA 2025 show STATUS_YR=1997. Actual creation was 1927 as RNI #9 (Décret du 31 décembre 1927).\"\n  )\n\n\n\n\n8.2.12 Betampona\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) depuis 1996 ; Gestion antérieure : Service des Eaux & Forêts de Toamasina & SAF/FJKM ; Création : selon le Décret du 31 décembre 1927 (Création de la Réserve Naturelle Intégrale n° 1) ; Modification de statut : la Réserve Naturelle Intégrale de Betampona fut créée en 1927 sous le Décret du 31 décembre 1927 complété par le Décret n° 66-242 du 1 juin 1966 ; Dernière modification de statut : suivant le Décret n° 66-242 du 1 juin 1966 ; Surface actuelle : 2228 ha (selon le décret en vigueur).\nWDPA 2025 montre STATUS_YR=1997, ce qui est incorrect: aucun changement n’a eu lieu en 1997. La RNI a été créée en 1927 et maintient ce statut jusqu’à aujourd’hui.\n\n\nCode\n# FAT: Correction du STATUS_YR\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = 2310,\n  manual_decision = list(\n    date_texte = as.Date(\"1927-12-31\"),\n    type_texte = \"Décret\",\n    num_texte = \"1927-12-31\",\n    objet_texte = \"Création de la Réserve Naturelle Intégrale n°1 de Betampona\"\n  ),\n  attributes = list(\n    STATUS_YR = 1927\n  ),\n  amendment_type = \"correction\",\n  valid_from = \"1927-12-31\",\n  notes = \"WDPA incorrectly shows STATUS_YR=1997. RNI Betampona was created in 1927 as RNI #1 (Décret du 31 décembre 1927, complemented by Décret 66-242 of 1966). No status change occurred in 1997.\"\n)\n\n\n\n\n8.2.13 Beza Mahafaly\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo) et Ecole Supérieure des Sciences Agronomiques, Forêts (ESSA-Forêts) ; Création : selon le Décret n° 86-168 du 4 juin 1986 ; Modification de statut : la Réserve Spéciale de Bezà- Mahafaly, créée en 1986 selon le Décret n° 86-168 du 4 juin 1986, a subi un changement de limites en 2015 sous le Décret n° 2015-733 du 21 avril 2015 ; Dernière modification de statut : suivant le Décret n° 2015-733 du 21 avril 2015 ; Surface actuelle : 4200 ha (selon le décret en vigueur).\n\n\nCode\nshow_cnlegis_for_pa(10634, pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Beza Mahafaly dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n2015-04-21\nDécret\n2015-733\nmodifiant\n44677\nPortant modification des limites de la Réserve Spéciale de Beza-Mahafaly et délimitation de sa Zone de Protection sise dans le District de Betioky-Sud, Région Atsimo Andrefana.\n\n\n\n\n\n\n\nAprès inspection visuelle et croisement avec des cartes incluses dans des publications scientifiques (Sussman et al. 2012), on retient MNP_2010 comme source des limites avant la modification de 2015.\n\n\nCode\nplot_pa_sources(\n  \"Beza Mahafaly\",\n  sources = c(\"MNP_2010\", \"WDPA_2025\")\n)\n\n\n\n\n\n\n\n\n\nLa modification de 2015 ne porte que sur les limites, sans changement de statut (reste Réserve Spéciale). On documente uniquement l’amendement spatial dans SAT.\n\n\nCode\nsat &lt;- sat |&gt;\n  add_modif_sat(\n    data = all_PAs_conso,\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Beza Mahafaly\",\n    decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n    source_dataset_id = \"MNP_2010\",\n    valid_from = \"1986-06-04\",\n    notes = \"Géométrie MNP_2010 retenue après vérification visuelle et croisement avec Sussman et al. 2012, https://doi.org/10.1007/978-3-642-22514-7_3).\"\n  )\n\n\n\n\n8.2.14 Bora\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Ministère de l’Environnement, de l’Ecologie et des Forêts (MEEF) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et la Circonscription Forestière d’Antsohihy) et Madagascar National Parks (MNP) ; Création : selon le Décret n° 56-208 du 20 février 1956 ; Modification de statut : la Réserve Spéciale de Bora, initialement composée de deux parcelles (Parcelle I : 4787 ha et Parcelle II : 3650 ha) et d’un Jardin Botanique (54 ha), a été créée sous le Décret n° 56-208 du 20 février 1956. L’aire protégée subit un changement de limites en 1964 avec le déclassement de la deuxième parcelle en réserve forestière suivant le Décret n° 64-159 du 22 avril 1964 ; Dernière modification de statut : suivant le Décret n° 64-159 du 22 avril 1964 ; Surface actuelle : 4841 ha (selon le décret en vigueur).\n\n\n\n\n\n\nNote\n\n\n\nCette aire protégée a connu une modification en 1964, mais aucune géométrie antérieure à cette date n’est disponible pour documentation dans la SAT.\n\n\n\n\n8.2.15 Cap Sainte Marie\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et Cantonnement Forestier de Tsihombe) ; Création : selon le Décret n° 62-527 du 24 octobre 1962 ; Modification de statut : la Réserve Spéciale de Cap Sainte Marie fut créée en 1962 sous le Décret n° 62-527 du 24 octobre 1962 puis subit un changement de limites en 2015 sous le Décret n° 2015-734 du 21 avril 2015 ; Dernière modification de statut : suivant le Décret n° 2015-734 du 21 avril 2015 ; Surface actuelle : 3610 ha (selon le décret en vigueur).\nLes métadonnées indiquent bien que cette aire protégée a été créée en 1962 comme Réserve Spéciale, puis ses limites ont été modifiées en 2015:\n\n\nCode\nshow_cnlegis_for_pa(5041, pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Cap Sainte Marie dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1962-10-24\nDécret\n62-527\ncreation_definitive\n23809\nInstituant la réserve spéciale du cap Sainte-Marie, sous-préfecture d'Ambovombe, province de Tuléar\n\n\n2015-04-21\nDécret\n2015-734\nmodifiant\n44678\nPortant modification des limites de la Réserve Spéciale de Cap Sainte Marie et délimitation de sa Zone de Protection sise dans le District de Tsihombe et de Beloha, Région Androy.\n\n\n\n\n\n\n\nAprès inspection visuelle des différentes sources disponibles, on retient MNP_2010 comme source des limites avant la modification de 2015.\n\n\nCode\nplot_pa_sources(\n  \"Cap Sainte Marie\",\n  sources = c(\"WDPA_2025\", \"MNP_2010\")\n)\n\n\n\n\n\n\n\n\n\nLa modification de 2015 ne porte que sur les limites, sans changement de statut (reste Réserve Spéciale). On documente l’amendement spatial dans SAT.\n\n\nCode\nsat &lt;- sat |&gt;\n  add_modif_sat(\n    data = all_PAs_conso,\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Cap Sainte Marie\",\n    decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n    source_dataset_id = \"MNP_2010\",\n    valid_from = \"1962-10-24\",\n    notes = \"Périmètre 1962-2015 avant modification des limites (géométrie MNP_2010 retenue après vérification visuelle).\"\n  )\n\n\nL’année de création de cette AP est 1962 (pas 2015 comme indiqué dans WDPA 2025). On corrige STATUS_YR dans FAT.\n\n\nCode\nfat &lt;- fat |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Cap Sainte Marie\",\n    decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n    attributes = list(\n      STATUS_YR = \"1962\"\n    ),\n    amendment_type = \"correction\",\n    valid_from = \"1962-10-24\",\n    notes = \"WDPA incorrectly shows STATUS_YR=2015 (date of boundary modification). Actual creation was 1962 as Réserve Spéciale (Décret 62-527 du 24 octobre 1962).\"\n  )\n\n\n\n\n8.2.16 Kirindy Mite\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : aucune ; Création : selon le Décret n° 97-1453 du 18 décembre 1997 ; Modification de statut : une partie de la Forêt Classée de Marofihitra mise en place par l’Arrêté n° 1462-MFR/FOR du 5 juin 1963 est intégrée dans le Parc National de Kirindy Mité créé en 1997 suivant le Décret n° 97-1453 du 18 décembre 1997. Il subit un changement de limites en 2015 sous le Décret n° 2015-735 du 21 avril 2015 ; Dernière modification de statut : suivant le Décret n° 2015-735 du 21 avril 2015 ; Surface actuelle : 156 350 ha (selon le décret en vigueur).\nLes métadonnées indiquent que cette aire protégée a été créée en 1997, puis ses limites ont été modifiées en 2015:\n\n\nCode\nshow_cnlegis_for_pa(303700, pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Kirindy Mite dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1997-12-18\nDécret\n97-1453\ncreation_definitive\n34595\nPortant création du Complexe du parc national n°11 de Kirindy/Mite, sis dans le Fivondronampokontany de Morondava, Faritany de Toliara.\n\n\n2015-04-21\nDécret\n2015-735\nmodifiant\n45766\nPortant modification des limites du Parc National de Kirindy Mite et délimitation de sa zone de protetion sis dans les Districts de Morondava et de Manja, Région Menabe.\n\n\n\n\n\n\n\nAprès inspection visuelle des différentes sources disponibles, on retient MNP_2010 comme source des limites avant la modification de 2015.\n\n\nCode\nplot_pa_sources(\n  \"Kirindy Mite\",\n  sources = c(\"MNP_2010\", \"WDPA_2025\")\n)\n\n\n\n\n\n\n\n\n\nLa modification de 2015 ne porte que sur les limites, sans changement de statut (reste Parc National). On documente uniquement l’amendement spatial dans SAT.\n\n\nCode\nsat &lt;- sat |&gt;\n  add_modif_sat(\n    data = all_PAs_conso,\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Kirindy Mite\",\n    decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n    source_dataset_id = \"MNP_2010\",\n    valid_from = \"1997-12-18\",\n    notes = \"Périmètre 1997-2015 avant modification des limites (géométrie MNP_2010 retenue après vérification visuelle).\"\n  )\n\n\n\n\n8.2.17 Lokobe\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et le Cantonnement Forestier de Nosy Be à Hell-Ville) ; Création : selon le Décret du 31 décembre 1927 (Création de la Réserve Naturelle Intégrale n° 6) ; Modification de statut : la Réserve Naturelle Intégrale de Lokobe fut créée en 1927 selon le Décret du 31 décembre 1927 complété par le Décret n° 66-242 du 1 juin 1966. En 2011, l’aire protégée subit un changement de statut et de limites sous le Décret n° 2011-500 du 6 juillet 2011 et est déclassée en parc national. En effet, la partie terrestre occupée auparavant par la réserve naturelle intégrale (740 ha) ainsi que son extension marine (122 ha) située dans le District de Nosy Be constituent l’actuel parc national ; Dernière modification de statut : suivant le Décret n° 2011-500 du 6 juillet 2011 ; Surface actuelle : 862 ha (selon le décret en vigueur).\nLes textes légaux confirment que cette aire protégée a été transformée en parc national en 2011 avec modification des limites.\n\n\nCode\nshow_cnlegis_for_pa(\"Lokobe\", pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Lokobe dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n2011-09-06\nDécret\n2011-500\ncreation_definitive, modifiant\n41313\nPortant changement de statut de la Réserve Naturelle Intégrale n°VI, en Parc National Lokobe, extension marine et création de la zone de protection du Parc National sis dans le District de Nosy-Be, Région Diana\n\n\n\n\n\n\n\n\n\nCode\n# Extract pre-2011 geometry from SAPM_2010 (excluding \"Lokobe extension\")\nlokobe_pre2011 &lt;- all_PAs_conso |&gt;\n  filter(WDPA_NAME == \"Lokobe\", dataset_id == \"SAPM_2010\") |&gt;\n  filter(NAME == \"Lokobe\") # Only main Lokobe, not the extension\n\n# For plotting, filter the consolidated data to exclude \"Lokobe extension\"\nlokobe_current &lt;- all_PAs_conso |&gt;\n  filter(NAME == \"Lokobe\", dataset_id == \"WDPA_2025\")\n\nlokobe_filtered &lt;- bind_rows(lokobe_pre2011, lokobe_current)\n\nplot_pa_sources(\n  \"Lokobe\",\n  data = lokobe_filtered,\n  sources = c(\"SAPM_2010\", \"WDPA_2025\")\n)\n\n\n\n\n\n\n\n\n\nLokobe (WDPAID 2311) a subi un changement de statut de Réserve Naturelle Intégrale (RNI/Catégorie UICN Ia) à Parc National (PN/Catégorie UICN II) en 2011 par le Décret 2011-500. Le décret a également autorisé une modification des limites incluant une extension marine (122 ha) et l’intégration de la partie terrestre (740 ha).\nLe jeu de données SAPM_2010 contient deux entités distinctes pour le WDPAID 2311 : “Lokobe” (~7,28 km²) représentant la RNI terrestre originale, et “Lokobe extension” représentant les extensions prévues. Pour la géométrie historique pré-2011, nous utilisons uniquement le polygone principal “Lokobe”, qui correspond à la RNI originale de 740 ha mentionnée dans le décret.\nWDPA 2025 rapporte 8,62 km² (862 ha comme indiqué dans le décret), reflétant la limite post-2011 incluant l’extension marine. La superficie calculée à partir de SAPM_2010 (~7,28 km²/728 ha) est proche des 740 ha terrestres du décret, les différences étant attribuables aux méthodes de projection et de calcul.\nSTATUS_YR dans WDPA 2025 est correctement fixé à 2011 (reflétant la date de désignation en PN). Cependant, la RNI originale a été créée en 1927, ce qui doit être suivi dans la FAT.\n\n\nCode\n# SAT: Pre-2011 boundary (original RNI)\nsat &lt;- sat |&gt;\n  add_modif_sat(\n    data = lokobe_pre2011,\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Lokobe\",\n    decision_filter = list(num_texte = \"2011-500\"),\n    source_dataset_id = \"SAPM_2010\",\n    amendment_type = \"boundary_modification\",\n    valid_from = \"1927-12-31\",\n    notes = \"Pre-2011 terrestrial RNI boundary before marine extension. SAPM_2010 'Lokobe' feature only (excluding 'Lokobe extension').\"\n  )\n\n# FAT: Pre-2011 status (RNI/Ia)\nfat &lt;- fat |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Lokobe\",\n    decision_filter = list(num_texte = \"2011-500\"),\n    attributes = list(\n      DESIG = \"Réserve Naturelle Intégrale\",\n      DESIG_ENG = \"Strict Nature Reserve\",\n      IUCN_CAT = \"Ia\"\n    ),\n    amendment_type = \"status_change\",\n    valid_from = \"1927-12-31\",\n    notes = \"Original RNI status from 1927 to 2011. Décret 1927-12-31 complemented by Décret 66-242 (1966-06-01).\"\n  )\n\n\n\n\n8.2.18 Mangerivola\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : aucune ; Création : selon le Décret n° 58-10 du 28 octobre 1958 ; Modification de statut : l’aire protégée fut créée en 1958 selon le Décret n° 58-10 du 28 octobre 1958 complété par l’Arrêté n° 1723- MFR/FOR du 14 septembre 1963 qui définit clairement ses limites ; Dernière modification de statut : aucune ; Surface actuelle : 12 475 ha (selon le décret en vigueur).\nLes métadonnées confirment que cette aire protégée a été créée en 1958 comme Réserve Spéciale, sans modification ultérieure:\n\n\nCode\nshow_cnlegis_for_pa(5038, pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Mangerivola dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1963-07-05\nArrêté\n1723/63\nmodifiant\n24421\nPrécisant les limites de la réserve spéciale de Mangerivola, située dans la sous-préfecture de Brickaville, province de Tamatave.\n\n\n\n\n\n\n\n\n\n8.2.19 Manombo\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo ; le Cantonnement Forestier de Farafangana et la Circonscription Forestière de Manakara) ; Création : selon le Décret n° 62-637 du 5 décembre 1962 ; Modification de statut : une partie de la Réserve Forestière d’Efasy mise en place en 1952 suivant l’Arrêté n° 814- DOM du 9 avril 1952 (7850 ha) de 2800 ha fut reclassée et est devenue la Réserve Spéciale de Manombo en 1962, selon le Décret n° 62-637 du 5 décembre 1962. Cette dernière subit une modification de limites en 1967 sous le Décret n° 67-051 du 31 janvier 1967 ; Dernière modification de statut : suivant le Décret n° 67-051 du 31 janvier 1967 ; Surface actuelle : 5320 ha (selon le décret en vigueur).\nLes métadonnées confirment que cette aire protégée a été créée en 1962 comme Réserve Spéciale, puis ses limites ont été modifiées en 1967:\n\n\nCode\nshow_cnlegis_for_pa(\"Manombo\", pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Manombo dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1962-12-05\nDécret\n62-637\ncreation_definitive\n23879\nInstituant la réserve spéciale de Manombo, sous-préfecture de Farafangana, province de Fianarantsoa\n\n\n1967-01-31\nDécret\n67-051\nmodifiant\n26323\nModifiant les limites de la réserve spéciale de Manombo, sous-préfecture de Farafangana, province de Fianarantsoa.\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\n1967-01-31: modification des limites, mais pas de géométrie antérieure disponible pour documentation dans la SAT.\n\n\n\n\n8.2.20 Manongarivo\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et le Cantonnement Forestier d’Ambanja) ; Création : selon le Décret n° 56-208 du 20 février 1956 (Création de la Réserve Spéciale) ; Modification de statut : la réserve spéciale fut créée en 1956 selon le Décret n° 56-208 du 20 février 1956 et subit une modification de limites en 2015 sous le Décret n° 2015-784 du 28 avril 2015 ; Dernière modification de statut : suivant le Décret n° 2015-784 du 28 avril 2015 ; Surface actuelle : 51 568 ha (selon le décret en vigueur).\nLes métadonnées indiquent que les limites de cette aire protégée aont été modifiées en 2015:\n\n\nCode\nshow_cnlegis_for_pa(\"Manongarivo\", pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Manongarivo dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n2015-04-28\nDécret\n2015-784\nmodifiant\n46629\nPortant modification des limites de la réserve spéciale de Manongarivo et délimitationde sa zone de protection sise dans le District d'Ambanja, RégionDiana, et le District d'Analalava, Région Sofia.\n\n\n\n\n\n\n\nAprès inspection visuelle des différentes sources disponibles, on retient MNP_2010 comme source des limites avant la modification de 2015.\n\n\nCode\nplot_pa_sources(\n  \"Manongarivo\",\n  sources = c(\"MNP_2010\", \"WDPA_2025\")\n)\n\n\n\n\n\n\n\n\n\nLa modification de 2015 ne porte que sur les limites, sans changement de statut (reste Réserve Spéciale). On documente l’amendement spatial dans SAT.\n\n\nCode\nsat &lt;- sat |&gt;\n  add_modif_sat(\n    data = all_PAs_conso,\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Manongarivo\",\n    decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n    source_dataset_id = \"MNP_2010\",\n    valid_from = \"1956-02-20\",\n    notes = \"Périmètre 1956-2015 avant modification des limites (géométrie MNP_2010 retenue après vérification visuelle).\"\n  )\n\n\nL’année de création de cette AP est 1956 (pas 2015 comme indiqué dans WDPA 2025). On corrige STATUS_YR dans FAT.\n\n\nCode\nfat &lt;- fat |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Manongarivo\",\n    decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n    attributes = list(\n      STATUS_YR = \"1956\"\n    ),\n    amendment_type = \"correction\",\n    valid_from = \"1956-02-20\",\n    notes = \"WDPA incorrectly shows STATUS_YR=2015 (date of boundary modification). Actual creation was 1956 as Réserve Spéciale (Décret 56-208 du 20 février 1956).\"\n  )\n\n\n\n\n8.2.21 Mantadia\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : aucune ; Création : selon le Décret n° 89-011 du 11 janvier 1989 ; Modification de statut : le Parc National de Mantadia fut créé en 1989 suivant le Décret n° 89-011 du 11 janvier 1989 (10 000 ha) puis subit une extension de limites en 2002 selon le Décret n° 2002-790 du 7 août 2002 ; Dernière modification de statut : suivant le Décret n° 2002-790 du 7 août 2002 ; Surface actuelle : 15 480 ha (selon le décret en vigueur).\nLes métadonnées confirment que cette aire protégée a été créée en 1989 comme Parc National, puis ses limites ont été étendues en 2002:\n\n\nCode\nshow_cnlegis_for_pa(\"Mantadia\", pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Mantadia dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1989-01-11\nDécret\n89-011\ncreation_definitive\n32470\nPortant création du Parc National n°3 de Mantadia dans le Fivondronampokontany de Moramanga, Faritany de Toamasina\n\n\n2002-08-07\nDécret\n2002-790\nmodifiant\n36565\nPortant changement des points sommets et limites du Parc national n°3 de Mantadia\n\n\n\n\n\n\n\nMalheureusement, on ne dispose pas de source géométrique antérieure à 2002 pour cette AP.\n\n\n\n\n\n\nNote\n\n\n\nVoir avec MNP s’il est possible de reconstituer la géométrie initiale de 1989.\n\n\n\n\n8.2.22 Marojejy\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo) et World Wide Fund for Nature (WWF) ; Création : selon le Décret du 3 janvier 1952 (Création de la Réserve Naturelle Intégrale n° 12) ; Modification de statut : la Réserve Naturelle Intégrale de Marojejy fut créée en 1952 sous le Décret du 3 janvier 1952 complété par le Décret n° 66-242 du 1 juin 1966. En 1998, l’aire protégée subit un déclassement en parc national suivant le Décret n° 98-375 du 19 mai 1998 ; Dernière modification de statut : suivant le Décret n° 98-375 du 19 mai 1998 ; Surface actuelle : 60 050 ha (selon le décret en vigueur).\nLes métadonnées confirment que cette aire protégée a été créée en 1952 comme RNI, puis reclassée en Parc National en 1998:\n\n\nCode\nshow_cnlegis_for_pa(\"Marojejy\", pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Marojejy dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1998-05-19\nDécret\n98-375\nmodifiant\n34797\nPortant changement de statut de la Réserve naturelle intégrale n°12 de Marojejy en Parc national n°13\n\n\n\n\n\n\n\nLa modification de 1998 ne porte que sur le statut (de RNI à PN), sans changement de limites. On documente le changement de statut dans FAT.\n\n\nCode\nfat &lt;- fat |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Marojejy\",\n    decision_filter = list(year = 1998, type_decision_pattern = \"modifiant\"),\n    attributes = list(\n      DESIG = \"Réserve Naturelle Intégrale\",\n      DESIG_ENG = \"Strict Nature Reserve\",\n      DESIG_TYPE = \"National\",\n      IUCN_CAT = \"Ia\"\n    ),\n    amendment_type = \"status_change\",\n    valid_from = \"1966-06-01\",\n    notes = \"RNI #12 created 1952, boundaries clarified 1966. Transformed to PN in 1998 (Décret 98-375 du 19 mai 1998). No boundary change.\"\n  ) |&gt;\n  add_modif_fat(\n    decisions = pa_decisions,\n    wdpa_name_or_id = \"Marojejy\",\n    decision_filter = list(year = 1998, type_decision_pattern = \"modifiant\"),\n    attributes = list(\n      STATUS_YR = \"1952\"\n    ),\n    amendment_type = \"correction\",\n    valid_from = \"1952-01-03\",\n    notes = \"WDPA incorrectly shows STATUS_YR=1998 (date of PN upgrade). Actual creation was 1952 as RNI #12 (Décret du 3 janvier 1952).\"\n  )\n\n\n\n\n8.2.23 Masoala\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : aucune ; Création : selon le Décret du 31 décembre 1927 (Création de la Réserve Naturelle Intégrale n° 2) ; Modification de statut : la Réserve Naturelle Intégrale de Masoala créée en 1927 sous le Décret du 31 décembre 1927, fut établie dans Partie nord-est de la péninsule de Masoala puis déclassée et devient la Forêt Classée du Cap Masoala en 1964, suivant le Décret n° 64-381 du 16 septembre 1964 (20 977 ha). En 1997, le Parc National de Masoala est établi sur presque toute la péninsule et intègre dans ses limites la partie ouest de l’ancienne forêt classée selon le Décret n° 97-141 du 2 mars 1997 ; Dernière modification de statut : suivant le Décret n° 97-141 du 2 mars 1997 ; Surface actuelle : 230 000 ha (selon le décret en vigueur).\n\nCette aire protégée a existé entre 1927 et 1964 sous le statut de RNI, avant d’être reclassée en Forêt Classée en 1964, mais on ne dispose pas de la géométrie de cette période.\n\n\n\n8.2.24 Montagne d’Ambre\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et Service Provincial des Eaux et Forêts d’Antsiranana) et World Wide Fund for Nature ; Création : selon le Décret n° 58-07 du 28 octobre 1958 (Création du Parc National de Montagne d’Ambre) et le Décret n° 58-15 du 28 octobre 1958 (Création de la Réserve Spéciale de la Forêt d’Ambre) ; Modification de statut : fondée en 1937, la Station Forestière des Roussettes servait à des essais sylvicoles. En 1958, une partie de la Réserve Forestière du Massif Forestier d’Ambre (Arrêté n° 1282-DOM du 3 juin 1955, 49 389 ha) fut déclassée en une forêt classée dite « d’Ambre » (Arrêté n° 89-PRO/DS/F du 27 mars 1958, 5595 ha) tandis qu’une autre partie est reclassée, ce qui conduit à l’institution du Parc National de Montagne d’Ambre (Décret n° 58-07 du 28 octobre 1958) et de la Réserve Spéciale de la Forêt d’Ambre (Décret n° 58-15 du 28 octobre 1958). En 2015, les deux aires protégées, intégrant l’ancienne Forêt Classée d’Ambre, sont fusionnées en un seul Parc National et la Station Forestière des Roussettes est devenue une zone de service de ce dernier selon le Décret n° 2015-776 du 28 avril 2015 ; Dernière modification de statut : suivant le Décret n° 2015-776 du 28 avril 2015 ; Surface actuelle : 30 538 ha (selon le décret en vigueur).\nLes métadonnées confirment que les limites de cette aire protégée ont été modifiées en 2015:\n\n\nCode\nshow_cnlegis_for_pa(\"Montagne d'Ambre\", pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Montagne d'Ambre dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1958-10-28\nDécret\n58-07\ncreation_definitive\n21580\nInstituant le parc national de la montagne d'Ambre (district et province de Diégo-Suarez)\n\n\n1958-10-28\nDécret\n58-15\ncreation_definitive\n21572\nInstituant la réserve spéciale de la forêt d'Ambre (district et province de Diégo-Suarez)\n\n\n2015-04-28\nDécret\n2015-776\nmodifiant\n46593\nPortant changement de statut de la réserve spéciale de Forêt d'Ambre en Parc Natonal et modificationdes limites du Parc National de Montagne d'Ambre et de sa zone de protection, sis dans le District d'Antsiranana II, Région Diana.\n\n\n\n\n\n\n\nLe décret 2015-776 a fusionné deux aires protégées distinctes ayant chacune leur propre WDPAID : - WDPAID 2314 : Parc National de Montagne d’Ambre (créé en 1958 par le Décret 58-07) - WDPAID 5025 : Réserve Spéciale de la Forêt d’Ambre (créée en 1958 par le Décret 58-15)\nLe résultat est un seul Parc National élargi conservant le WDPAID 2314. Le WDPAID 5025 reçoit le statut “Dissolved” après la fusion, mais reste présent dans la base de données pour traçabilité.\n\n\nCode\nplot_pa_sources(\n  \"Montagne d'Ambre\",\n  sources = c(\"MNP_2010\", \"WDPA_2025\")\n)\n\n\n\n\n\n\n\n\n\nNote de validation : Cette fusion constitue un cas particulier dans notre modèle de données. Avant 2015, il existait DEUX aires protégées distinctes avec leurs propres WDPAIDs. Pour préserver la provenance des données et permettre la reconstruction historique du portefeuille d’AP, nous devons traquer les deux WDPAIDs séparément.\nApproche pour les fusions : Au lieu de supprimer WDPAID 5025 après 2015, nous lui attribuons STATUS=“Dissolved”. Cela permet : - De conserver la traçabilité historique du WDPAID - D’utiliser un statut standard (comme “Proposed”, “Designated”) - De simplifier les requêtes temporelles : filtrer STATUS != “Dissolved” pour les AP actives\nGéométries : Le jeu MNP_2010 contient un multipolygone de 3 composantes représentant l’entité fusionnée. Ces polygones ont été réattribués comme suit : - Polygone 1 (232.47 km²) → WDPAID 2314 (Montagne d’Ambre PN) - Polygones 2+3 (45.60 km²) → WDPAID 5025 (Forêt d’Ambre RS)\nLes attributs pour WDPAID 5025 proviennent du WDPA 2010.\n\n\nCode\n# Split MNP_2010 multipolygon to separate the two pre-merger entities\nmnp_2010_ambre &lt;- all_PAs_conso |&gt;\n  filter(dataset_id == \"MNP_2010\", str_detect(NAME, \"Montagne d'Ambre\"))\n\nmnp_polygons &lt;- mnp_2010_ambre |&gt;\n  st_cast(\"POLYGON\") |&gt;\n  mutate(polygon_id = row_number())\n\n# WDPAID 2314: Polygon 1 (Montagne d'Ambre PN)\nmontagne_ambre_pre2015 &lt;- mnp_polygons |&gt;\n  filter(polygon_id == 1) |&gt;\n  select(-polygon_id) |&gt;\n  mutate(\n    WDPAID = 2314,\n    NAME = \"Montagne d'Ambre\",\n    dataset_id = \"MNP_2010_split\",\n    valid_from = as.Date(\"1958-10-28\")\n  )\n\n# WDPAID 5025: Polygons 2+3 (Forêt d'Ambre RS)\n# Get attributes from WDPA 2010\nwdpa_2010_foret &lt;- wdpa_historical |&gt;\n  filter(WDPAID == 5025, data_year == 2010) |&gt;\n  st_drop_geometry() |&gt;\n  select(\n    WDPAID,\n    NAME,\n    DESIG,\n    DESIG_ENG,\n    DESIG_TYPE,\n    IUCN_CAT,\n    STATUS_YR,\n    GOV_TYPE,\n    MANG_AUTH,\n    ISO3\n  )\n\nforet_ambre_pre2015 &lt;- mnp_polygons |&gt;\n  filter(polygon_id %in% c(2, 3)) |&gt;\n  st_union() |&gt;\n  st_sf() |&gt;\n  st_set_geometry(\"geometry\") |&gt;\n  mutate(\n    WDPAID = 5025,\n    NAME = wdpa_2010_foret$NAME,\n    DESIG = wdpa_2010_foret$DESIG,\n    DESIG_ENG = wdpa_2010_foret$DESIG_ENG,\n    DESIG_TYPE = wdpa_2010_foret$DESIG_TYPE,\n    IUCN_CAT = wdpa_2010_foret$IUCN_CAT,\n    STATUS = \"Designated\", # Pre-merger status\n    STATUS_YR = wdpa_2010_foret$STATUS_YR,\n    GOV_TYPE = wdpa_2010_foret$GOV_TYPE,\n    MANG_AUTH = wdpa_2010_foret$MANG_AUTH,\n    ISO3 = wdpa_2010_foret$ISO3,\n    dataset_id = \"MNP_2010_split\",\n    valid_from = as.Date(\"1958-10-28\")\n  )\n\n\nModifications SAT : Nous créons des entrées SAT pour les deux WDPAIDs, documentant leurs géométries pré-fusion. WDPAID 2314 conserve sa géométrie élargie après 2015, tandis que WDPAID 5025 conserve sa géométrie mais avec STATUS=“Dissolved”.\n\n\nCode\n# SAT for WDPAID 2314 (Montagne d'Ambre) - pre-merger geometry\nsat &lt;- add_modif_sat(\n  sat = sat,\n  data = montagne_ambre_pre2015,\n  decisions = pa_decisions,\n  wdpa_name_or_id = 2314,\n  decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n  source_dataset_id = \"MNP_2010_split\",\n  amendment_type = \"boundary_modification\",\n  valid_from = \"1958-10-28\",\n  notes = \"Pre-merger geometry of PN Montagne d'Ambre (polygon 1 from MNP_2010, 232.47 km²). In 2015, absorbed RS Forêt d'Ambre (WDPAID 5025, 45.60 km²) to create enlarged PN (278.08 km²).\"\n)\n\n# SAT for WDPAID 5025 (Forêt d'Ambre) - geometry remains but status changes to Dissolved\nsat &lt;- add_modif_sat(\n  sat = sat,\n  data = foret_ambre_pre2015,\n  decisions = pa_decisions,\n  wdpa_name_or_id = 5025,\n  manual_decision = list(\n    date_texte = as.Date(\"2015-04-28\"),\n    type_texte = \"Décret\",\n    num_texte = \"2015-776\",\n    objet_texte = \"Fusion de RS Forêt d'Ambre dans PN Montagne d'Ambre\"\n  ),\n  source_dataset_id = \"MNP_2010_split\",\n  amendment_type = \"boundary_modification\",\n  valid_from = \"1958-10-28\",\n  notes = \"Geometry of RS Forêt d'Ambre (polygons 2+3 from MNP_2010, 45.60 km²). This PA was absorbed into WDPAID 2314 in 2015 and received STATUS='Dissolved'. SAT documents the historical geometry before dissolution.\"\n)\n\n\nModifications FAT : Correction du STATUS_YR pour WDPAID 2314, et changement de STATUS pour WDPAID 5025 de “Designated” à “Dissolved”.\n\n\nCode\n# FAT for WDPAID 2314: STATUS_YR correction\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = 2314,\n  decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n  attributes = list(\n    STATUS_YR = \"1958\"\n  ),\n  amendment_type = \"correction\",\n  valid_from = \"1958-10-28\",\n  notes = \"WDPA incorrectly shows STATUS_YR=2015 (date of merger/enlargement). Actual creation was 1958 as PN (Décret 58-07 du 28 octobre 1958).\"\n)\n\n# FAT for WDPAID 5025: Change STATUS to \"Dissolved\" after merger\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = 5025,\n  manual_decision = list(\n    date_texte = as.Date(\"2015-04-28\"),\n    type_texte = \"Décret\",\n    num_texte = \"2015-776\",\n    objet_texte = \"Fusion de RS Forêt d'Ambre dans PN Montagne d'Ambre\"\n  ),\n  attributes = list(\n    STATUS = \"Dissolved\",\n    DESIG = \"Special Reserve (dissolved)\"\n  ),\n  amendment_type = \"status_change\",\n  valid_from = \"2015-04-28\",\n  notes = \"RS Forêt d'Ambre (created 1958 by Décret 58-15) was absorbed into WDPAID 2314 via Décret 2015-776 on 2015-04-28. STATUS changed from 'Designated' to 'Dissolved'. WDPAID 5025 remains in database for historical traceability but with dissolved status.\"\n)\n\n\n\n\n8.2.25 Namoroka\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et le Service Provincial des Eaux et Forêts de Mahajanga) ; Création : selon le Décret du 31 décembre 1927 (Création de la Réserve Naturelle Intégrale n° 8) ; Modification de statut : la réserve naturelle intégrale a été créée en 1927 selon le Décret du 31 décembre 1927 complété par le Décret n° 66-242 du 1 juin 1966. L’aire protégée subit un changement de statut et devient parc national sous le Décret n° 2002-796 du 7 août 2002 ; Dernière modification de statut : suivant le Décret n° 2002-796 du 7 août 2002 ; Surface actuelle : 22 227 ha (selon le décret en vigueur).\nLes métadonnées confirment que cette aire protégée a été reclassée en Parc National en 2002:\n\n\nCode\nshow_cnlegis_for_pa(\"Namoroka\", pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Namoroka dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n2002-08-07\nDécret\n2002-796\nmodifiant\n36564\nPortant changement de statut de la réserve naturelle intégrale n°8 de Namokora en parc national\n\n\n\n\n\n\n\nNote de validation : Namoroka a subi un changement de statut de RNI à PN en 2002, sans modification de limites. La WDPA 2025 indique incorrectement STATUS_YR=2004 alors que la création comme RNI date de 1927.\n\n\nCode\n# FAT for status change: RNI → PN in 2002\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = \"Namoroka\",\n  decision_filter = list(year = 2002, type_decision_pattern = \"modifiant\"),\n  attributes = list(\n    DESIG = \"Réserve Naturelle Intégrale\",\n    DESIG_ENG = \"Strict Nature Reserve\",\n    IUCN_CAT = \"Ia\"\n  ),\n  amendment_type = \"status_change\",\n  valid_from = \"1927-12-31\",\n  notes = \"Created as RNI #8 on 1927-12-31. Upgraded to PN (Parc National) via Décret 2002-796 du 7 août 2002.\"\n)\n\n# FAT for STATUS_YR correction\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = \"Namoroka\",\n  decision_filter = list(year = 2002, type_decision_pattern = \"modifiant\"),\n  attributes = list(\n    STATUS_YR = \"1927\"\n  ),\n  amendment_type = \"correction\",\n  valid_from = \"1927-12-31\",\n  notes = \"WDPA incorrectly shows STATUS_YR=2004. Actual creation was 1927 as RNI #8 (Décret du 31 décembre 1927).\"\n)\n\n\n\n\n8.2.26 Nosy Mangabe\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et le Cantonnement Forestier de Maroantsetra) ; Création : selon le Décret n° 65-795 du 14 décembre 1965 (Création de la Réserve Spéciale) ; Modification de statut : la Réserve Spéciale de Nosy Mangabe fut créée suivant le Décret n° 65-795 du 14 décembre 1965. En 2015, elle subit un changement de limites et une modification de statut en parc national sous le Décret n° 2015-775 du 28 avril 2015 ; Dernière modification de statut : suivant le Décret n° 2015-775 du 28 avril 2015 ; Surface actuelle : 729 ha (selon le décret en vigueur).\nLes métadonnées confirment que cette aire protégée a été créée en 1965 comme Réserve Spéciale, puis reclassée en Parc National en 2015 avec modification des limites:\n\n\nCode\nshow_cnlegis_for_pa(\"Nosy Mangabe\", pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Nosy Mangabe dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n1965-12-14\nDécret\n65-795\ncreation_definitive\n25792\nInstituant en réserve spéciale l'île de Mangabe\n\n\n2015-04-28\nDécret\n2015-775\nmodifiant\n46592\nPortant modification des limites et changement de statut de la réserve spéciale Nosy Mangabe en Parc National de Nosy Mangabe, sis dans le District de Maroantsetra, Région Analanjirofo.\n\n\n\n\n\n\n\nL’inspection visuelle indique que seule la grande île au Nord faisait partie de l’AP avant 2015. Les petits îlots au Sud ont été ajoutés en 2015.\n\n\nCode\nplot_pa_sources(\n  \"Nosy Mangabe\",\n  sources = c(\"WDPA_2014\", \"WDPA_2025\")\n)\n\n\n\n\n\n\n\n\n\nLes polygones pré-2015 semblent toutefois souffrir d’une erreur de projection, aussi on va garder WDPA_2025 comme base pour le tracé pré-2015, en séparant les polygones.\nNote de validation : Le décret 2015-775 a modifié les limites ET le statut (RS → PN). La WDPA 2025 contient un multipolygone de 5 composantes (7.29 km² au total). Seul le polygone 5 (5.70 km²) existait avant 2015. Les polygones 1-4 (petits îlots totalisant ~0.28 km²) ont été ajoutés lors de la modification de 2015.\n\n\nCode\n# Split WDPA 2025 multipolygon to extract pre-2015 geometry\nnosy_mangabe_2025 &lt;- wdpa_mdg |&gt;\n  filter(str_detect(NAME, \"Nosy Mangabe\"))\n\nnosy_mangabe_polygons &lt;- nosy_mangabe_2025 |&gt;\n  st_cast(\"POLYGON\") |&gt;\n  mutate(polygon_id = row_number())\n\n# Polygon 5 = pre-2015 geometry (the main island, 5.70 km²)\nnosy_mangabe_pre2015 &lt;- nosy_mangabe_polygons |&gt;\n  filter(polygon_id == 5) |&gt;\n  select(-polygon_id) |&gt;\n  mutate(\n    WDPAID = 5039,\n    NAME = \"Nosy Mangabe\",\n    dataset_id = \"WDPA_2025_split\",\n    valid_from = as.Date(\"1965-12-14\")\n  )\n\n\nModifications SAT et FAT :\n\n\nCode\n# SAT for pre-2015 boundary (polygon 5 only)\nsat &lt;- add_modif_sat(\n  sat = sat,\n  data = nosy_mangabe_pre2015,\n  decisions = pa_decisions,\n  wdpa_name_or_id = \"Nosy Mangabe\",\n  decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n  source_dataset_id = \"WDPA_2025_split\",\n  amendment_type = \"boundary_modification\",\n  valid_from = \"1965-12-14\",\n  notes = \"Pre-2015 geometry: main island only (polygon 5 from WDPA_2025, 5.70 km²). In 2015, 4 small islets were added (polygons 1-4, ~0.28 km²) expanding to 7.29 km² total.\"\n)\n\n# FAT for status change: RS → PN in 2015\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = \"Nosy Mangabe\",\n  decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n  attributes = list(\n    DESIG = \"Réserve Spéciale\",\n    DESIG_ENG = \"Special Reserve\",\n    IUCN_CAT = \"IV\"\n  ),\n  amendment_type = \"status_change\",\n  valid_from = \"1965-12-14\",\n  notes = \"Created as RS (Réserve Spéciale) on 1965-12-14 via Décret 65-795. Upgraded to PN (Parc National) via Décret 2015-775 du 28 avril 2015.\"\n)\n\n# FAT for STATUS_YR correction\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = \"Nosy Mangabe\",\n  decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n  attributes = list(\n    STATUS_YR = \"1965\"\n  ),\n  amendment_type = \"correction\",\n  valid_from = \"1965-12-14\",\n  notes = \"WDPA incorrectly shows STATUS_YR=2015 (date of PN upgrade and boundary expansion). Actual creation was 1965 as RS (Décret 65-795 du 14 décembre 1965).\"\n)\n\n\n\n\n8.2.27 Ranomafana\nGoodman et al. (2018) indique pour cette AP: Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : aucune ; Création : selon le Décret n° 91-250 du 7 mai 1991 ; Modification de statut : Ranomafana fut décrit comme Site d’Intérêt Biologique. La création du parc national fut proposée conjointement par l’Université de Duke (Etats Unis d’Amérique) et le Service de Protection de la Nature (Direction des Eaux et Forêts, Ministère des Eaux et Forêts) puis réalisée en 1991 selon le Décret n° 91-250 du 7 mai 1991. Le Parc National de Ranomafana intègre les parties reclassées de la Réserve Forestière de Ranomafana et Tsaratanana (Arrêté du 19 mai 1947, 22 730 ha), de la Réserve Forestière d’Ambohimiera 1 (Arrêté du 9 août 1947, 33 950 ha) ainsi que celles d’Ambatovaky et Mahatsinjony (Arrêté n° 2026-DOM du 5 septembre 1950, 5560 ha). En 1997, l’aire protégée subit une modification de limites suivant le Décret n° 97-1042 du 7 août 1997 ; Dernière modification de statut : suivant le Décret n° 97-1042 du 7 août 1997 ; Surface actuelle : 43 550 ha (selon le décret en vigueur).\n\nUne modification de limites a eu lieu en 1997. Malheureusement, nous ne disposons pas de source géométrique antérieure à 1997 pour cette AP.\n\n\n\n8.2.28 Tsaratanàna\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo ; le Service Provincial des Eaux et Forêts d’Antsiranana et les Cantonnements Forestiers de Bealanana et d’Ambanja) ; Création : selon le Décret du 31 décembre 1927 (Création de la Réserve Naturelle Intégrale n° 4) ; Modification de statut : la Réserve Naturelle Intégrale de Tsaratanàna (49 331 ha) fut établie avec le Décret du 31 décembre 1927, complété par le Décret n° 66-242 du 1 juin 1966. Elle fait partie du Complexe des Aires Protégées d’Ambohimirahavavy- Marivorahona (CAPAM, Décret n° 2015-782 du 28 avril 2015) mis en place en 2015 et intègre dans ses limites, les extensions nord et sud (59 279 ha) définies par la Commission du Système des Aires Protégées de Madagascar en 2008 ; Dernière modification de statut : suivant le Décret n° 2015-782 du 28 avril 2015 ; Surface actuelle : 108 610 ha (selon le décret en vigueur).\nLe WDPAID 2306 (Tsaratanana) n’est pas directement associé à une décision dans notre base. Cependant, le Décret 2015-782 concerne le Complexe des Aires Protégées Ambohimirahavavy-Marivorahona (CAPAM), qui inclut la RNI de Tsaratanàna :\n\n\nCode\n# Afficher le décret 2015-782 (CAPAM)\npa_decisions |&gt;\n  filter(num_texte == \"2015-782\") |&gt;\n  select(\n    date_texte,\n    type_texte,\n    num_texte,\n    ap_nom_texte,\n    type_decision,\n    objet_texte\n  )\n\n\n# A tibble: 1 × 6\n  date_texte type_texte num_texte ap_nom_texte         type_decision objet_texte\n  &lt;date&gt;     &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;                &lt;chr&gt;         &lt;chr&gt;      \n1 2015-04-28 Décret     2015-782  Complexe des Aires … creation_def… \"Portant c…\n\n\nAnalyse critique : Erreurs dans WDPA 2025 pour Tsaratanàna\nLe Décret 2015-782 crée le CAPAM (Complexe des Aires Protégées Ambohimirahavavy-Marivorahona), qui regroupe plusieurs aires protégées de statuts différents : - RNI de Tsaratanàna (Noyau Dur n°1) : 49 331 ha - catégorie UICN Ia - Extensions Nord et Sud de la RNI Tsaratanàna (Noyaux Durs n°2 et n°3) : 59 279 ha - catégorie UICN Ia - Autres aires protégées (RRN COMATSA Nord/Sud, PHP Bemanevika, etc.)\nTotal pour la RNI + extensions : 108 610 ha (49 331 + 59 279)\nCependant, WDPA 2025 présente plusieurs erreurs pour le WDPAID 2306 : 1. DESIG = \"Parc National\" : INCORRECT - c’est une Réserve Naturelle Intégrale 2. IUCN_CAT = \"II\" : INCORRECT - devrait être “Ia” (Strict Nature Reserve) 3. STATUS_YR = 1997 : INCORRECT - aucun décret de 1997 n’existe ; devrait être 2015 (extensions) ou 1927 (création originale) 4. REP_AREA = 1086 km² : Cette superficie correspond bien aux 108 610 ha (RNI + extensions)\nLa RNI de Tsaratanàna n’a JAMAIS changé de statut. Elle reste une RNI/Ia depuis 1927. Le Décret 2015-782 a uniquement : - Créé le complexe CAPAM englobant plusieurs aires protégées - Ajouté des extensions (59 279 ha) à la RNI originale (49 331 ha) - Maintenu le statut RNI/Ia pour l’ensemble\nCorrections FAT nécessaires :\n\n\nCode\n# FAT: Correction du statut (devrait être RNI/Ia, pas PN/II)\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = 2306,\n  manual_decision = list(\n    date_texte = as.Date(\"2015-04-28\"),\n    type_texte = \"Décret\",\n    num_texte = \"2015-782\",\n    objet_texte = \"Portant création du Complexe des Aires Protégées Ambohimirahavavy-Marivorahona (CAPAM)\"\n  ),\n  attributes = list(\n    DESIG = \"Réserve Naturelle Intégrale\",\n    DESIG_ENG = \"Strict Nature Reserve\",\n    IUCN_CAT = \"Ia\"\n  ),\n  amendment_type = \"correction\",\n  valid_from = \"1927-12-31\",\n  notes = \"WDPA 2025 incorrectly classifies Tsaratanàna as PN/II. Decree 2015-782 confirms it remains RNI/Ia (Strict Nature Reserve). The RNI has never changed status since creation in 1927. The 2015 decree created the CAPAM complex and added 59,279 ha extensions (also Ia), bringing total to 108,610 ha.\"\n)\n\n# FAT: Correction du STATUS_YR (devrait être 2015 pour les extensions, ou 1927 pour la création)\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = 2306,\n  manual_decision = list(\n    date_texte = as.Date(\"2015-04-28\"),\n    type_texte = \"Décret\",\n    num_texte = \"2015-782\",\n    objet_texte = \"Portant création du Complexe des Aires Protégées Ambohimirahavavy-Marivorahona (CAPAM)\"\n  ),\n  attributes = list(\n    STATUS_YR = 2015\n  ),\n  amendment_type = \"correction\",\n  valid_from = \"2015-04-28\",\n  notes = \"WDPA 2025 shows STATUS_YR=1997 with no supporting decree. Setting to 2015 (date of extensions via Decree 2015-782). Original RNI creation was 1927-12-31.\"\n)\n\n\n\n\n\n\n\n\nWarning\n\n\n\nComplexité de modélisation : Aires protégées composites\nLe cas de Tsaratanàna soulève une question de modélisation. Le CAPAM est un complexe regroupant plusieurs aires protégées distinctes avec leurs propres WDPAID théoriques. Cependant, dans WDPA 2025, seul le WDPAID 2306 apparaît avec la superficie totale de la RNI + extensions (108 610 ha).\nCette situation diffère du cas de Montagne d’Ambre où deux WDPAIDs distincts existaient avant fusion. Ici, les extensions de Tsaratanàna n’ont apparemment jamais eu de WDPAID séparé dans la WDPA.\nPour l’instant, nous documentons les erreurs d’attributs (statut PN/II incorrect) sans modéliser séparément les extensions, car elles ne disposent pas de WDPAID distinct.\n\n\n\n\n8.2.29 Tsimanampesotse\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo et Cantonnement Forestier de Betioky) ; Création : selon le Décret du 31 décembre 1927 (Création de la Réserve Naturelle Intégrale n° 10) ; Modification de statut : la création de la Réserve Naturelle Intégrale de Tsimanampetsotsa s’est faite suivant le Décret du 31 décembre 1927 complété par le Décret n° 66-242 du 1 juin 1966. En 2002, l’aire protégée subit un déclassement en parc national avec le Décret n° 2002-797 du 7 août 2002. En 2015, l’aire protégée subit un changement de limites sous le Décret n° 2015-736 du 21 avril 2015. Elle intègre, dans ses limites actuelles l’extension définie par la Commission du Système des Aires Protégées de Madagascar en 2008 et qui inclut le Site d’Intérêt Biologique d’Hatokaliotsy. Ce dernier n’avait aucun statut juridique à l’époque mais a déjà fait l’objet d’un projet de classement en réserve spéciale en 1956 ; Dernière modification de statut : suivant le Décret n° 2015-736 du 21 avril 2015 ; Surface actuelle : 202 525 ha (selon le décret en vigueur).\nLes métadonnées confirment que cette aire protégée a été reclassée en Parc National en 2002, puis ses limites ont été modifiées en 2015:\n\n\nCode\nshow_cnlegis_for_pa(\"Tsimanampesotse\", pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Tsimanampesotse dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n2002-08-07\nDécret\n2002-797\nmodifiant\n36563\nPortant changement de statut de la réserve naturelle intégrale n°12 de Tsimanampetsotsa en parc national.\n\n\n2015-04-21\nDécret\n2015-736\nmodifiant\n45767\nPortant modification des limites du Parc National n°16 de Tsimanampesotse et délimitation de sa zone de protetion sis dans les Districts de Toliara II et d'Ampanihy Ouest, Région Atsimo Andrefana.\n\n\n\n\n\n\n\nNote de validation : Tsimanampesotse a subi deux modifications successives : changement de statut RNI vers PN en 2002 (Décret 2002-797), puis modification de limites en 2015 (Décret 2015-736) incluant l’extension d’Hatokaliotsy. La WDPA 2025 indique correctement STATUS_YR=1927 (création comme RNI).\nAprès inspection visuelle des différentes sources disponibles, on retient MNP_2010 comme source des limites avant la modification de 2015.\n\n\nCode\nplot_pa_sources(\n  \"Tsimanampesotse\",\n  sources = c(\"MNP_2010\", \"WDPA_2025\")\n)\n\n\n\n\n\n\n\n\n\nModifications SAT et FAT :\n\n\nCode\n# SAT for pre-2015 boundary\nsat &lt;- add_modif_sat(\n  sat = sat,\n  data = all_PAs_conso,\n  decisions = pa_decisions,\n  wdpa_name_or_id = \"Tsimanampesotse\",\n  decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n  source_dataset_id = \"MNP_2010\",\n  amendment_type = \"boundary_modification\",\n  valid_from = \"1927-12-31\",\n  notes = \"Pre-2015 geometry from MNP_2010. In 2015, boundary expanded to include Hatokaliotsy extension (Décret 2015-736), increasing from ~180 km² to 202.5 km².\"\n)\n\n# FAT for status change: RNI to PN in 2002\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = \"Tsimanampesotse\",\n  decision_filter = list(\n    year = 2002,\n    type_decision_pattern = \"modifiant\",\n    num_texte = \"2002-797\"\n  ),\n  attributes = list(\n    DESIG = \"Réserve Naturelle Intégrale\",\n    DESIG_ENG = \"Strict Nature Reserve\",\n    IUCN_CAT = \"Ia\"\n  ),\n  amendment_type = \"status_change\",\n  valid_from = \"1927-12-31\",\n  notes = \"Created as RNI #10 on 1927-12-31. Changed to PN (Parc National) via Décret 2002-797 du 7 août 2002.\"\n)\n\n\n\n\n8.2.30 Zahamena\nGoodman et al. (2018) indique pour cette AP: &gt; Aspects légaux : Gestionnaire actuel : Madagascar National Parks (MNP) ; Gestion antérieure : Direction des Eaux et Forêts (Service de la Protection de la Nature d’Antananarivo) ; Création : selon le Décret du 31 décembre 1927 (Création de la Réserve Naturelle Intégrale n° 3) ; Modification de statut : la Réserve Naturelle Intégrale de Zahamena fut créée en 1927 selon le Décret du 31 décembre 1927. Cette aire protégée a subi plusieurs modifications de limites au fil des années – en 1966 (Décret n° 66-242 du 1 juin 1966, 73 160 ha), en 1997 (Décret n° 97-1044 du 7 août 1997) et puis en 2015 (Décret n° 2015-737 du 21 avril 2015). Avec le Décret n° 2015-737 du 21 avril 2015, Zahamena subit aussi un déclassement en parc national ; Dernière modification de statut : suivant le Décret n° 2015-737 du 21 avril 2015 ; Surface actuelle : 64 935 ha (selon le décret en vigueur).\nLes métadonnées et sources historiques confirment que cette aire protégée a connu une histoire complexe avec plusieurs modifications de limites et de statut:\n\n\nCode\nshow_cnlegis_for_pa(\"Zahamena\", pa_decisions)\n\n\n\n\n\n\n\n\nEntrées pour l'AP Zahamena dans la base CNLEGIS\n\n\ndate_texte\ntype_texte\nnum_texte\ntype_decision\nid_texte\nobjet_texte\n\n\n\n\n2015-04-28\nDécret\n2015-737\nmodifiant\n44679\nPortant changement de statut de la réserve naturelle n°III dite \"Zahamena\" en Parc national, et délimitation de protection du Parc National n°5 du \"Zahamena\", sise dans le District de Vavatenina, Région Analanjirofo, District de Toamasina II, Région Atsinanana et District d'Ambatondrazaka, Région Alaotra Mangoro.\n\n\n\n\n\n\n\nHistorique détaillé (basé sur sources complémentaires) : - 1927-12-31 : Création comme RNI #3 (Réserve Naturelle Intégrale) - 1966-06 : Décret 66-242 modifie les limites (73,160 ha) - 1997-08 : Décret 97-1044 établit un statut mixte PN + RNI (64,378 ha total) - Parc National (IUCN II) : 42,300 ha - Réserve Naturelle Intégrale (IUCN Ia) : 22,100 ha - Enclave d’Antenina : 350 ha - 2015-04 : Décret 2015-737 unifie en Parc National unique (64,935 ha)\nNote de validation : Entre 1997 et 2015, Zahamena était une AP zonée avec deux catégories IUCN distinctes au sein d’une même entité juridique. La WDPA 2025 indique incorrectement STATUS_YR=2015 alors que la création date de 1927. Le décret 2015-737 a unifié le statut en PN unique.\n\n\nCode\nplot_pa_sources(\n  \"Zahamena\",\n  sources = c(\"SAPM_2010\", \"ANGAP_2002\", \"WDPA_2025\")\n)\n\n\n\n\n\n\n\n\n\nModélisation dans SAT/FAT : Cette AP a connu deux modifications majeures de limites : en 1997 (réduction de 73,160 à 64,378 ha avec création d’enclave d’Antenina et statut mixte PN+RNI), et en 2015 (expansion à 64,935 ha avec unification en PN). Nous utilisons : - SAPM_2010 pour la géométrie pré-1997 (RNI unique, ~73,160 ha) - ANGAP_2002 pour la géométrie 1997-2015 (PN+RNI avec enclave, 64,378 ha) - WDPA_2025 pour la géométrie post-2015 (PN unifié, 64,935 ha)\nModifications SAT et FAT :\n\n\nCode\n# SAT for 1997 boundary change (pre-1997 geometry from SAPM_2010)\nsat &lt;- add_modif_sat(\n  sat = sat,\n  data = all_PAs_conso,\n  decisions = pa_decisions,\n  wdpa_name_or_id = \"Zahamena\",\n  decision_filter = NULL, # Pre-1997, using manual_decision\n  manual_decision = list(\n    date_texte = as.Date(\"1997-08-07\"),\n    type_texte = \"Décret\",\n    num_texte = \"97-1044\",\n    id_texte = NA,\n    objet_texte = \"Modification des limites et établissement du statut mixte PN+RNI de Zahamena\"\n  ),\n  source_dataset_id = \"SAPM_2010\",\n  amendment_type = \"boundary_modification\",\n  valid_from = \"1927-12-31\",\n  notes = \"Pre-1997 geometry from SAPM_2010: RNI unique status, approximately 73,160 ha. In 1997, Décret 97-1044 reduced area to 64,378 ha, created Antenina enclave (350 ha), and established mixed PN+RNI zoning.\"\n)\n\n# SAT for 2015 boundary change (1997-2015 geometry from ANGAP_2002)\nsat &lt;- add_modif_sat(\n  sat = sat,\n  data = all_PAs_conso,\n  decisions = pa_decisions,\n  wdpa_name_or_id = \"Zahamena\",\n  decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n  source_dataset_id = \"ANGAP_2002\",\n  amendment_type = \"boundary_modification\",\n  valid_from = \"1997-08-07\",\n  notes = \"1997-2015 geometry from ANGAP_2002: mixed PN+RNI status with Antenina enclave, 64,378 ha total. In 2015, Décret 2015-737 expanded to 64,935 ha and unified as PN only.\"\n)\n\n# FAT for 1997 status change to composite zoning\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = \"Zahamena\",\n  decision_filter = NULL, # Pre-1997, using manual_decision\n  manual_decision = list(\n    date_texte = as.Date(\"1997-08-07\"),\n    type_texte = \"Décret\",\n    num_texte = \"97-1044\",\n    id_texte = NA,\n    objet_texte = \"Modification des limites et établissement du statut mixte PN+RNI de Zahamena\"\n  ),\n  attributes = list(\n    DESIG = \"Réserve Naturelle Intégrale\",\n    DESIG_ENG = \"Strict Nature Reserve\",\n    IUCN_CAT = \"Ia\"\n  ),\n  amendment_type = \"status_change\",\n  valid_from = \"1927-12-31\",\n  notes = \"Created as RNI #3 in 1927. In 1997, Décret 97-1044 established mixed status: PN (IUCN II, 42,300 ha) + RNI (IUCN Ia, 22,100 ha) with Antenina enclave (350 ha). This composite zoning lasted until 2015.\"\n)\n\n# FAT for 2015 status unification\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = \"Zahamena\",\n  decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n  attributes = list(\n    DESIG = \"Parc National + Réserve Naturelle Intégrale\",\n    DESIG_ENG = \"National Park + Strict Nature Reserve\",\n    IUCN_CAT = \"II+Ia\"\n  ),\n  amendment_type = \"status_change\",\n  valid_from = \"1997-08-07\",\n  notes = \"Mixed PN+RNI status from 1997-2015 per Décret 97-1044: PN (42,300 ha, IUCN II) + RNI (22,100 ha, IUCN Ia) with Antenina enclave (350 ha). Unified to PN only in 2015 via Décret 2015-737.\"\n)\n\n# FAT for STATUS_YR correction\nfat &lt;- add_modif_fat(\n  fat = fat,\n  decisions = pa_decisions,\n  wdpa_name_or_id = \"Zahamena\",\n  decision_filter = list(year = 2015, type_decision_pattern = \"modifiant\"),\n  attributes = list(\n    STATUS_YR = \"1927\"\n  ),\n  amendment_type = \"correction\",\n  valid_from = \"1927-12-31\",\n  notes = \"WDPA incorrectly shows STATUS_YR=2015 (date of status unification to PN). Actual creation was 1927 as RNI #3 (Décret du 31 décembre 1927).\"\n)",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Load WDPA for reference</span>"
    ]
  },
  {
    "objectID": "07_curation.html#protections-temporaires",
    "href": "07_curation.html#protections-temporaires",
    "title": "8  Curation",
    "section": "8.3 Protections temporaires",
    "text": "8.3 Protections temporaires\n\n8.3.1 Contexte juridique\nÀ Madagascar, le Code de Gestion des Aires Protégées (loi n°2001-005 du 11 février 2003) prévoit un mécanisme de protection temporaire via son article 20. Ce mécanisme permet de protéger légalement des sites en cours de création d’aire protégée, en attendant la publication du décret de classement définitif.\nLes protections temporaires sont établies par Arrêté interministériel et confèrent une protection juridiquement contraignante avec des mesures de conservation spécifiques (interdictions d’exploitation, de défrichement, etc.). Bien que temporaires par nature, ces désignations constituent des actes juridiques ayant force de loi dès leur signature.\nDans la base de données WDPA, nous attribuons à ces aires protégées le statut STATUS = \"Designated\", car elles bénéficient d’une reconnaissance juridique formelle avec engagement contraignant de conservation à long terme, conformément à la définition du manuel WDPA.\n\n\n8.3.2 Identification et traitement\nNous identifions les décisions CNLEGIS relatives aux protections temporaires, puis créons des entrées FAT documentant :\n\nLa période de protection temporaire (depuis l’Arrêté jusqu’au Décret de classement définitif)\nLe passage au statut permanent lorsqu’un Décret de création définitive existe\n\n\n\nCode\n# Filter decisions related to temporary creations\ntemporary_protections &lt;- pa_decisions |&gt;\n  filter(\n    str_detect(type_decision, \"mise_protection_temporaire\")\n  )\n\n# Get permanent designations for the same PAs\ntemp_wdpaids &lt;- unique(temporary_protections$WDPAID)\n\npermanent_designations &lt;- pa_decisions |&gt;\n  filter(\n    WDPAID %in% temp_wdpaids,\n    type_decision == \"creation_definitive\"\n  ) |&gt;\n  select(WDPAID, perm_date = date_texte, perm_texte = num_texte)\n\n# Join temporary with permanent info\ntemp_full &lt;- temporary_protections |&gt;\n  select(\n    WDPAID,\n    WDPA_NAME,\n    temp_date = date_texte,\n    temp_texte = num_texte,\n    type_texte\n  ) |&gt;\n  left_join(\n    permanent_designations,\n    by = \"WDPAID\",\n    relationship = \"many-to-many\"\n  ) |&gt;\n  # Take earliest permanent date if multiple\n  group_by(WDPAID, WDPA_NAME, temp_date, temp_texte) |&gt;\n  slice_min(perm_date, n = 1, with_ties = FALSE) |&gt;\n  ungroup() |&gt;\n  # Filter out rows with missing WDPAID\n  filter(!is.na(WDPAID))\n\ncat(\"Temporary protections to process:\", nrow(temp_full), \"\\n\")\n\n\nTemporary protections to process: 42 \n\n\nCode\ncat(\n  \"  With later permanent designation:\",\n  sum(!is.na(temp_full$perm_date)),\n  \"\\n\"\n)\n\n\n  With later permanent designation: 34 \n\n\nCode\ncat(\"  Still temporary:\", sum(is.na(temp_full$perm_date)), \"\\n\")\n\n\n  Still temporary: 8 \n\n\nCode\n# Identify temporary protections excluded due to missing WDPAID\nexcluded_temp_protections &lt;- temporary_protections |&gt;\n  filter(is.na(WDPAID)) |&gt;\n  select(WDPA_NAME, date_texte, num_texte, objet_texte)\n\nif (nrow(excluded_temp_protections) &gt; 0) {\n  cat(\"\\nExcluded (no WDPAID):\", nrow(excluded_temp_protections), \"\\n\")\n}\n\n\n\nExcluded (no WDPAID): 2 \n\n\nLes résultats montrent le nombre d’aires protégées ayant bénéficié d’une protection temporaire, combien ont depuis obtenu un classement définitif, et combien demeurent en statut temporaire.\n\n\n8.3.3 Aires protégées exclues du traitement\nCertaines décisions de protection temporaire ne peuvent être appariées à un WDPAID dans la base WDPA actuelle. Il s’agit vraisemblablement d’aires protégées qui ont reçu une protection temporaire mais n’ont jamais été finalisées, ou qui n’apparaissent pas dans le registre WDPA actuel. Le tableau suivant liste ces cas exclus du traitement FAT.\n\n\nCode\nif (nrow(excluded_temp_protections) &gt; 0) {\n  excluded_temp_protections |&gt;\n    gt() |&gt;\n    tab_header(\n      title = \"Temporary Protections Without WDPAID\",\n      subtitle = \"Protected areas with temporary designation not found in current WDPA\"\n    ) |&gt;\n    cols_label(\n      WDPA_NAME = \"PA Name\",\n      date_texte = \"Date\",\n      num_texte = \"Arrêté Number\",\n      objet_texte = \"Object\"\n    ) |&gt;\n    fmt_date(\n      columns = date_texte,\n      date_style = \"yMMMd\"\n    ) |&gt;\n    cols_width(\n      WDPA_NAME ~ px(150),\n      date_texte ~ px(100),\n      num_texte ~ px(120),\n      objet_texte ~ px(400)\n    ) |&gt;\n    tab_options(\n      table.font.size = px(12),\n      row.striping.include_table_body = TRUE\n    )\n} else {\n  cat(\"No temporary protections were excluded.\\n\")\n}\n\n\n\n\nTable 8.1: Temporary protections without WDPAID (excluded from FAT)\n\n\n\n\n\n\n\n\n\nTemporary Protections Without WDPAID\n\n\nProtected areas with temporary designation not found in current WDPA\n\n\nPA Name\nDate\nArrêté Number\nObject\n\n\n\n\nNA\nJan 17, 2018\n887/2018\nPortant mise en protection temporaire de l'Aire protégée en création dénommée \"Sakara\", District de Fort Dauphin, Région Anosy.\n\n\nNA\nDec 2, 2008\n21481/2008\nPortant protection temporaire de l'Aire protégée en création dénommée \"Alan' i Vohibe\" Commune rurale d'Ambalabe, District de Vatomandry, Région Atsinana.\n\n\n\n\n\n\n\n\n\n\n\n\n8.3.4 Création des entrées FAT\nPour chaque aire protégée ayant bénéficié d’une protection temporaire, nous créons jusqu’à deux entrées FAT successives documentant l’évolution du statut juridique :\n\nEntrée de protection temporaire : Documente la période de protection temporaire établie par Arrêté. Nous utilisons STATUS = \"Designated\" (reconnaissance juridique formelle) avec STATUS_YR correspondant à l’année de l’Arrêté, et DESIG = \"Protection Temporaire\". Cette entrée capture un état historique qui n’existe plus dans la WDPA actuelle.\nEntrée de désignation permanente (si applicable) : Documente le passage au statut permanent via Décret. Le STATUS_YR est mis à jour avec l’année de la désignation permanente (conformément au manuel WDPA qui stipule que STATUS_YR reflète le statut actuel, non l’historique). Les attributs DESIG/DESIG_ENG sont également mis à jour selon la catégorie définitive (Parc National, Réserve Naturelle, etc.).\n\nImportant : La WDPA actuelle ne conserve que le statut permanent (par exemple, PN désigné en 2012). Notre registre d’amendements FAT permet de reconstituer l’historique complet, incluant la période de protection temporaire antérieure (par exemple, protection temporaire de 2005 à 2012) que la WDPA ne documente pas.\n\n\nCode\n# Process each temporary protection into FAT entries\nfor (i in seq_len(nrow(temp_full))) {\n  row &lt;- temp_full[i, ]\n\n  # FAT entry for temporary protection period\n  fat &lt;- add_modif_fat(\n    fat = fat,\n    decisions = pa_decisions,\n    wdpa_name_or_id = row$WDPAID,\n    manual_decision = list(\n      date_texte = row$temp_date,\n      type_texte = row$type_texte,\n      num_texte = row$temp_texte,\n      id_texte = NA,\n      objet_texte = paste(\"Mise en protection temporaire de\", row$WDPA_NAME)\n    ),\n    attributes = list(\n      STATUS = \"Designated\",\n      STATUS_YR = format(row$temp_date, \"%Y\"),\n      DESIG = \"Protection Temporaire\",\n      DESIG_ENG = \"Temporary Protection\"\n    ),\n    amendment_type = \"status_change\",\n    valid_from = as.character(row$temp_date),\n    notes = paste0(\n      \"Temporary protection via Arrêté \",\n      row$temp_texte,\n      \" (\",\n      row$temp_date,\n      \"). \",\n      \"Legal designation with binding protections pending permanent status via décret.\",\n      if (!is.na(row$perm_date)) {\n        paste0(\n          \" Permanent designation obtained on \",\n          row$perm_date,\n          \" via \",\n          row$perm_texte,\n          \".\"\n        )\n      } else {\n        \" Still in temporary protection status.\"\n      }\n    )\n  )\n\n  # If permanent designation exists, add FAT entry for status change\n  if (!is.na(row$perm_date)) {\n    fat &lt;- add_modif_fat(\n      fat = fat,\n      decisions = pa_decisions,\n      wdpa_name_or_id = row$WDPAID,\n      decision_filter = list(\n        year = as.numeric(format(row$perm_date, \"%Y\")),\n        type_decision_pattern = \"creation_definitive\",\n        num_texte = row$perm_texte\n      ),\n      attributes = list(\n        STATUS_YR = format(row$perm_date, \"%Y\")\n        # DESIG and DESIG_ENG will be updated based on the décret\n      ),\n      amendment_type = \"status_change\",\n      valid_from = as.character(row$perm_date),\n      notes = paste0(\n        \"Permanent designation via Décret \",\n        row$perm_texte,\n        \" (\",\n        row$perm_date,\n        \"), \",\n        \"replacing temporary protection status established on \",\n        row$temp_date,\n        \".\"\n      )\n    )\n  }\n}\n\ncat(\"\\nFAT entries created for\", nrow(temp_full), \"temporary protections\\n\")\n\n\n\nFAT entries created for 42 temporary protections\n\n\nCode\ncat(\"Total FAT entries:\", nrow(fat), \"\\n\")\n\n\nTotal FAT entries: 108 \n\n\nLe traitement a permis de documenter l’historique de protection temporaire pour les aires protégées concernées. Chaque aire ayant reçu une protection temporaire dispose désormais d’une ou deux entrées FAT selon qu’elle a obtenu ou non une désignation permanente. Cet historique, absent de la WDPA actuelle, permet de reconstituer fidèlement l’évolution juridique de ces sites depuis leur mise en protection initiale.",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Load WDPA for reference</span>"
    ]
  },
  {
    "objectID": "07_curation.html#sec-export-amendments",
    "href": "07_curation.html#sec-export-amendments",
    "title": "8  Curation",
    "section": "8.4 Export Amendments",
    "text": "8.4 Export Amendments\nThe curation process has documented amendments to Madagascar’s WDPA data. We now export these to the standardized YAML schema for the dynamic_wdpa registry.\n\n8.4.1 Export to YAML Format\n\n\nCode\n# Export amendments to YAML + GeoJSON\nexported &lt;- export_amendments_to_yaml(\n  spatial = sat,\n  attribute = fat,\n  output_dir = \"data/amendments\",\n  iso3 = \"MDG\",\n  wdpa_reference = wdpa_mdg\n)\n\n# Also save R working tables for local analysis\nsaveRDS(sat, \"data/sat_working.rds\")\nsaveRDS(fat, \"data/fat_working.rds\")\n\n\n\n\n8.4.2 Export Summary\n\n\nCode\ncat(\"Amendment export complete!\\n\\n\")\n\n\nAmendment export complete!\n\n\nCode\ncat(\"Total amendments:\", nrow(exported), \"\\n\")\n\n\nTotal amendments: 126 \n\n\nCode\ncat(\"  Spatial amendments:\", sum(exported$kind == \"spatial\"), \"\\n\")\n\n\n  Spatial amendments: 18 \n\n\nCode\ncat(\"  Attribute amendments:\", sum(exported$kind == \"attribute\"), \"\\n\\n\")\n\n\n  Attribute amendments: 108 \n\n\nCode\ncat(\"Output structure:\\n\")\n\n\nOutput structure:\n\n\nCode\ncat(\"  YAML files: data/amendments/*.yml\\n\")\n\n\n  YAML files: data/amendments/*.yml\n\n\nCode\ncat(\"  GeoJSON files: data/amendments/geoms/*.geojson\\n\\n\")\n\n\n  GeoJSON files: data/amendments/geoms/*.geojson\n\n\nCode\n# Show breakdown by amendment type\nif (nrow(exported) &gt; 0) {\n  cat(\"Amendments by type:\\n\")\n\n  # Get amendment types from original tables\n  # Spatial amendments are first in export (rows 1 to nrow(sat))\n  # Attribute amendments follow (rows nrow(sat)+1 to nrow(sat)+nrow(fat))\n  amendment_types &lt;- bind_rows(\n    sat |&gt;\n      st_drop_geometry() |&gt;\n      mutate(seq = row_number()) |&gt;\n      select(seq, amendment_type),\n    fat |&gt;\n      mutate(seq = row_number() + nrow(sat)) |&gt;\n      select(seq, amendment_type)\n  )\n\n  # Match with exported amendments and count\n  exported |&gt;\n    mutate(seq = row_number()) |&gt;\n    left_join(amendment_types, by = \"seq\") |&gt;\n    count(amendment_type, kind, sort = TRUE) |&gt;\n    print()\n}\n\n\nAmendments by type:\n# A tibble: 3 × 3\n  amendment_type        kind          n\n  &lt;chr&gt;                 &lt;chr&gt;     &lt;int&gt;\n1 status_change         attribute    88\n2 correction            attribute    20\n3 boundary_modification spatial      18\n\n\n\n\n\n\nAlonso, Leeanne E., and Thomas S. Schulenberg. 2002. Une évaluation biologique de la Réserve naturelle intégrale d’Ankarafantsika, Madagascar =: A biological assessment of the Réserve naturelle intégrale d’Ankarafantsika, Madagascar. Washington, D.C: Conservation International.\n\n\nGoodman, Steven M., Marie Jeanne Raherilalao, Sébastien Wohlhauser, Jean Clarck N. Rabenandrasana, Herivololona M. Rakotondratsimba, Fanja Andriamialisoa, and Malalarisoa Razafimpahanana. 2018. Les Aires Protégées Terrestres de Madagascar: Leur Histoire, Description Et Biote. Association Vahatra.\n\n\nSussman, Robert W., Alison F. Richard, Joelisoa Ratsirarson, Michelle L. Sauther, Diane K. Brockman, Lisa Gould, Richard Lawler, and Frank P. Cuozzo. 2012. “Beza Mahafaly Special Reserve: Long-Term Research on Lemurs in Southwestern Madagascar.” In Long-Term Field Studies of Primates, edited by Peter M. Kappeler and David P. Watts, 45–66. Berlin, Heidelberg: Springer. https://doi.org/10.1007/978-3-642-22514-7_3.",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Load WDPA for reference</span>"
    ]
  },
  {
    "objectID": "08_technical_proposal_en.html",
    "href": "08_technical_proposal_en.html",
    "title": "9  Technical proposal (English)",
    "section": "",
    "text": "9.1 Composition of SAT\nThe dataset is designed as a time explicit extension of WDPA polygon data that incorporates legal history, spatial changes, and internal zoning of protected areas when such information is available. WDPA provides the default current state of each protected area, but this state is treated as a single segment within a longer trajectory marked by changes in legal status, boundaries, and internal organization. For each WDPAID, the dataset reconstructs successive states of the protected area, each defined by explicit validity periods, by mobilizing dated legal and spatial information when available, while remaining fully compatible with WDPA when such information is absent.\nThe core principle relies on default completion combined with explicit and deterministic precedence rules. In the absence of alternative information, WDPA attributes and geometry define a single state whose validity period starts from STATUS_YR, interpreted using a documented date convention, and extends to the reference date of the WDPA release. When earlier legal decisions, previous boundaries, or internal zoning arrangements are identified through supplementary sources, the timeline is split into multiple non overlapping validity intervals. Earlier states inherit WDPA attributes by default, except where legal texts, dated perimeters, or zoning documents explicitly indicate differences, such as temporary protection status, alternative boundaries, changes in management, or a specific internal organization.\nLegal history, boundary evolution, and the establishment of internal zoning are treated as independent sources of temporal segmentation. Dates derived from legal texts, zoning instruments, or boundary modifications jointly structure the timeline. Each resulting interval is then populated with the most specific information available for the period considered, both at the protected area level and, when relevant, for its internal zones. External boundaries are treated as a specific zone type, allowing internal zoning and outer limits to follow a unified spatial logic.\nConcretely, the dataset does not replace WDPA. It is constructed from four complementary components, each with a clearly defined role:\n• CAR - Consolidation and Auditing Rules A stable and transparent set of consolidation rules, expressed as human readable and reproducible code, that specify how WDPA, SAT, and FAT are combined, how temporal segmentation is performed, and how precedence between sources is resolved and made auditable.\nTogether, these components generate a derived dynamic state table in which each WDPA protected area is represented by a sequence of time bounded states. WDPA provides the default current state, while SAT and FAT only intervene when explicit dated information is available, triggering a segmentation of the timeline and, when relevant, a modification of geometry, legal status, or internal zoning as specified by CAR. In the absence of such information, WDPA data are simply extended backward or forward unchanged according to documented conventions.\nThe resulting dataset remains fully compatible with WDPA identifiers and structure, while making temporal assumptions explicit, reproducible, and testable. The contribution therefore lies both in the publication of curated supplementary data on legal and spatial histories (SAT and FAT), and in the transparent consolidation and auditing procedures (CAR) that allow WDPA to be transformed into a time explicit conservation dataset suitable for longitudinal and impact analyses.",
    "crumbs": [
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Technical proposal (English)</span>"
    ]
  },
  {
    "objectID": "09_technical_proposal_fr.html",
    "href": "09_technical_proposal_fr.html",
    "title": "10  Proposition technique",
    "section": "",
    "text": "11 Cas d’usage\nLa base de données constitue une extension temporellement explicite des données polygonales de la WDPA. Elle intègre, lorsque ces informations sont disponibles, l’historique juridique, les évolutions spatiales et le zonage interne des aires protégées. La WDPA fournit l’état courant de référence de chaque entité, mais cet état est modélisé comme un enregistrement particulier au sein d’une trajectoire spatio-temporelle plus longue, caractérisée par des changements de statut légal, de limites géographiques et d’organisation interne. Pour chaque WDPAID, la base reconstruit une série d’états successifs, chacun associé à une période de validité explicite, en mobilisant des sources juridiques et spatiales datées, tout en conservant une compatibilité complète avec le schéma WDPA lorsque ces informations ne sont pas disponibles. Le modèle de données repose sur un mécanisme de complétion par défaut combiné à des règles de précédence explicites et déterministes. En l’absence de sources alternatives, les attributs et la géométrie issus de la WDPA génèrent un état unique dont la validité débute à partir de STATUS_YR, interprété selon une convention de datation documentée, et s’étend jusqu’à la date de référence de la version WDPA utilisée. Lorsque des décisions juridiques antérieures, des périmètres historiques ou des dispositifs de zonage interne sont identifiés, la chronologie est segmentée en plusieurs intervalles de validité non chevauchants. Les enregistrements correspondant aux états antérieurs héritent par défaut des attributs WDPA, sauf lorsque des textes réglementaires, des délimitations datées ou des documents de zonage spécifient explicitement des différences, telles qu’un statut de protection temporaire, des limites alternatives, des changements de gouvernance ou une organisation interne distincte. L’historique juridique, l’évolution des limites et la création du zonage interne constituent des dimensions indépendantes de segmentation temporelle au sein du schéma. Les dates issues des actes juridiques, des instruments de zonage ou des modifications de périmètre structurent conjointement la ligne de temps de chaque entité. Chaque intervalle ainsi généré est renseigné avec l’information la plus précise disponible pour la période considérée, tant au niveau de l’aire protégée que de ses zones internes lorsque celles-ci existent. Les limites externes sont modélisées comme un type de zone spécifique, ce qui permet de traiter de manière homogène le zonage interne et les contours extérieurs dans une logique spatiale unifiée.\nConcrètement, le jeu de données ne remplace pas la WDPA. Il est construit à partir de quatre composantes complémentaires, chacune ayant un rôle clairement défini :\nWDPA\nLe base de données mondial de polygones de la WDPA constitue le référentiel géospatial de référence décrivant l’état actualisé des aires protégées, structuré sous forme de base de données normalisée intégrant les limites spatiales, les attributs juridiques et les métadonnées associées à chaque entité..\nSAT – Spatial Amendment Table\nUne table d’amendements spatiaux contenant des périmètres historiques datés et des géométries de zonage interne qui ne sont pas inclus dans le référentiel WDPA, afin d’assurer la traçabilité des évolutions spatiales.\nFAT – Feature Amendment Table\nUne table d’amendements attributaires contenant des modifications juridiques et administratives datées, telles que des changements de statut de protection, des délégations de gestion, des désignations ou des modalités de gouvernance.\nCAR – Consolidation and Auditing Rules\nUn ensemble stable et transparent de règles de consolidation, exprimées sous forme de code lisible par des humains et reproductible, qui précisent comment la WDPA, la SAT et la FAT sont combinées, comment la segmentation temporelle est effectuée, et comment les règles de priorité entre sources sont appliquées et rendues auditables.\nPris ensemble, ces éléments permettent de produire une table d’états dynamiques dérivée, dans laquelle chaque aire protégée de la WDPA est représentée par une succession d’états délimités dans le temps. La WDPA fournit l’état courant par défaut, tandis que la SAT et la FAT n’interviennent que lorsque des informations datées explicites sont disponibles, entraînant un découpage de la chronologie et, le cas échéant, une modification de la géométrie, du statut juridique ou du zonage interne, conformément aux règles définies par la CAR. En l’absence de telles informations, les données de la WDPA sont simplement prolongées vers le passé ou vers le présent sans modification, selon des conventions documentées.\nLa base de données résultant demeure pleinement compatible avec les identifiants et la structure de la WDPA, tout en rendant explicites, reproductibles et vérifiables les hypothèses temporelles sous-jacentes. La contribution réside ainsi à la fois dans la publication de données complémentaires soigneusement construites sur les trajectoires juridiques et spatiales (SAT et FAT), et dans les procédures transparentes de consolidation et d’audit (CAR) qui permettent de transformer la WDPA en un jeu de données de conservation explicitement temporel, adapté aux analyses longitudinales et aux évaluations d’impact.\nOutre l’exploration AP par AP, ces données permettent de servir plusieurs cas d’usages.\n[Inclure un exemple sous chaque titre]",
    "crumbs": [
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Proposition technique</span>"
    ]
  },
  {
    "objectID": "09_technical_proposal_fr.html#fiabiliser-wdpa",
    "href": "09_technical_proposal_fr.html#fiabiliser-wdpa",
    "title": "10  Proposition technique",
    "section": "11.1 Fiabiliser WDPA",
    "text": "11.1 Fiabiliser WDPA\n\n11.1.1 Identifier et corriger des erreurs dans la base WDPA actuelle\n\nDates erronées ou absentes\nMauvais statut ou désignation\nPérimètres inexacts ou doublons\n\n\n\n11.1.2 Vérifier la robustesse d’études s’appuyant sur des bases WDPA passées\n\n\n11.1.3 Mesurer l’ampleur des améliorations apportées\n\nDisposer d’un indicateur valorisant l’effort de fiabilisation des données",
    "crumbs": [
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Proposition technique</span>"
    ]
  },
  {
    "objectID": "09_technical_proposal_fr.html#enrichir-wdpa",
    "href": "09_technical_proposal_fr.html#enrichir-wdpa",
    "title": "10  Proposition technique",
    "section": "11.2 Enrichir WDPA",
    "text": "11.2 Enrichir WDPA\n\n11.2.1 Histoire légale plus complexe : décrets temporaires et changements de statut\n\nIntégration des protections temporaires, absentes de la WDPA\nTraçabilité des reclassements ou abandons\n\n\n\n11.2.2 Changements de statuts\n\nPassage de réserve spéciale à parc national, ou inversement\nCas de statuts abrogés ou modifiés\n\n\n\n11.2.3 Périmètres internes aux aires protégées\n\nAjout de périmètres partiels ou d’extensions intermédiaires\nDocumentation des aires non encore spatialement représentées",
    "crumbs": [
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Proposition technique</span>"
    ]
  },
  {
    "objectID": "09_technical_proposal_fr.html#documenter-lhistorique-réglementaire-réel",
    "href": "09_technical_proposal_fr.html#documenter-lhistorique-réglementaire-réel",
    "title": "10  Proposition technique",
    "section": "11.3 Documenter l’historique réglementaire réel",
    "text": "11.3 Documenter l’historique réglementaire réel\n\n11.3.1 Restituer les étapes d’évolution d’une aire protégée\n\n\n11.3.2 Associer chaque polygone à une source réglementaire vérifiable\n\n\n11.3.3 Repérer les aires protégées documentées dans les textes mais absentes de WDPA",
    "crumbs": [
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Proposition technique</span>"
    ]
  },
  {
    "objectID": "10_references.html",
    "href": "10_references.html",
    "title": "Bibliographie",
    "section": "",
    "text": "Alonso, Leeanne E., and Thomas S. Schulenberg. 2002. Une évaluation\nbiologique de la Réserve naturelle intégrale d’Ankarafantsika,\nMadagascar =: A biological assessment of the Réserve naturelle intégrale\nd’Ankarafantsika, Madagascar. Washington, D.C: Conservation\nInternational.\n\n\nGoodman, Steven M., Marie Jeanne Raherilalao, Sébastien Wohlhauser, Jean\nClarck N. Rabenandrasana, Herivololona M. Rakotondratsimba, Fanja\nAndriamialisoa, and Malalarisoa Razafimpahanana. 2018. Les Aires\nProtégées Terrestres de Madagascar: Leur Histoire, Description Et\nBiote. Association Vahatra.\n\n\nSussman, Robert W., Alison F. Richard, Joelisoa Ratsirarson, Michelle L.\nSauther, Diane K. Brockman, Lisa Gould, Richard Lawler, and Frank P.\nCuozzo. 2012. “Beza Mahafaly Special Reserve:\nLong-Term Research on Lemurs in\nSouthwestern Madagascar.” In Long-Term\nField Studies of Primates, edited by Peter M.\nKappeler and David P. Watts, 45–66. Berlin, Heidelberg: Springer. https://doi.org/10.1007/978-3-642-22514-7_3.\n\n\nVieilledent, Ghislain, Marie Nourtier, Clovis Grinand, Miguel Pedrono,\nAlison Clausen, Tsiky Rabetrano, Jean-Roger Rakotoarijaona, et al. 2020.\n“It’s Not Just Poverty: Unregulated Global Market and Bad\nGovernance Explain Unceasing Deforestation in Western\nMadagascar.” BioRxiv, 2020–07.",
    "crumbs": [
      "Bibliographie"
    ]
  }
]